<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Page 14 | klion26</title>
  <meta name="author" content="klion26">
  
  <meta name="description" content="个人博客，记录自己成长的点点滴滴">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="klion26"/>

  
    <meta property="og:image" content="undefined"/>
  

  
    <link rel="alternative" href="/atom.xml" title="klion26" type="application/atom+xml">
  
  
    <link href="/favicon.png" rel="icon">
  

  <!-- CSS -->
  <link rel="stylesheet" href="/css/themes/bootstrap.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  



</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
	<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
       <a class="navbar-brand" href="/">klion26</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class="fa fa-folder"></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/resume" title="Resume">
			  <i class=""></i>Resume
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 <div class="page-header page-header-inverse ">
  <h1 class="title title-inverse ">klion26</h1>
</div>

<div class="row page">

	
	<div class="col-md-9">
	

		<div class="slogan">
      <i class="fa fa-heart"></i>
      做中学, 学中做
</div>    
		<div id="top_search"></div>
		<div class="mypage">
		
		<!-- title and entry -->
        <!-- render top articles firstly -->
        
        <!-- render other articles -->
        
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2011-04-08 </div>
			<div class="article-title"><a href="/2011/04/08/why-am-i-cancer/" >为何是我得癌症</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p><span style="color: #ff0000;">转载并不表示本人完全同意本文观点,只不过觉得这里面还是有很多东西值得我们关注.看官自己取舍</span><br>转自<a href="http://blog.sina.com.cn/s/blog_6662e2c70100pt52.html" target="_blank" rel="external">这里</a>,原文by于娟<br><span style="color: #444444;">于娟，女，32岁，祖籍山东济宁，海归，博士，复旦大学优秀青年教师，一个两岁孩子的母亲，乳腺癌晚期患者。</span><br>短短的几行字，是于娟的个人简介，而短短文字的后面，却是一个乐观坚强并相信奇迹的女儿、妻子和妈妈。<br>“人生最痛苦的事有三种：幼年丧母，中年丧妻，晚年丧子，如果我走了，我的父母、丈夫还有孩子，就会面临这些痛苦，所以我要坚强地活下去。”于娟说。<br>于娟博客<a href="http://blog.sina.com.cn/yujuanfudan" target="_blank" rel="external">http://blog.sina.com.cn/yujuanfudan</a><br>为啥是我得癌症？<br>病房里无论再热闹开心的场面，此言一出，气氛会在一秒钟内变得死寂凝重，一秒后，便有阿姨抽抽搭搭地暗自涕泪，有阿姨哭天喊痛骂老天瞎眼，有阿姨捶着胸指着天花板信誓旦旦平素没有做过亏心事为啥有如此报应。有几个病人算几个病人，没有一个能面对这个直捅心窝子的话题。<br>除了我。<br>我从来不去想这个问题，既然病患已然在身，恶毒诅咒也好，悔过自新也好，都不可能改变我是得了癌症的事实，更不可能瞬间把我的乳腺癌像转汇外币一样转到其他地方去。无能为力而又让我倍感伤怀的事情，我索性不去想。<br>时隔一年，几经生死，我可以坐在桌边打字，我觉得是我思考这个问题的时候了，客观科学，不带任何感情色彩地去分析总结一下，为啥是我得癌症。做这件事对我并无任何意义，但是对周围的人可能会起到防微杜渐的作用。我在癌症里整整挣扎了一年，人间极刑般的苦痛，身心已经摧残到无可摧残，我不想看到这件事在任何一个人身上发生，但凡是人，我都要去帮他们去避免，哪怕是我最为憎恨讨厌的人。<br>之所以去思考这个问题并且尽量想写下来是因为，无论从什么角度分析，我都不应该是患上癌症的那个人。<br>【1】<br>痛定思痛，我开始反思自己究竟哪点做得不好，所以上天给我开个如此大的玩笑，设个如此严峻的考验</p>
<p>一、习惯问题之饮食习惯<br>1、瞎吃八吃<br>我是个从来不会在餐桌上拒绝尝鲜的人。基于很多客观原因，比方老爹是厨子之类的优越条件，我吃过很多不该吃的东西，不完全统计，孔雀、海鸥、鲸鱼、河豚、梅花鹿、羚羊、熊、麋鹿、驯鹿、麂子、锦雉、野猪、五步蛇诸如此类不胜枚举。除了鲸鱼是在日本的时候超市自己买的，其他都是顺水推舟式的被请客。然而，我却必须深刻反省，这些东西都不该吃。尤其我看了《和谐拯救危机》之后。选择吃他们，剥夺他们的生命让我觉得罪孽深重。破坏世间的和谐、暴虐地去吃生灵、伤害自然毁灭生命这类的话就不说了，最最主要的是，说实话，这些所谓天物珍馐，味道确实确实非常一般。那个海鸥肉，高压锅4个小时的煮炖仍然硬的像石头，咬上去就像啃森林里的千年老藤，肉纤维好粗好干好硬，好不容易肯下去的一口塞在牙缝里搞了两天才搞出来。我们要相信我们聪明的祖先，几千年的智慧沉淀，他们筛选了悠长悠长的时候，远远长过我们寿命时间的无数倍，才最终锁定了我们现在的食材，并由此豢养。如果孔雀比鸡好吃，那么现在鸡就是孔雀，孔雀就是鸡。<br>2、暴饮暴食<br>我是个率性随意的人，做事讲究一剑在手快意恩仇，吃东西讲究大碗喝酒大口吃肉。我的食量闻名中外，在欧洲的时候导师动不动就请我去吃饭，原因是老太太没有胃口，看我吃饭吃得风卷残云很是过瘾，有我陪餐讲笑话她就有食欲。其二，我很贪吃。之所以叫bluemm是因为在复旦读书时候导师有六个一起做课题的研究生，我是唯一的女生。但是聚餐的时候，5个男生没有比我吃得多的。年轻的傻事就不说了，即便工作以后，仍然屏着腰痛（其实已经是晚期骨转移了）去参加院里组织的阳澄湖之旅，一天吃掉7个螃蟹。我最喜欢玩的手机游戏是贪吃蛇，虽然功夫很差。反思想想，无论你再灵巧机敏，贪吃的后果总是自食其果。玩来玩去，我竟然是那条吃到自己的贪食蛇。<br>3、嗜荤如命<br>得病之前，每逢吃饭若是桌上无荤，我会兴趣索然，那顿饭即便吃了很多也感觉没吃饭一样。我妈认为这种饮食嗜好，或者说饮食习惯，或者说遗传，都是怪我爹。我爹三十出头的年纪就是国家特一级厨师，90年代的时候，职称比现在难混，所以他在当地烹饪界有点名头。我初中时候，貌似当地三分之一的厨子是他的徒子徒孙，而认识他的人都知道我是他的掌上明珠。可想而知，我只要去饭店，就会被认识不认识叫我“师妹，师叔”的厨子带到厨房，可着劲地塞。那时候没有健康饮食一说，而且北方小城物质匮乏，荤食稀缺。我吃的都是荤菜。其二就是，我很喜欢吃海鲜。话说十二年前第一次去光头家，他家在舟山小岛上。一进家门，我首先被满桌的海鲜吸引，连他们家人的问题都言简意赅地打发掉，急吼吼开始进入餐桌战斗，瞬间我的面前堆起来一堆螃蟹贝壳山。公公婆婆微笑着面面相觑。我的战斗力惊人超过了大家的预算，导致婆婆在厨房洗碗的时候，差公公再去小菜场采购因为怕晚饭不够料了。十几年之后每次提到我的第一次见面，婆家人都会笑得直不起腰，问我怎么不顾及大家对你第一印象。我的言论是：我当然要本我示人，如果觉得我吃相不好就不让我当儿媳妇的公婆不要也罢，那么蹭一顿海鲜是一顿，吃到肚子里就是王道。我在这里写这些不是说吃海鲜不好，而是在反思为啥我多吃要得病：我是鲁西北的土孩子，不是海边出生海里长大的弄潮儿，一方水土养一方人，光头每日吃生虾生螃蟹没事，而我长期吃就会有这样那样的身体变化：嫁到海岛不等于我就成了渔民的体质。<br>话说我得了病之后，光头一个星期不到，考研突击一样看完了很多不知道哪里搞来的健康食疗书，比方坎贝尔的《中国健康调查报告》、《治愈癌症救命疗法》等等，引经据典，开始相信牛奶中的酪蛋白具有极强的促癌效果，以动物性食物为主的膳食会导致慢性疾病的发生（如肥胖、冠心病、肿瘤、骨质疏松等）；以植物性食物为主的膳食最有利于健康，也最能有效地预防和控制慢性疾病。即多吃粮食、蔬菜和水果，少吃鸡、鸭、鱼、肉、蛋、奶等。可怜躺在床上只能张嘴喂食的我，开始化疗那天开始就从老虎变成了兔子。事实证明，化疗期间去素食，简直是杀人。好在我那几十年打下的肉食基础，否则早挂了不知道多少次了。<br>话说生死经历换来的关于化疗时候应该吃什么的经验，我会有空写下来给大家分享，最好所有所有人一辈子都用不到，但是无论怎么说，像我这样切身体会的东西需要让需要的人知道，免得像我这样走弯路。<br>【2】<br>第二部分 睡眠习惯<br>这些文字不像我平时行文blog想到哪里写到哪里所以我写这个系列很慢很慢，因为我自认为这些文字比我的博士论文更有价值，比我发表的所有学术文章有读者。我要尽可能控制自己不要下笔千言离题万里之外，还要系统认真地前后回想分析一遍。现在这个社会上，太多年轻人莫名其妙得了癌症，或者莫名其妙过劳死，而得到的原因往往是所谓的专家或者周围人分析出来的。因为当事人得了这种病，苟活世间的时间很短，没有心思也没有能力去行长文告诫世间男女，过劳死的更不可能跳起来说明原因再躺回棺材去。我作为一个复旦的青年教师，有责任有义务去做我能做的事，让周围活着的人更好的活下去，否则，刚读了个博士学位就有癌症晚期，翘了还不是保家卫国壮烈牺牲的，这样无异于鸿毛。写这些文字，哪怕一个人收益，我也会让自己觉得，还有点价值。我平时的习惯是晚睡。其实晚睡在我这个年纪不算什么大事，也不会晚睡晚出癌症。我认识的所有人都晚睡，身体都不错，但是晚睡的确非常不好。回想十年来，自从没有了本科宿舍的熄灯管束（其实那个时候我也经常晚睡），我基本上没有12点之前睡过。学习、考GT之类现在看来毫无价值的证书、考研是堂而皇之的理由，与此同时，聊天、网聊、BBS灌水、蹦迪、吃饭、K歌、保龄球、吃饭、一个人发呆（号称思考）填充了没有堂而皇之理由的每个夜晚。厉害的时候通宵熬夜，平时的早睡也基本上在夜里1点前。后来我生了癌症，开始自学中医，看黄帝内经之类。就此引用一段话：<br>    下午5–7点酉时 肾经当令<br>    晚上7–9点戌时 心包经当令<br>    9-11点亥时 三焦经当令<br>    11-1点子时 胆经当令<br>    凌晨1–3点丑时 肝经当令<br>    3–5点寅时 肺经当令<br>    5–7点卯时 大肠经当令<br>当令是当值的意思。也就是说这些个时间，是这些器官起了主要的作用。从养生的观点出发，人体不能在这些时候干扰这些器官工作。休息，可以防止身体分配人体的气血给无用的劳动，那么所有的气血就可以集中精力帮助当令肝脏工作了。<br>长期以往，熬夜，或者晚睡，对身体是很没有好处的。我的肝有几个指标在查出癌症的时候偏高，但是我此前没有任何肝脏问题。我非常奇怪并且急于搞明白为什么我的肝功能有点小问题，因为肝功能不好不能继续化疗的。不久以后我查到了下面一段话：<br>（以下一段话摘自<a href="http://www.chinanews.com/jk/jk-jbcs/news/2010/03-18/2177196.shtml" target="_blank" rel="external">http://www.chinanews.com/jk/jk-jbcs/news/2010/03-18/2177196.shtml</a>）<br>中国医科大学附属盛京医院感染科主任窦晓光介绍，熬夜直接危害肝脏。熬夜时，人体中的血液都供给了脑部，内脏供血就会相应减少，导致肝脏乏氧，长此以往，就会对肝脏造成损害。<br>23时至次日3时，是肝脏活动能力最强的时段，也是肝脏最佳的排毒时期，如果肝脏功能得不到休息，会引起肝脏血流相对不足，已受损的肝细胞难以修复并加剧恶化。而肝脏是人体最大的代谢器官，肝脏受损足以损害全身。所以，“长期熬夜等于慢性自杀”的说法并不夸张。因此，医生建议人们从 23时左右开始上床睡觉，次日1至3时进入深睡眠状态，好好地养足肝血。<br>得病之后我安生了，说实话，客观情况是我基本失去了自理能力，喝水都只能仰着脖子要吸管，更不要说熬夜蹦迪。因此我每天都很早睡觉，然后每天开始吃绿豆水、吃天然维生素B、吃杂粮粥。然后非常神奇的是，别的病友化疗会肝功能越来越差，我居然养好了，第二次化疗，肝功能完全恢复正常了。<br>希望此段文字，对需要帮助的人有所贡献。也真心希望我的朋友们，相信千里之堤毁于蚁穴这句古话。我们是现代人，不可能脱离社会发展的轨迹和现代的生活节奏以及身边的干扰，那么，在能控制的时候多控制，在能早睡的时候尽量善待下自己的身体。有些事情，电影也好、BBS也好、K歌也好，想想无非感官享受，过了那一刻，都是浮云。唯一踩在地上的，是你健康的身体。<br>【3】<br>第三部分突击作业<br>这一部分，我不知道算作作息习惯还是工作习惯。<br>说来不知道骄傲还是惭愧，站在脆弱的人生边缘，回首滚滚烽烟的三十岁前半生，我发觉自己居然花了二十多年读书，读书二字，其意深妙。只有本人才知道到底从中所获多少。<br>也许只有我自己知道我是顶着读书的名头，大把挥霍自己的青春与生命。因为相当长一段时间我是著名的不折不扣2W女。所谓2w女是指只有在考试前2周才会认真学习的女生：2 eeks。同时，考出的成绩也是too weak。<br>各类大考小考，各类从业考试，各类资格考试（除了高考，考研和GT），可能我准备时间都不会长于两个星期。不要认为我是聪明的孩子，更不要以为我是在炫耀自己的聪明，我只是在真实描述自己一种曾真实存在的人生。我是自控力不强的人，是争强好胜自控力不强的人，是争强好胜决不认输自控力不强的人。即便在开学伊始我就清楚明确地知道自己应该好好读书否则可能哪门哪门考试就挂了，但是我仍然不能把自己钉死在书桌前。年轻的日子就是这点好，从来不愁日子过得慢。不知道忙什么，就好似一下子醒来，发现已经九点了要上班迟到了一样。每当我想起来好好学习的时候，差不多就离考试也就两个星期了。我此前经常的口头禅是：不到dealine是激发不出我的学习热情的。<br>然后我开始突击作业，为的是求一个连聪明人日日努力才能期盼到的好结果好成绩。所以每当我埋头苦学的时候，我会下死本地折腾自己，从来不去考虑身体、健康之类的词，我只是把自己当牲口一样，快马加鞭马不停蹄日夜兼程废寝忘食呕心沥血苦不堪言。。。。。最高纪录一天看21个小时的书，看了两天半去考试。<br>这还不算，我会时不时找点事给自己，人家考个期货资格，我想考，人家考个CFA,我想考，人家考个律考，我想考。。。。想考是好事，但是每次想了以后就忘记了，买了书报了名，除非别人提醒，我会全然忘记自己曾有这个追求的念头，等到考试还有一两个星期，我才幡然醒悟，又吝啬那些报名费考试费书本费，于是只能硬着头皮去拼命。每次拼命每次脱层皮，光头每次看我瘦了，就说，哈哈，你又去考了什么没用的证书？<br>然而，我不是冯衡（黄蓉的妈，黄老邪的老婆），即便我是冯衡，有过目不忘的本事，到头来冯衡强记一本书都也呕心沥血累死了。何况天资本来就不聪明的我？<br>我不知道我强记了多少本书，当然开始那些书都比九阴真经要简单，然而长此以往，级别越读越高，那些书对我来说就变得像九阴真经一样难懂。于是我每一轮考试前的两个星期强记下来，都很伤，伤到必定要埋头大睡两三天才能缓过力气。本科时候考试是体能，然而到后来考试是拼心血拼精力。<br>得病后光头和我反思之前的种种错误，认为我从来做事不细水长流，而惯常的如男人一样大力抡大斧地高强度突击作业是伤害我身体免疫机能的首犯。他的比喻是：一辆平时就跌跌撞撞一直不保修的破车，一踩油门就彻天彻夜地疯跑疯开半个月。一年搞个四五次，就是钢筋铁打的汽车，被这么折腾得开，开个二十几年也报废了。<br>深切提醒像我曾经那样在dealine之前突击作业的同志们。<br>【4】<br>第四部分 环境问题<br>打下这几个字，犹如土豆背得那句诗：拔剑四顾心茫然。这个问题实在太大了，大到我不知道如何去分析，哪怕具体到我自身。然而，若是我不去思考与分析，怕是很多人都难能分析：我在挪威毕竟是学环境经济学的科班出身，这件事在光头的身上更极具讽刺，他的科研方向是环境治理和环保材料的研发。<br>我是个大而化之的生活粗人，从来没有抱怨过周边的环境多么糟糕，01年去日本北海道附近呆了段时间，是佩服那里环境不错，但是却也真没有嫌弃上海多糟糕。 04年的时候听到一个岗布（一个日本人）抱怨下了飞机觉得喉咙痛的时候非常嗤之以鼻，心里暗暗说：我们这里环境那么糟糕，你还来干啥？不如折身原班回去！<br>我真正体会到空气污染是07年从挪威回国，在北京下飞机的那一瞬间，突然感觉眼睛很酸，喉咙发堵，岗布的话犹然在耳。也许，日本鬼子不是故意羞辱我们日新月异的上海。我们一直生活在这样的环境里当然不敏感，但是若是跑去一个环境清新的地方住上若干年，便深有体会。同期回国的有若干好友，我们在电话里七嘴八舌交流我们似乎真的不适应中国国情了：喉咙干，空气呛、超市吵、街上横冲直撞到处是车。这不是矫情，这是事实。这也不是牢骚，这是发自内心的感受。<br>回国半年，我和芳芳阿蒙等无一例外地病倒，不是感冒就是发烧就是有个啥啥啥小手术，光头嘲笑我们，是挪威那个地儿太干净了，像无菌实验室，一帮中国小耗子关到里面几年再放回原有环境，身体里的免疫系统和抗体都不能抵御实验室以外的病菌侵入。是，我不多的回国朋友里面，除了我，梅森得了胸腺癌，甘霖得了血方面的病。<br>也许，这只是牢骚。除非国民觉醒，否则我们无力改变这个事实、这个环境、这个国情。网络上查一下，就会有触目惊心的数据：现在公布的数据说癌症总的发病率在 180/10 万左右 , 也就是每 10 万人中有 180 个人患癌症。（以下文字摘自<a href="http://www.china.com/" target="_blank" rel="external">http://www.china.com</a> cn/info/2009-12/13/content_19056331.htm）中国癌症发病率最高的城市：上海。据统计，上海癌症发病率1980年比1963年增加了一倍，超过北京、天津的25%，为全国城市第一位。而上海市疾病预防控制中心癌症监测数据显示，上海市区女性的癌症发病率比20年前上升了近一倍，每100名上海女性中就有一人是癌症患者，也远高于我国其他城市。<br>也许我看这段文字和大家不同，因为我更加知道每个代表病人的数据背后，都是一个个即将离开人世的生命和撕心裂肺不再完整的家。<br>我并不是说，大上海的污染让我得了癌症，而是自我感觉，这可能是我诸多癌症成因的一个因素：我不该毫无过渡时间地从一个无菌实验室出来，就玩命地赶论文，在周边空气污染、水污染和食品安全危机的大环境里，免疫力全线下降的时候压力过大用力过猛，加上长期积累的东西一下子全部爆发了。<br>【5】<br>话说十年前，本科和研究生我有一年的非校园空档，这一年里我工作、考研和去日本。除却日本之旅，我都住在浦东一间亲戚的新房里。新房新装修，新家具。开始新房有点味道，我颇有环保意识地避开了两个月回了山东。等从山东回来，看房间味道散去，我也心安理得住了进去。<br>07年房子处理，光头怜惜那些基本没有怎么用过的家具，当些个宝贝似得千里迢迢从浦东拉到了闵行研发中心用。哪里想到，09年他开始研究除甲醛的纳米活性炭，有次偶尔做实验的时候，打开了甲醛测试仪，甲醛测试仪开始变得不正常，一般来讲高于0.08已然对身体有危险，而屏幕上的指数是0.87。清查罪魁祸首的时候，东西一样样清除，一样样扔出研发实验室检测，最后，把也家具扔出院子测，结果是，那些家具的检测指数犹如晴天霹雳。光头立刻石化。然而为时已晚，事隔半年，我查出了乳腺癌，医生对光头说开始癌症的普及教育令光头时不时脑袋里灵光里一直在闪出那套家具和那批令他愤恨的甲醛超标数据，医生说：肿瘤的肿块不是容易形成的，癌症的发生需要一个长期的、渐进的过程，要经历多个阶段。从正常细胞到演变成癌细胞，再到形成肿瘤，通常需要10～20 年，甚至更长。当危险因素对机体的防御体系损害严重，机体修复能力降低，细胞内基因变异累积至一定程度，癌症才能发生。癌症发生的多个阶段为：正常细胞→ 轻度不典型增生(分化障碍)→中度不典型增生→重度不典型增生(原位癌)→早期癌(黏膜内癌)→浸润癌→转移癌。从自然病程来看，即使过去被称为“癌中之王”的肝细胞癌，从发现到死亡也有3～6个月的生存时间。而据估计，从癌变开始（以甲胎蛋白－即AFP开始低水平升高算起）发展到晚期，有至少2年时间；从单个癌细胞发展到AFP升高的实际时间还要长得多；乳腺癌在临床发现肿块前，平均隐匿时间为12年（6～20年），确诊以后的自然病程也有 26.5～39.5个月。<br>也就是说，我的乳腺癌很有可能是当时那批家具种下的种子，那些癌细胞经历了漫长的等待，伺机等待我体内免疫力防线有所溃泻的时候奋起反攻。<br>光头无语，我亦无言。这是要命的疏忽，然而，谁能想得到呢？<br>一日在病房，夜里聊天，我和光头不约而同讲到这些家具，我感慨防不胜防的同时开玩笑：说不定你那个国家专利日后卖得很火，记者会专门报道你：甲醛家具残害爱妻毙命，交大教授毕生创发明复仇之类。哪里想到光头歇斯底里哑着喉咙叫：“我宁可他妈的一辈子碌碌无为，也不想见到这种话从任何人嘴里说出来。”我突然意识到：我这句话对他的内心来说不是玩笑，而是天大的讽刺。一个终年埋头在实验室发明了除甲醛新材料的人，从来没有意识到自己的爱人却经年累月浸泡在甲醛超标的环境里，最终得了绝症。<br>【6】<br>我曾在rj医院断断续续住院长达半年之久，半年之内接触了大概三五十多个病友。开始住院那阵儿癌痛难忍本命不顾，后来不是那么痛了，就开始在病房聊天。<br>我读了两个硕士一个博士的课程，修社会统计、社会调查两门课不知道重复修了多少遍。幼功难废故伎不弃，自觉不自觉的病房聊天里，我就会像个社调人员一样，以专业且缜密的思维开始旁敲侧击问一些问题：这是自发的科研行为，因为我一直想搞明白，到底是什么样的人会得癌症。有时候问道兴头上甚至觉得自己就是一个潜伏在癌症病房里的青年研究学者。然而无比讽刺的是，现实是我是一个潜伏在青年研究学者中的癌症患者。长期潜伏的样本抽样（n&gt;50）让我有足够的自信去推翻一个有关乳腺癌患者性格的长期定论，乳腺癌患者并不一定是历经长期抑郁的。可以肯定的说，乳腺癌病人里性格内向阴郁的太少太少：相反，太多的人都有重控制、重权欲、争强好胜、急躁、外向的性格倾向。而且这些样本病人都有极为相似的家庭经济背景：她们中很多人都有家庭企业，无论是家里还是厂里，老公像皇帝身边的答应，她们一朝称帝，自己说了算。家庭经济背景其实并不能说明什么，因为来瑞金治病的人，尤其是外地人，没有强有力的经济背景，是不太会在那医院久住长治的。<br>身边病友的性格特色不禁让我开始反思自己的性格。我很喜欢自己的性格，即便有次酒桌上被一个哥们半开玩笑地说上辈子肯定是个山东女响马也好不以为然。我从来不认为有什么不好，后来生病才不得不承认，自己的性格不好：我太过喜欢争强好胜，太过喜欢凡事做到最好，太过喜欢统领大局，太过喜欢操心，太过不甘心碌碌无为。<br>简而言之 ，是我之前看不穿。<br>我曾经试图像圆圆三年搞定两个学位一样，三年半同时搞定一个挪威硕士、一个复旦博士学位。然而博士始终并不是硕士，我拼命日夜兼程，最终没有完成给自己设定的目标，自己恼怒得要死。现在想想就是拼命拼得累死，到头来赶来赶去也只是早一年毕业。可是，地球上哪个人会在乎我早一年还是晚一年博士毕业呢？<br>我曾经试图做个优秀的女学者。虽然我极不擅长科研，但是既然走了科研的路子就要有个样子。我曾经的野心是两三年搞个副教授来做做，于是开始玩命想发文章搞课题，虽然我非常地迷茫实现了做副教授的目标下面该干什么，不过当下我想如果有哪天像我这样吊儿郎当的人都做了教授，我会感到对中国的教育体制很失落。当然，我非常肯定一定地负责地说，我认识的一些垃圾无论科研能力和人品道德还真不如我。不说这些了，为了一个不知道是不是自己人生目标的事情扑了命上去拼，不能不说是一个傻子干得傻事。得了病我才知道，人应该把快乐建立在可持续的长久人生目标上，而不应该只是去看短暂的名利权情。<br>我天生没有料理家务的本事，然而我却喜欢操心张罗。尤其养了土豆当了妈之后心思一下子缜密得像mintmm了，无意中成了家里的CPU，什么东西放在什么地方，什么时间应该什么做什么事情，应该找什么人去安排什么事情统统都是我处理决断。病前一个月搬家，光头梦游一样一无所知，感概怎么前一夜和后一夜会睡在不同的地方。后来病了，我才突然那发现光头并不是如我想象的那样是个上辈子就丧失了料理日常生活的书呆子。离开我地球照转，我啥都没管，他和土豆都能活得好好的。无非，是多花了几两银子而已。可是银子说穿了也只是银子，CPI上涨，通货膨胀，我就是一颗心操碎了，三十年后能省下多少呢？假如爹妈三十年前有一万块，基本上可以堪比现在的千万富翁身价，可是实际上现在的一万块钱还买不了当年500块钱的东西。<br>生不如死九死一生死里逃生死死生生之后，我突然觉得，一生轻松。不想去控制大局小局，不想去多管闲事淡事，我不再有对手，不再有敌人，我也不再关心谁比谁强，课题也好、任务也罢暂且放着。世间的一切，隔岸看花、风淡云清。</p>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2011-04-07 </div>
			<div class="article-title"><a href="/2011/04/07/usaco-5-2-2-electric-fences/" >USACO 5.2.2 Electric Fences</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p><a href="http://www.nocow.cn/index.php/Translate:USACO/fence3" target="_blank" rel="external">中文题意</a><br>这题首先是精读要求不高,只需要输出1位小数,然后范围不大,坐标是0-100.线段条数是150.我一开始想暴力搞,可是死在第7组上.死活过不了.然后去学校的群里问,热心人很多,不过没解决问题.在这里还是要感谢下他们的.然后去各大群里问,最囧的是很多人把线段看成直线,然后说”X和Y分开搞,然后不是显然么”,知道是线段后就说出了各种自己的方法,一开始我问了czw.他说可以模拟退火搞,那个时候我不知道模拟退火的一些细节,就没去试.后来在DIY群里,各大神牛说这数据,模拟退火肯定可搞.就试着去搞了下,发现模拟退火还是比较好写的,不过我总想着它不靠谱,总觉得可能不对,总想着会在中间某一步进入死胡同…..不过看了一些论文之后才有那么一点点感觉,反正是个RP问题[我还是顽固的这么认为],那么就拼拼RP吧.下面是官方的题解.也是模拟退火,不过个人觉得这个还是比较靠谱的.具体的模拟退火还是自己搜吧,大致过程就是不断的在当前最优点的领域节点中找一个最优点</p>
<div class="source" style="color: #f5deb3; font-family: 'Courier New','Lucida Console','monospace'; background-color: #2f4f4f;"><span style="color: #da70d6;">/<em></em></span><br><span style="color: #da70d6;">/</span><br><span style="color: #eeee00;">#include <stdio.h></stdio.h></span><br><span style="color: #eeee00;">#include <math.h></math.h></span><br><br><span style="color: #eeee00;">#define FMAX 135</span><br><span style="color: #eeee00;">#define MOVES 50</span><br><span style="color: #eeee00;">#define IMAX 4</span><br><br><span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;">numfence</span><br><span style="font-weight: bold; color: #98fb98;">FILE</span> <span style="color: #f5deb3;"><em></em></span><span style="font-weight: bold; color: #98fb98;">int</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">out</span><br><span style="font-weight: bold; color: #b0c4de;">struct</span> <span style="color: #f5deb3;">fence</span><br><span style="font-weight: bold; color: #98fb98;">double</span> <span style="color: #f5deb3;">totaldist</span>(<span style="font-weight: bold; color: #98fb98;">double</span> <span style="color: #f5deb3;">,</span><span style="font-weight: bold; color: #98fb98;">double</span>);<br><span style="font-weight: bold; color: #98fb98;">void</span> <span style="color: #f5deb3;">swap</span>(<span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;"></span><span style="color: #f5deb3;">,</span><span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;">&amp;</span>);<br><br><span style="font-weight: bold; color: #b0c4de;">struct</span> <span style="color: #f5deb3;">fence</span><br><span style="color: #f5deb3;">{</span><br>    <span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;">minx</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">maxx</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">miny</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">maxy</span><br>    <span style="font-weight: bold; color: #98fb98;">void</span> <span style="color: #ffffff;">setvals</span>()<br>        <span style="color: #f5deb3;">{</span><br>            <span style="color: #f5deb3;">fscanf</span>(<span style="color: #f5deb3;">in</span><span style="color: #f5deb3;">,</span><span style="color: #7fffd4;">“%d%d%d%d”</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">minx</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">&amp;</span><span style="color: #f5deb3;">miny</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">&amp;</span><span style="color: #f5deb3;">maxx</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">&amp;</span><span style="color: #f5deb3;">maxy</span>);<br>            <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #f5deb3;">minx</span><span style="color: #f5deb3;">&gt;</span><span style="color: #f5deb3;">maxx</span>)<br>                <span style="color: #f5deb3;">swap</span>(<span style="color: #f5deb3;">minx</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">maxx</span>);<br>            <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #f5deb3;">miny</span><span style="color: #f5deb3;">&gt;</span><span style="color: #f5deb3;">maxy</span>)<br>                <span style="color: #f5deb3;">swap</span>(<span style="color: #f5deb3;">miny</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">maxy</span>);<br>        <span style="color: #f5deb3;">}</span><br><span style="color: #f5deb3;">}</span><span style="color: #f5deb3;">feces</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">FMAX</span><span style="color: #f5deb3;">];</span><br><br><span style="font-weight: bold; color: #98fb98;">double</span> <span style="color: #ffffff;">totaldist</span>(<span style="font-weight: bold; color: #98fb98;">double</span> <span style="color: #f5deb3;">x</span><span style="color: #f5deb3;">,</span><span style="font-weight: bold; color: #98fb98;">double</span> <span style="color: #f5deb3;">y</span>)<br><span style="color: #f5deb3;">{</span><br>        <span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;">a</span><br>        <span style="font-weight: bold; color: #98fb98;">double</span> <span style="color: #f5deb3;">ans</span><span style="color: #f5deb3;">=</span><span style="color: #add8e6;">0</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">xdiff</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">ydiff</span><br>        <span style="font-weight: bold; color: #b0c4de;">for</span>(<span style="color: #f5deb3;">a</span><span style="color: #f5deb3;">=</span><span style="color: #add8e6;">0</span><span style="color: #f5deb3;">a</span><span style="color: #f5deb3;">&lt;</span><span style="color: #f5deb3;">numfence</span>;<span style="color: #f5deb3;">a</span><span style="color: #f5deb3;">++</span>)<br>            <span style="color: #f5deb3;">{</span><br>                <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #f5deb3;">fences</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">a</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">minx</span> <span style="color: #f5deb3;">&gt;</span> <span style="color: #f5deb3;">x</span>)<br>                    <span style="color: #f5deb3;">xdiff</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">fences</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">a</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">minx</span><span style="color: #f5deb3;">-</span><span style="color: #f5deb3;">x</span><br>                <span style="font-weight: bold; color: #b0c4de;">else</span><br>                    <span style="color: #f5deb3;">{</span><br>                        <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #f5deb3;">fences</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">a</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">maxx</span><span style="color: #f5deb3;">&lt;</span><span style="color: #f5deb3;">x</span>)<br>                            <span style="color: #f5deb3;">xdiff</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">x</span><span style="color: #f5deb3;">-</span><span style="color: #f5deb3;">fences</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">a</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">maxx</span><br>                        <span style="font-weight: bold; color: #b0c4de;">else</span><br>                            <span style="color: #f5deb3;">xdiff</span><span style="color: #f5deb3;">=</span><span style="color: #add8e6;">0</span><br>                    <span style="color: #f5deb3;">}</span><br>                <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #f5deb3;">fences</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">a</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">miny</span><span style="color: #f5deb3;">&gt;</span><span style="color: #f5deb3;">y</span>)<br>                    <span style="color: #f5deb3;">ydiff</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">fences</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">a</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">miny</span><span style="color: #f5deb3;">-</span><span style="color: #f5deb3;">y</span><br>                <span style="font-weight: bold; color: #b0c4de;">else</span><br>                    <span style="color: #f5deb3;">{</span><br>                        <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #f5deb3;">fences</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">a</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">maxy</span><span style="color: #f5deb3;">&lt;</span><span style="color: #f5deb3;">y</span>)<br>                            <span style="color: #f5deb3;">ydiff</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">y</span><span style="color: #f5deb3;">-</span><span style="color: #f5deb3;">fences</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">a</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">maxy</span><br>                        <span style="font-weight: bold; color: #b0c4de;">else</span><br>                            <span style="color: #f5deb3;">ydiff</span><span style="color: #f5deb3;">=</span><span style="color: #add8e6;">0</span><br>                    <span style="color: #f5deb3;">}</span><br>                <span style="color: #f5deb3;">answer</span> <span style="color: #f5deb3;">+=</span> <span style="color: #f5deb3;">sqrt</span>(<span style="color: #f5deb3;">xdiff</span><span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">xdiff</span> <span style="color: #f5deb3;">+</span> <span style="color: #f5deb3;">ydiff</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">ydiff</span>);<br>            <span style="color: #f5deb3;">}</span><br>        <span style="font-weight: bold; color: #b0c4de;">return</span> <span style="color: #f5deb3;">answer</span><br><span style="color: #f5deb3;">}</span><br><span style="font-weight: bold; color: #98fb98;">void</span> <span style="color: #ffffff;">swap</span>(<span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;"></span><span style="color: #f5deb3;">a</span><span style="color: #f5deb3;">,</span><span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;">&amp;</span>b)<br><span style="color: #f5deb3;">{</span><br>    <span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;">tmp</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">a</span><br>    <span style="color: #f5deb3;">a</span><span style="color: #f5deb3;">=</span>b;<br>    b<span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">tmp</span><br><span style="color: #f5deb3;">}</span><br><br><span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #ffffff;">main</span>(<span style="font-weight: bold; color: #98fb98;">void</span>)<br><span style="color: #f5deb3;">{</span><br>    <span style="color: #f5deb3;">in</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">fopen</span>(<span style="color: #7fffd4;">“fence3.in”</span><span style="color: #f5deb3;">,</span><span style="color: #7fffd4;">“r”</span>);<br>    <span style="color: #f5deb3;">out</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">fopen</span>(<span style="color: #7fffd4;">“fence3.out”</span><span style="color: #f5deb3;">,</span><span style="color: #7fffd4;">“w”</span>);<br>    <span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;">a</span><span style="color: #f5deb3;">,</span>b<span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">c</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">best</span><br>    <span style="font-weight: bold; color: #98fb98;">double</span> <span style="color: #f5deb3;">elecx</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">elecy</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">xchange</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">ychange</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">tsum</span><br>    <span style="font-weight: bold; color: #98fb98;">double</span> <span style="color: #f5deb3;">bestsum</span><span style="color: #f5deb3;">=</span><span style="color: #add8e6;">100000.0</span><br>    <span style="font-weight: bold; color: #98fb98;">double</span> <span style="color: #f5deb3;">xinc</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">IMAX</span><span style="color: #f5deb3;">],</span><span style="color: #f5deb3;">yinc</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">IMAx</span><span style="color: #f5deb3;">],</span><span style="color: #f5deb3;">pi</span><br>    <span style="color: #f5deb3;">pi</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">acos</span>(<span style="color: #f5deb3;">-</span><span style="color: #add8e6;">1.0</span>);<br>    <span style="font-weight: bold; color: #b0c4de;">for</span>(<span style="color: #f5deb3;">a</span><span style="color: #f5deb3;">=</span><span style="color: #add8e6;">0</span><span style="color: #f5deb3;">a</span> <span style="color: #f5deb3;">&lt;</span> <span style="color: #f5deb3;">IMAX</span>;<span style="color: #f5deb3;">a</span><span style="color: #f5deb3;">++</span>)<br>        <span style="color: #f5deb3;">{</span><br>            <span style="color: #f5deb3;">xinc</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">a</span><span style="color: #f5deb3;">]</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">cos</span>(<span style="color: #add8e6;">2</span><span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">pi</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">a</span><span style="color: #f5deb3;">/</span><span style="color: #f5deb3;">IMAX</span>);<br>            <span style="color: #f5deb3;">yinc</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">a</span><span style="color: #f5deb3;">]</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">sin</span>(<span style="color: #add8e6;">2</span><span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">pi</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">a</span><span style="color: #f5deb3;">/</span><span style="color: #f5deb3;">IMAX</span>);<br>        <span style="color: #f5deb3;">}</span><br>    <span style="color: #f5deb3;">fscanf</span>(<span style="color: #f5deb3;">in</span><span style="color: #f5deb3;">,</span><span style="color: #7fffd4;">“%d”</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">numfence</span>);<br>    <span style="font-weight: bold; color: #b0c4de;">for</span>(<span style="color: #f5deb3;">a</span><span style="color: #f5deb3;">=</span><span style="color: #add8e6;">0</span><span style="color: #f5deb3;">a</span><span style="color: #f5deb3;">&lt;</span><span style="color: #f5deb3;">numfence</span>;<span style="color: #f5deb3;">a</span><span style="color: #f5deb3;">++</span>)<br>        <span style="color: #f5deb3;">fences</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">a</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">setvals</span>();<br>    <span style="color: #f5deb3;">elecx</span><span style="color: #f5deb3;">=</span><span style="color: #add8e6;">0</span><br>    <span style="color: #f5deb3;">elecy</span><span style="color: #f5deb3;">=</span><span style="color: #add8e6;">0</span><br>    <span style="color: #f5deb3;">xchange</span><span style="color: #f5deb3;">=</span><span style="color: #add8e6;">20</span><br>    <span style="color: #f5deb3;">ychange</span><span style="color: #f5deb3;">=</span><span style="color: #add8e6;">20</span><br>    <span style="color: #f5deb3;">bestsum</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">totaldist</span>(<span style="color: #f5deb3;">elecx</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">elecy</span>);<br>    <span style="font-weight: bold; color: #b0c4de;">for</span>(b<span style="color: #f5deb3;">=</span><span style="color: #add8e6;">1</span>b<span style="color: #f5deb3;">&lt;=</span><span style="color: #f5deb3;">MOVES</span>;b<span style="color: #f5deb3;">++</span>)<br>        <span style="color: #f5deb3;">{</span><br>            <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #add8e6;">0</span><span style="color: #f5deb3;">==</span>b<span style="color: #f5deb3;">%</span><span style="color: #add8e6;">10</span>)<br>                <span style="color: #f5deb3;">{</span><br>                    <span style="color: #f5deb3;">ychange</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">ychange</span><span style="color: #f5deb3;"><em></em></span><span style="color: #add8e6;">0.1</span><br>                    <span style="color: #f5deb3;">xchange</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">xchange</span><span style="color: #f5deb3;"></span><span style="color: #add8e6;">0.1</span><br>                <span style="color: #f5deb3;">}</span><br>            <span style="color: #f5deb3;">best</span><span style="color: #f5deb3;">=-</span><span style="color: #add8e6;">1</span><br>            <span style="font-weight: bold; color: #b0c4de;">for</span>(<span style="color: #f5deb3;">c</span><span style="color: #f5deb3;">=</span><span style="color: #add8e6;">0</span><span style="color: #f5deb3;">c</span><span style="color: #f5deb3;">&lt;</span><span style="color: #f5deb3;">IMAX</span>;<span style="color: #f5deb3;">c</span><span style="color: #f5deb3;">++</span>)<br>                <span style="color: #f5deb3;">{</span><br>                    <span style="color: #f5deb3;">elecx</span> <span style="color: #f5deb3;">+=</span> <span style="color: #f5deb3;">xchange</span><span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">xinc</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">c</span><span style="color: #f5deb3;">];</span><br>                    <span style="color: #f5deb3;">elecy</span> <span style="color: #f5deb3;">+=</span> <span style="color: #f5deb3;">xchange</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">yinc</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">c</span><span style="color: #f5deb3;">];</span><br>                    <span style="color: #f5deb3;">tsum</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">totaldist</span>(<span style="color: #f5deb3;">elecx</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">elecy</span>);<br>                    <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #f5deb3;">tsum</span><span style="color: #f5deb3;">&lt;</span><span style="color: #f5deb3;">bestsum</span>)<br>                        <span style="color: #f5deb3;">{</span><br>                            <span style="color: #f5deb3;">bestsum</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">tsum</span><br>                            <span style="color: #f5deb3;">best</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">c</span><br>                        <span style="color: #f5deb3;">}</span><br>                    <span style="color: #f5deb3;">elecx</span> <span style="color: #f5deb3;">-=</span> <span style="color: #f5deb3;">xchange</span><span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">xinc</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">c</span><span style="color: #f5deb3;">];</span><br>                    <span style="color: #f5deb3;">elecy</span> <span style="color: #f5deb3;">-=</span> <span style="color: #f5deb3;">ychange</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">yinc</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">c</span><span style="color: #f5deb3;">];</span><br>                <span style="color: #f5deb3;">}</span><br>            <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #f5deb3;">-</span><span style="color: #add8e6;">1</span> <span style="color: #f5deb3;">!=</span> <span style="color: #f5deb3;">best</span>)<br>                <span style="color: #f5deb3;">{</span><br>                    <span style="color: #f5deb3;">elecx</span> <span style="color: #f5deb3;">+=</span> <span style="color: #f5deb3;">xchange</span><span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">xinc</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">best</span><span style="color: #f5deb3;">];</span><br>                    <span style="color: #f5deb3;">elecy</span> <span style="color: #f5deb3;">+=</span> <span style="color: #f5deb3;">ychange</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">yinc</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">best</span><span style="color: #f5deb3;">];</span><br>                <span style="color: #f5deb3;">}</span><br>            <span style="color: #f5deb3;">bestsum</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">totaldist</span>(<span style="color: #f5deb3;">elecx</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">elecy</span>);<br>        <span style="color: #f5deb3;">}</span><br>    <span style="color: #f5deb3;">fprintf</span>(<span style="color: #f5deb3;">out</span><span style="color: #f5deb3;">,</span><span style="color: #7fffd4;">“%.1f %.1f %.1f</span><span style="color: #7fffd4;">\n</span><span style="color: #7fffd4;">“</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">elecx</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">elecy</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">bestsum</span>);<br>    <span style="font-weight: bold; color: #b0c4de;">return</span> <span style="color: #add8e6;">0</span><br><span style="color: #f5deb3;">}</span></div>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2011-04-06 </div>
			<div class="article-title"><a href="/2011/04/06/pointers-on-c-link-list/" >C和指针12章 链表</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p>1.链表分为单链表和双链表.其中单链表只能从表头到表尾操作,双链表可以从表头到表尾,也可以从表尾到表头,也可以一时从表头到表尾,一时从表尾到表头.链表包括数据域和指针域,指针域指向下一个节点.</p>
<p>2.链表的结构清楚之后就是使用了,主要是插入,删除,改变,查找.这里给出插入的函数,首先我们插入的时候可能插入到表头,可能插入到表尾,也可能插入到表的中间.当然表的中间是最简单的,只需要改变两个指针值就行了,插入到表尾的时候也只要注意下查找时的判断条件就行了,同时是改变两个指针值,但是如果插入的是表头的话,我们呢就要特别处理了,有些人说我们可以单独加一个表头节点,这个节点没有数据域,不过这个有点问题,一是创建的时候要创建一个空表头[这个也好操作?],二是各种操作的时候要跳过这个空表头[这个还是好操作],三是会浪费空间.下面是单链表的插入函数,不过插入到表头的时候,得注意下一些小细节</p>
<!--easy2hide start-->
<p>int sll_insert(Node **linkp,int new_value)//这里是指向Node的指针的指针,因为会可能插入到表头</p>
<p>{</p>
<pre><code>Node *current;

Node *new;

//寻找正确的插入位置,方法是按顺序访问链表,直到到达一个其值大于或等于

//新值的节点.这个函数会重复插入

while((current=*linkp)!=NULL &amp;&amp; current-&gt;value&lt;new_value)        linkp=&amp;current-&gt;link;

//为新节点分配内存,并把新值存储到新节点中,如果内存分配失败,

//函数返回FALSE(FALSE表示0 TRUE表示1)

new = (Node *)malloc(sizeof(Node));

if(NULL == new)

  return FALSE;

new-&gt;value=new_value;

//在链表中插入新节点 并返回TRUE

new-&gt;link=current;

*linkp=new;

return TRUE;
</code></pre><p>}</p>
<!--easy2hide end-->
<p>这个函数考虑了插入位置是表头表尾表中的情况,不过这个函数有很大的隐患.主要是这里面的linkp=&amp;current-&gt;link;这条语句.取地址存在很大的隐患,C语言取地址既威力巨大,又暗伏凶险.C语言的指针哲学:给你锤子,实际上你可以使用好几种锤子,祝你好运.</p>
<p>3.双链表可以单独拿两个指针来存表头和表尾 也可以单独拿出一个节点存.这样会浪费数据域.这里就看你的取舍了,当然你可以把指针域单独拿出来放在一个struct里面.然后Node这样struct里面包括上面那个struct和一个数据域.这里只需要一个结构标签的不完整声明就OK了.下面给出完整的插入函数</p>
<p>typedef struct  a</p>
<p>{</p>
<p>   struct a *fwd;</p>
<p>   struct a *bwd;</p>
<p>   int value;</p>
<p>}Node;下面用到的结构体</p>
<!--easy2hide start-->
<p>int dll_insert(register Node *rootp,int value)</p>
<p>{</p>
<pre><code>register Node *this;

register Node *next;

register Node *newnode;

//查找value是否已经存在于链表中,如果是就返回(这个函数不会重复插入)

//否则,为新值创建一个新节点(&quot;newnode&quot;将指向它)

//&quot;this&quot;将指向应该在新节点之前的那个节点

//&quot;next&quot;将指向应该在新节点之后的那个节点

for(this=rootp;(next=this-&gt;fwd)!=NULL;this=next)

   {

      if(next-&gt;value==value)

        return 0;

      if(next-&gt;value&gt;value)

        break;

   }

newnode=(Node *)malloc(sizoef(Node));

if(NULL == newnode)

  return -1;

newnode-&gt;value=value;

//把新节点添加到链表中

newnode-&gt;fwd=next;

  this-&gt;fwd=newnode;

 if(this != rootp)

  newnode-&gt;bwd=this;

else

  newnode-&gt;bwd=NULL;

if(next != NULL)

  next-&gt;bwd=newnode;

else

  rootp-&gt;bwd=newnode;

return 1;
</code></pre><p>}</p>
<!--easy2hide end-->
<p>本章的警告总结:</p>
<p>1.落到链表尾部的外面</p>
<p>2.使用指针时应该格外小心,因为C并没有对它们的使用提供安全网</p>
<p>3.从if语句中提炼语句可能会改变测试结果</p>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2011-04-02 </div>
			<div class="article-title"><a href="/2011/04/02/pointers-on-c-11-dynamical-memory/" >C和指针11章 动态内存分配</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p>1.动态分配和数组的比较:数组方便,简单,但是不灵活会造成很大的浪费,还有就是如果数组开的太小了 没办法容纳后面的数据,这些缺点可以通过动态分配内存来搞定,不过动态分配也有一定的麻烦,易错,而且是那种可能你找好久都不能找出来的错误,因为有指针.<br>2.相关函数:malloc,free,realloc,calloc.<br>void <em>malloc(size_t size);//size_t是无符号型<br>void free(void </em>point);<br>void <em>realloc(void </em>ptr,size_t new_size);<br>void <em>calloc(size_t num_element,size_t element_size);<br>malloc是分配size个<span style="color: #ff0000;">字节<span style="color: #000000;">连续空间,如果不能分配返回NULL<span style="color: #ff0000;"> 这些内容不会被初始化</span></span></span><br><span style="color: #ff0000;"><span style="color: #000000;">realloc改变prt的大小,改变为new_size个<span style="color: #ff0000;">字节</span>,如果是增大的话,保留原先的数据内容,然后增加,如果时间小的话,那么留下的那一段数据内容不变,这里减小的话,只能是释放掉后面的空间.如果不能在原来的内存上操作的话,就会新分配一个new_size的内存,把数据复制过去,<span style="color: #ff0000;">这样的话用了realloc之后ptr就不能再用了,得用返回的这个指针了</span></span></span><br><span style="color: #ff0000;"><span style="color: #000000;">calloc:分配num_element个数据所需的内存,每个数据的字节是 element_size. <span style="color: #ff0000;">这些内容会被初始化为0</span></span></span><br><span style="color: #ff0000;"><span style="color: #000000;">free是释放传入指针所分配的内存,不过这块内存必须是上面三个函数之一分配的,还有就是不能释放一部分,如果想释放一部分可以用realloc函数</span></span><br><span style="color: #ff0000;"><span style="color: #000000;">分配内存是最好用sizeof,这样移植性好一点,比如malloc(100</span></span></em>sizeof(int));<br><span style="color: #ff0000;"><span style="color: #000000;">3.一般错误:I.对NULL指针的解引用(分配之后没有判断是否返回的指针为NULL)       II.对分配的内存操作时越界  III释放并非动态分配的内存,试图释放动态分配的内存的一部分  IV.释放的内存继续使用.</span></span><br><span style="color: #ff0000;"><span style="color: #000000;">4.内存泄露就是该释放的内存没有释放,会导致内存一点点被榨干,直到再次重启程序或计算机.这样的后果可能会导致当前已经完成的工作统统丢失</span></span><br><span style="color: #ff0000;"><span style="color: #000000;">5.字符串动态分配内存是千万别忘了考虑结尾NUL字符</span></span><br><span style="color: #ff0000;"><span style="color: #000000;">下面给出一个书上的例子,可以防止那些不检测malloc返回指针是否为NULL的情况</span></span><br><span style="color: #ff0000;"><span style="color: #000000;">alloc.h</span></span><br><span style="color: #ff0000;"><span style="color: #000000;">#include <stdlib.h></stdlib.h></span></span><br><span style="color: #ff0000;"><span style="color: #000000;">#define malloc //不直接使用malloc</span></span><br><span style="color: #ff0000;"><span style="color: #000000;">#define MALLOC(num,type) (type <em>)alloc((num)</em>(sizeof(type)))</span></span><br><span style="color: #ff0000;"><span style="color: #000000;">extern void *alloc(size_t size);</span></span><br><span style="color: #ff0000;"><span style="color: #000000;">alloc.c</span></span><br><span style="color: #ff0000;">#include <stdio.h></stdio.h></span></p>
<p>#include”alloc.h”</p>
<p>#undef malloc//注意顺序我一开始把这句放在上面一句的前面结果很诡异的错误.<br><span style="color: #ff0000;"><span style="color: #000000;">void <em>alloc(size_t size)</em></span></span><br><span style="color: #ff0000;"><span style="color: #000000;">{</span></span><br><span style="color: #ff0000;"><span style="color: #000000;">    void new_mem;</span></span><br><span style="color: #ff0000;"><span style="color: #000000;">  new_mem=malloc(size);</span></span><br><span style="color: #ff0000;"><span style="color: #000000;"> if(new_mem==NULL)</span></span><br><span style="color: #ff0000;"><span style="color: #000000;">{</span></span><br><span style="color: #ff0000;"><span style="color: #000000;">    printf(“fjkds;afkjds;af”);//自己改成需要的</span></span><br><span style="color: #ff0000;"><span style="color: #000000;">   exit(1);</span></span><br><span style="color: #ff0000;"><span style="color: #000000;">}</span></span><br><span style="color: #ff0000;"><span style="color: #000000;">return new_mem;</span></span><br><span style="color: #ff0000;"><span style="color: #000000;">}</span></span></p>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2011-03-31 </div>
			<div class="article-title"><a href="/2011/03/31/poj-2478-eular-function/" >POJ 2478 欧拉函数</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p><a href="http://poj.org/problem?id=2478" target="_blank" rel="external">题目</a><br>这题的实际就是求欧拉函数,也就是给你一个n,然后求从2-n的所有数的欧拉函数的和,至于不知道欧拉函数的还请google之.下面给出两个求欧拉函数的模板,一个是求从1-n的所有数的欧拉函数,一个是求单个数的欧拉函数.这两个函数都是由phi(n)=n<em>(p1-1)</em>(p2-1)<em>……</em>(pn-1)/(p1<em>p2</em>……*pn)这个式子来的.<br>第一个求所有数的欧拉函数</p>
<div class="source" style="color: #f5deb3; font-family: 'Courier New','Lucida Console','monospace'; background-color: #2f4f4f;"><span style="font-weight: bold; color: #98fb98;">void</span> <span style="color: #ffffff;">eular</span>()<br><span style="color: #f5deb3;">{</span><br>    <span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">j</span><br>    <span style="color: #f5deb3;">memset</span>(p<span style="color: #f5deb3;">,</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">,</span><span style="font-weight: bold; color: #b0c4de;">sizeof</span>(p));<br>    <span style="font-weight: bold; color: #b0c4de;">for</span>(<span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">=</span><span style="color: #add8e6;">0</span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">&lt;</span><span style="color: #add8e6;">1000001</span>;<span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">++</span>)<br>        <span style="color: #f5deb3;">e</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">]</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">i</span><span style="color: #da70d6;">//初始化</span><br>    <span style="font-weight: bold; color: #b0c4de;">for</span>(<span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">=</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">&lt;</span><span style="color: #add8e6;">1000001</span>;<span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">++</span>)<br>        <span style="color: #f5deb3;">{</span><br>            <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #add8e6;">1</span><span style="color: #f5deb3;">==</span>p<span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">])</span><br>                <span style="color: #f5deb3;">{</span><br>                    <span style="color: #f5deb3;">e</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">]</span><span style="color: #f5deb3;">–</span><span style="color: #da70d6;">//如果是素数 那么等于n-1</span><br>                    <span style="font-weight: bold; color: #b0c4de;">for</span>(<span style="color: #f5deb3;">j</span><span style="color: #f5deb3;">=</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">j</span><span style="color: #f5deb3;">&lt;</span><span style="color: #add8e6;">1000001</span>;<span style="color: #f5deb3;">j</span><span style="color: #f5deb3;">+=</span><span style="color: #f5deb3;">i</span>)<br>                        <span style="color: #f5deb3;">{</span><br>                            p<span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">j</span><span style="color: #f5deb3;">]</span><span style="color: #f5deb3;">=</span><span style="color: #add8e6;">0</span><span style="color: #da70d6;">//这里就是那个公式的应用,这里的P[j]数组是表示这个数是否是素数</span><br>                            <span style="color: #f5deb3;">e</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">j</span><span style="color: #f5deb3;">]</span><span style="color: #f5deb3;">=</span>(<span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">-</span><span style="color: #add8e6;">1</span>);<br>                            <span style="color: #f5deb3;">e</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">j</span><span style="color: #f5deb3;">]</span><span style="color: #f5deb3;">/=</span><span style="color: #f5deb3;">i</span><br>                        <span style="color: #f5deb3;">}</span><br>                <span style="color: #f5deb3;">}</span><br>        <span style="color: #f5deb3;">}</span><br><span style="color: #f5deb3;">}</span></div><br>第二个,求单个数的欧拉函数:<br><div class="source" style="color: #f5deb3; font-family: 'Courier New','Lucida Console','monospace'; background-color: #2f4f4f;"><span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #ffffff;">eular</span>(<span style="font-weight: bold; color: #98fb98;">int</span> n)<br><span style="color: #f5deb3;">{</span><br>    <span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;">ret</span><span style="color: #f5deb3;">=</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">i</span><br>    <span style="font-weight: bold; color: #b0c4de;">for</span>(<span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">=</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">&lt;=</span>n;<span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">++</span>)<br>        <span style="color: #f5deb3;">{</span><br>            <span style="font-weight: bold; color: #b0c4de;">if</span>(n<span style="color: #f5deb3;">%</span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">==</span><span style="color: #add8e6;">0</span>)<br>                <span style="color: #f5deb3;">{</span><br>                    n<span style="color: #f5deb3;">/=</span><span style="color: #f5deb3;">i</span><br>                    <span style="color: #f5deb3;">ret</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">-</span><span style="color: #add8e6;">1</span><br>                    <span style="font-weight: bold; color: #b0c4de;">while</span>(<span style="color: #add8e6;">0</span><span style="color: #f5deb3;">==</span>n<span style="color: #f5deb3;">%</span><span style="color: #f5deb3;">i</span>)<br>                        <span style="color: #f5deb3;">{</span><span style="color: #da70d6;">//这里还是那个公式的应用</span><br>                            n<span style="color: #f5deb3;">/=</span><span style="color: #f5deb3;">i</span><br>                            <span style="color: #f5deb3;">ret</span><span style="color: #f5deb3;"><em>=</em></span><span style="color: #f5deb3;">i</span><br>                        <span style="color: #f5deb3;">}</span><br>                <span style="color: #f5deb3;">}</span><br>        <span style="color: #f5deb3;">}</span><br>    <span style="font-weight: bold; color: #b0c4de;">if</span>(n<span style="color: #f5deb3;">&gt;</span><span style="color: #add8e6;">1</span>)<span style="color: #da70d6;">//如果剩下的n是素数</span><br>        <span style="color: #f5deb3;">ret</span><span style="color: #f5deb3;">=</span>n<span style="color: #f5deb3;">-</span><span style="color: #add8e6;">1</span><br>    <span style="font-weight: bold; color: #b0c4de;">return</span> <span style="color: #f5deb3;">ret</span><br><span style="color: #f5deb3;">}</span></div>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2011-03-30 </div>
			<div class="article-title"><a href="/2011/03/30/pointers-on-c-10-struct-union/" >C和指针 第十章 结构和联合</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p>1.数组和结构:数组是相同类型的元素的集合,每个元素通过下标引用或指针间接访问来选择.结构也是一些值的集合,这些值是它的成员,但成员可以是不同的类型.<br>2警惕下面的陷阱:<br>typedef struct<br>{<br>int a;<br>SELF_REF3 <em>b;<br>int c;<br>}SELF_REF3;<br>这个声明的目的是为这个结构创建类型名SELF_REF3.但是,它失败了.类型名直到声明的末尾才定义,所以在结构声明的内部它尚未定义<br>3.如果把一个结构体当做参数传到函数里面或者当做返回值传出来的话,你可以选择使用结构体指针来提升效率,因为传值和返回值的话会先拷贝一份,这样的话,如果结构体的字节数大的话,这样速度会提升不少.当然也可以声明为寄存器类型.<br>4.位段,I.声明的时候如果最好别声明为int 二是直接写成signed和unsigned.因为int会根据具体的机器来决定是有符号还是无符号.II.位段中位的最大数目,许多编译器把位段成员的长度限制在一个整形的长度之内,所以一个能够运行于32位整形的机器上的位段声明可能在16位的整数机器上无法运行.III.位段的成员在内存中可能从右到左分配,也可能从左到右分配.IV.当一个声明指定了两个位段,第2个位段比较大,无法容纳于第1个位段剩余的位时,编译器有可能把第2个位段放在内存的下一个字,也可能直接放在第1个位段后面,从而在两个内存位置的边界上形成重叠.V.位段能够把长度为奇数的数据包装在一起,节省存储空间.当程序需要使用成千上万的这类结构时,这种节省方法就会变得相当重要.<br>5.联合:长度和最长的那个变量的长度一样.联合的初始化,必须是联合的第一个成员的类型,而且它必须位于一对花括号里面.<br>下面给出一个比较易错的东西.<br>1.sizeof(结构体)到底是多少.<br>比如strcut{char a;int b;char c}A;struct{int a,char b,char c}B;sizeof(A)和sizeof(B)是多少,下面是一个简单分析<br><!--easy2hide start reply to this=true--><br>答案是第一个是12,第二个是8.知道为什么吗?首先你要知道整型占4个字节.起始存储位置必须能够被4整除,然后第一个的话,首先a占了1个,然后b只能从下一个字开始,也就是会浪费三个字节,同理c也会浪费3个字节.但是第二个的话,首先a是占4个字节,然后b和c各占一个字节,这样的话,就只占了2个字.<br><!--easy2hide end--><br>还有一个就是要注意’</em>‘ ‘.’和’-&gt;’的先后顺序,比如<em>nodes.a和(</em>nodes).a的区别.</p>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2011-03-30 </div>
			<div class="article-title"><a href="/2011/03/30/pointers-on-c-9-string/" >C和指针第9章[字符串 字符 字节]</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p>1字符串是一串0个和多个字符,以NUL字符结尾的<br>2.strlen函数的返回值是一个无符号整形,也就是说这个if(strlen(x)-strlen(y)&gt;=0)一定是成立的,因为左边是无符号整形的操作,不可能小于0<br>3.strcpy,strcat会在新字符串后面自动加上一个’\0’结尾符.但是这些函数需要保证有足够的空间.这两个函数的返回值是第一个参数的一份拷贝.<br>4.strcmp,返回不一定是 1 -1 0,标准只是说返回大于0的和小于0的,不一定是1和-1.也不要写成if(strcmp(a,b))这样的,因为当<span style="color: #ff0000;">a和b相等</span>的时候这个<span style="color: #ff0000;">返回的是0</span>,所以有时你会很郁闷<br>5.strncpy(dst,src,len),如果strlen(src)<len的话,那么dst额外的会被nul填充,但是如果strlen(src)>=len的话,那么就<span style="color: #ff0000;">不会</span>以NUL字符结尾,这个切记.<br>6.strncat(dst,src,len)和strncpy不一样,它不管dst的空间够不够,总是会把len个字符连接在dst后面[如果strlen(str)<len就是strlen(strc)个字符],而且每次会在最后面加上一个'\0'.注意一点的是这个函数不管你后面的空间够还是不够,如果不够可能就惨了 7.strchr(char="" const="" *str,int="" ch)查找ch第一次出现的位置,strrchr(char="" ch)查找ch最后一次出现的位置,strpbrk(char="" *str,char="" *group)查找group中随便一个字符在str中第一次出现的最早位置,比如str="Hello there,honey" ;group="aeoiu" 那么结果会是指向e的指针;strstr(char="" *s1,char="" *s2)返回s2在s1中第一次出现的位置="" 8.strspn(char="" *group)="" 返回第一次出现group之外任意字符时group中的字符出现过的总数.比如buffer="25,142,330,Smith,J,239-4123" strspn(buffer,"0123456789")返回的是2也就是在','之前出现过2和5,所以返回2.="" strcspn(char="" *group)和上面的相反,返回第一次出现group中任意字符时,出现过的不属于group的字符总数.="" 9.strtok(char="" *sep)="" 这个不是很懂,待查="" 10其他ctype.h下的单独字符操作函数,有一个要注意的是,在使用ebcdic字符集的机器上判定是否是大些字母不能用if(ch="">= ‘A’ &amp; ch &lt;= ‘Z’)但是可以用if(isupper(ch))<br>11.memcpy(void <em>dst,void cosnt </em>src,size_t len);//dst和src不可重叠<br>memmove(void <em>dst,void const </em>str,size_t len);//dst和src可重叠,速度没上一个快<br>memcmp(void const <em>dst,void const </em>src,size_t len);<br>memchr(void const <em>a,int ch,size_t len)<br>memset(void </em>a,int ch,size_t len);<br>前4个和str开头的功能类似,不过这里不适以NUL结尾,而是len个字节,最后一个是把len字节置为ch.<br>这里有一个区分差别的.<br>memchr(buff,0,SIZE)-buffer<br>strlen(buff)<br>关于这两个的区别.答案如下<br><!--easy2hide start reply to this=true--><br>如果buff以NUL字符结尾,那么没区别,都是得到buff的长度,不过strlen返回的是无符号数,但是减法得到的是有符号的.<br>如果buff不以NUL字符结尾的话,memchr返回一个NULL指针,减去buff将产生一个无意义的结果,strlen则会一直找下去,知道发现一个NUL字符位置.<br>还有一个就是如果你要找的是NUL字符的话,就得用内存操作函数了,因为字符串函数不能找到NUL字节.<br><!--easy2hide end--></len就是strlen(strc)个字符],而且每次会在最后面加上一个'\0'.注意一点的是这个函数不管你后面的空间够还是不够,如果不够可能就惨了></len的话,那么dst额外的会被nul填充,但是如果strlen(src)></p>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2011-03-30 </div>
			<div class="article-title"><a href="/2011/03/30/c-string-point-two-dimension/" >C字符串二维指针的一个问题</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p>看C和指针的时候看到一个这样的函数:</p>
<p><div class="source" style="font-family: amp;amp; color: #f5deb3; background-color: #2f4f4f;"><span style="color: #98fb98; font-weight: bold;">int</span> <span style="color: #ffffff;">find_char</span>(<span style="color: #98fb98; font-weight: bold;">char</span> <span style="color: #f5deb3;"><strong></strong></span><span style="color: #f5deb3;">string</span><span style="color: #f5deb3;">,</span><span style="color: #98fb98; font-weight: bold;">int</span> <span style="color: #f5deb3;">val</span>)<br><span style="color: #f5deb3;">{</span><br><span style="color: #f5deb3;">assert</span>(<span style="color: #f5deb3;">string</span> <span style="color: #f5deb3;">!=</span> <span style="color: #b0c4de; font-weight: bold;">NULL</span>);<br><span style="color: #b0c4de; font-weight: bold;">while</span>(<span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">string</span> <span style="color: #f5deb3;">!=</span> <span style="color: #b0c4de; font-weight: bold;">NULL</span>)<br><span style="color: #f5deb3;">{</span><br><span style="color: #b0c4de; font-weight: bold;">while</span>(<span style="color: #f5deb3;"></span>(<span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">string</span>)<span style="color: #f5deb3;">!=</span> <span style="color: #7fffd4;">‘\0’</span>)<br><span style="color: #f5deb3;">{</span><br><span style="color: #b0c4de; font-weight: bold;">if</span>(<span style="color: #f5deb3;"></span>(<span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">string</span>)<span style="color: #f5deb3;">++</span> <span style="color: #f5deb3;">==</span> <span style="color: #f5deb3;">val</span>)<br><span style="color: #b0c4de; font-weight: bold;">return</span> <span style="color: #add8e6;">1</span><br><span style="color: #f5deb3;">}</span><br><span style="color: #f5deb3;">string</span><span style="color: #f5deb3;">++</span><br><span style="color: #f5deb3;">}</span><br><span style="color: #b0c4de; font-weight: bold;">return</span> <span style="color: #add8e6;">0</span><br><span style="color: #f5deb3;">}</span></div><br>书上说这个函数有副作用,只适合一次查询的情况,由于本人愚笨,一时没看出来到底是怎么搞的,于是今天上机一试,才知道原来是((<em>string)++ == val)这句的问题,这句会把找到之前的那些字符都给过滤掉,之后就再也找不回来了,就好像被大灰狼叼走之后一样~~~.我的想法是</em>string是一个一维指针,是由string这个二维指针通过间接访问得到的,所以在函数里面改过之后,在原数组也是会有效果的,就好像一个一维数组,然后*num=5这样的语句一样,不过这里的间接访问之后还是一个指针而已.<span style="color: #ff0000;">如果有什么错误,还请看官指出</span>.这里附上我做试验的string和输出<br>string = {“abc”,”cb”,”de”}//当然你不能直接这么赋值<br>然后我输出整个string,格式如下:</p>
<p><div class="source" style="font-family: amp;amp; color: #f5deb3; background-color: #2f4f4f;"><span style="color: #b0c4de; font-weight: bold;">while</span>(<span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">string</span> <span style="color: #f5deb3;">!=</span> <span style="color: #b0c4de; font-weight: bold;">NULL</span>)<br><span style="color: #f5deb3;">{</span><br><span style="color: #f5deb3;">printf</span>(<span style="color: #7fffd4;">“%s</span><span style="color: #7fffd4;">\n</span><span style="color: #7fffd4;">“</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">string</span>);<br><span style="color: #f5deb3;">string</span><span style="color: #f5deb3;">++</span><br><span style="color: #f5deb3;">}</span><span style="color: #add8e6;">2</span></div><br>结果如下<br><em>
</em><br>e//上面的下划线表示没有输出.</p>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2011-03-30 </div>
			<div class="article-title"><a href="/2011/03/30/usaco-5-2-1-snail-trails/" >USACO 5.2.1 Snail Trails</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p><a href="http://www.nocow.cn/index.php/Translate:USACO/snail" target="_blank" rel="external">中文题目</a><br>这题主要是看懂题目的意思,一开始没看懂意思,导致错了两次,后来经过再次再再次的读题,才读懂了题目,题意是:首先选一个方向,然后一直走,如果遇到边界或者障碍物就停下来而且转90度,继续走,但是如果在这之间遇到已经走过的一个地点,那么就之间停止了,主要是后面这个直接停止,如果没看懂就悲剧了.一开始我就是把这看错了.看来还是英语要好好的才行阿.懂了题意之后就直接搜就行了.代码如下:</p>
<div class="source" style="font-family: amp;quot; color: #f5deb3; background-color: #2f4f4f;"><span style="color: #da70d6;">/<em></em></span><br><span style="color: #da70d6;">ID:qcx97811</span><br><span style="color: #da70d6;">LANG:C</span><br><span style="color: #da70d6;">TASK:snail</span><br><span style="color: #da70d6;"> /</span><br><span style="color: #eeee00;">#include <stdio.h></stdio.h></span><br><span style="color: #eeee00;">#include <string.h></string.h></span><br><span style="color: #eeee00;">#include <stdlib.h></stdlib.h></span><br><span style="color: #eeee00;">#include <math.h></math.h></span><br><span style="color: #98fb98; font-weight: bold;">char</span> <span style="color: #f5deb3;">grid</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">128</span><span style="color: #f5deb3;">][</span><span style="color: #add8e6;">128</span><span style="color: #f5deb3;">];</span><br><span style="color: #98fb98; font-weight: bold;">int</span> N<span style="color: #f5deb3;">,</span>B;<br><span style="color: #98fb98; font-weight: bold;">int</span> <span style="color: #f5deb3;">change_i</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">4</span><span style="color: #f5deb3;">]</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">{</span><span style="color: #f5deb3;">-</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">,</span><span style="color: #add8e6;">0</span><span style="color: #f5deb3;">,</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">,</span><span style="color: #add8e6;">0</span><span style="color: #f5deb3;">};</span><br><span style="color: #98fb98; font-weight: bold;">int</span> <span style="color: #f5deb3;">change_j</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">4</span><span style="color: #f5deb3;">]</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">{</span><span style="color: #add8e6;">0</span><span style="color: #f5deb3;">,</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">,</span><span style="color: #add8e6;">0</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">-</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">};</span><br><span style="color: #98fb98; font-weight: bold;">int</span> <span style="color: #ffffff;">work</span>(<span style="color: #98fb98; font-weight: bold;">int</span> <span style="color: #f5deb3;">_i</span><span style="color: #f5deb3;">,</span><span style="color: #98fb98; font-weight: bold;">int</span> <span style="color: #f5deb3;">_j</span><span style="color: #f5deb3;">,</span><span style="color: #98fb98; font-weight: bold;">int</span> <span style="color: #f5deb3;">dis</span>)<br><span style="color: #f5deb3;">{</span><br><span style="color: #98fb98; font-weight: bold;">int</span> <span style="color: #f5deb3;">_x</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">_y</span><br><span style="color: #98fb98; font-weight: bold;">int</span> <span style="color: #f5deb3;">tmp_x</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">tmp_y</span><br><span style="color: #98fb98; font-weight: bold;">int</span> <span style="color: #f5deb3;">i</span><br><span style="color: #98fb98; font-weight: bold;">int</span> <span style="color: #f5deb3;">ret</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">max</span><br><span style="color: #f5deb3;">max</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">dis</span><br><span style="color: #b0c4de; font-weight: bold;">for</span>(<span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">=</span><span style="color: #add8e6;">0</span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">&lt;</span><span style="color: #add8e6;">4</span>;<span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">++</span>)<br><span style="color: #f5deb3;">{</span><br><span style="color: #f5deb3;">_x</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">_i</span><br><span style="color: #f5deb3;">_y</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">_j</span><br><span style="color: #b0c4de; font-weight: bold;">while</span>(<span style="color: #add8e6;">1</span>)<br><span style="color: #f5deb3;">{</span><br><span style="color: #f5deb3;">_x</span><span style="color: #f5deb3;">+=</span><span style="color: #f5deb3;">change_i</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">];</span><br><span style="color: #f5deb3;">_y</span><span style="color: #f5deb3;">+=</span><span style="color: #f5deb3;">change_j</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">];</span><br><span style="color: #b0c4de; font-weight: bold;">if</span>(<span style="color: #add8e6;">2</span><span style="color: #f5deb3;">==</span><span style="color: #f5deb3;">grid</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">_x</span><span style="color: #f5deb3;">][</span><span style="color: #f5deb3;">_y</span><span style="color: #f5deb3;">])</span><br><span style="color: #f5deb3;">{</span><br><span style="color: #b0c4de; font-weight: bold;">if</span>(<span style="color: #f5deb3;">abs</span>(<span style="color: #f5deb3;">_x</span><span style="color: #f5deb3;">-</span><span style="color: #f5deb3;">_i</span>)<span style="color: #f5deb3;">+</span><span style="color: #f5deb3;">abs</span>(<span style="color: #f5deb3;">_y</span><span style="color: #f5deb3;">-</span><span style="color: #f5deb3;">_j</span>)<span style="color: #f5deb3;">-</span><span style="color: #add8e6;">1</span> <span style="color: #f5deb3;">&gt;</span> <span style="color: #add8e6;">0</span>)<br><span style="color: #f5deb3;">{</span><br><span style="color: #f5deb3;">tmp_x</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">_i</span><span style="color: #f5deb3;">+</span><span style="color: #f5deb3;">change_i</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">];</span><br><span style="color: #f5deb3;">tmp_y</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">_j</span><span style="color: #f5deb3;">+</span><span style="color: #f5deb3;">change_j</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">];</span><br><span style="color: #b0c4de; font-weight: bold;">while</span>(<span style="color: #f5deb3;">!</span>((<span style="color: #f5deb3;">tmp_x</span><span style="color: #f5deb3;">==</span><span style="color: #f5deb3;">_x</span>) <span style="color: #f5deb3;">&amp;</span> (<span style="color: #f5deb3;">tmp_y</span><span style="color: #f5deb3;">==</span><span style="color: #f5deb3;">_y</span>)))<br><span style="color: #f5deb3;">{</span><br><span style="color: #f5deb3;">grid</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">tmp_x</span><span style="color: #f5deb3;">][</span><span style="color: #f5deb3;">tmp_y</span><span style="color: #f5deb3;">]</span><span style="color: #f5deb3;">=</span><span style="color: #add8e6;">1</span><br><span style="color: #f5deb3;">tmp_x</span><span style="color: #f5deb3;">+=</span><span style="color: #f5deb3;">change_i</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">];</span><br><span style="color: #f5deb3;">tmp_y</span><span style="color: #f5deb3;">+=</span><span style="color: #f5deb3;">change_j</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">];</span><br><span style="color: #f5deb3;">}</span><br><span style="color: #f5deb3;">ret</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">work</span>(<span style="color: #f5deb3;">_x</span><span style="color: #f5deb3;">-</span><span style="color: #f5deb3;">change_i</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">],</span><span style="color: #f5deb3;">_y</span><span style="color: #f5deb3;">-</span><span style="color: #f5deb3;">change_j</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">],</span><span style="color: #f5deb3;">dis</span><span style="color: #f5deb3;">+</span><span style="color: #f5deb3;">abs</span>(<span style="color: #f5deb3;">_x</span><span style="color: #f5deb3;">-</span><span style="color: #f5deb3;">_i</span>)<span style="color: #f5deb3;">+</span><span style="color: #f5deb3;">abs</span>(<span style="color: #f5deb3;">_y</span><span style="color: #f5deb3;">-</span><span style="color: #f5deb3;">j</span>)<span style="color: #f5deb3;">-</span><span style="color: #add8e6;">1</span>);<br><span style="color: #f5deb3;">tmp_x</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">_i</span><span style="color: #f5deb3;">+</span><span style="color: #f5deb3;">change_i</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">];</span><br><span style="color: #f5deb3;">tmp_y</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">_j</span><span style="color: #f5deb3;">+</span><span style="color: #f5deb3;">change_j</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">];</span><br><span style="color: #b0c4de; font-weight: bold;">while</span>(<span style="color: #f5deb3;">!</span>((<span style="color: #f5deb3;">tmp_x</span><span style="color: #f5deb3;">==</span><span style="color: #f5deb3;">_x</span>)<span style="color: #f5deb3;">&amp;</span>(<span style="color: #f5deb3;">tmp_y</span><span style="color: #f5deb3;">==</span><span style="color: #f5deb3;">_y</span>)))<br><span style="color: #f5deb3;">{</span><br><span style="color: #f5deb3;">grid</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">tmp_x</span><span style="color: #f5deb3;">][</span><span style="color: #f5deb3;">tmp_y</span><span style="color: #f5deb3;">]</span><span style="color: #f5deb3;">=</span><span style="color: #add8e6;">0</span><br><span style="color: #f5deb3;">tmp_x</span><span style="color: #f5deb3;">+=</span><span style="color: #f5deb3;">change_i</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">];</span><br><span style="color: #f5deb3;">tmp_y</span><span style="color: #f5deb3;">+=</span><span style="color: #f5deb3;">change_j</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">];</span><br><span style="color: #f5deb3;">}</span><br><span style="color: #b0c4de; font-weight: bold;">if</span>(<span style="color: #f5deb3;">max</span><span style="color: #f5deb3;">&lt;</span><span style="color: #f5deb3;">ret</span>)<br><span style="color: #f5deb3;">max</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">ret</span><br><span style="color: #f5deb3;">}</span><br><span style="color: #b0c4de; font-weight: bold;">break</span><br><span style="color: #f5deb3;">}</span><br><span style="color: #b0c4de; font-weight: bold;">else</span><br><span style="color: #f5deb3;">{</span><br><span style="color: #b0c4de; font-weight: bold;">if</span>(<span style="color: #add8e6;">1</span><span style="color: #f5deb3;">==</span><span style="color: #f5deb3;">grid</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">_x</span><span style="color: #f5deb3;">][</span><span style="color: #f5deb3;">_y</span><span style="color: #f5deb3;">])</span><br><span style="color: #f5deb3;">{</span><br><span style="color: #f5deb3;">tmp_x</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">_x</span><br><span style="color: #f5deb3;">tmp_y</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">_y</span><br><span style="color: #eeee00;">#if 1</span><br><span style="color: #f5deb3;">ret</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">dis</span><span style="color: #f5deb3;">+</span><span style="color: #f5deb3;">abs</span>(<span style="color: #f5deb3;">_x</span><span style="color: #f5deb3;">-</span><span style="color: #f5deb3;">_i</span>)<span style="color: #f5deb3;">+</span><span style="color: #f5deb3;">abs</span>(<span style="color: #f5deb3;">_y</span><span style="color: #f5deb3;">-</span><span style="color: #f5deb3;">_j</span>)<span style="color: #f5deb3;">-</span><span style="color: #add8e6;">1</span><br><span style="color: #b0c4de; font-weight: bold;">if</span>(<span style="color: #f5deb3;">ret</span><span style="color: #f5deb3;">&gt;</span><span style="color: #f5deb3;">max</span>)<br><span style="color: #f5deb3;">max</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">ret</span><br><span style="color: #eeee00;">#endif</span><br><span style="color: #b0c4de; font-weight: bold;">break</span><br><span style="color: #f5deb3;">}</span><br><span style="color: #f5deb3;">}</span><br><span style="color: #f5deb3;">}</span><br><span style="color: #f5deb3;">}</span><br><span style="color: #b0c4de; font-weight: bold;">return</span> <span style="color: #f5deb3;">max</span><br><span style="color: #f5deb3;">}</span><br><span style="color: #98fb98; font-weight: bold;">int</span> <span style="color: #ffffff;">main</span>(<span style="color: #98fb98; font-weight: bold;">void</span>)<br><span style="color: #f5deb3;">{</span><br><span style="color: #f5deb3;">freopen</span>(<span style="color: #7fffd4;">“snail.in”</span><span style="color: #f5deb3;">,</span><span style="color: #7fffd4;">“r”</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">stdin</span>);<br><span style="color: #f5deb3;">freopen</span>(<span style="color: #7fffd4;">“snail.out”</span><span style="color: #f5deb3;">,</span><span style="color: #7fffd4;">“w”</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">stdout</span>);<br><span style="color: #98fb98; font-weight: bold;">int</span> <span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">j</span><br><span style="color: #98fb98; font-weight: bold;">char</span> <span style="color: #f5deb3;">ch</span><br><span style="color: #98fb98; font-weight: bold;">int</span> <span style="color: #f5deb3;">row</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">ans</span><br><span style="color: #f5deb3;">scanf</span>(<span style="color: #7fffd4;">“%d%d%<em>c”</em></span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;"></span>N<span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">&amp;</span>B);<br><span style="color: #f5deb3;">memset</span>(<span style="color: #f5deb3;">grid</span><span style="color: #f5deb3;">,</span><span style="color: #add8e6;">0</span><span style="color: #f5deb3;">,</span><span style="color: #b0c4de; font-weight: bold;">sizeof</span>(<span style="color: #f5deb3;">grid</span>));<br><span style="color: #b0c4de; font-weight: bold;">for</span>(<span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">=</span><span style="color: #add8e6;">0</span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">&lt;</span>B;<span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">++</span>)<br><span style="color: #f5deb3;">{</span><br><span style="color: #f5deb3;">scanf</span>(<span style="color: #7fffd4;">“%c”</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">ch</span>);<br><span style="color: #f5deb3;">scanf</span>(<span style="color: #7fffd4;">“%d%c”</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">row</span>);<br><span style="color: #f5deb3;">grid</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">row</span><span style="color: #f5deb3;">][</span><span style="color: #f5deb3;">ch</span><span style="color: #f5deb3;">-</span><span style="color: #7fffd4;">‘A’</span><span style="color: #f5deb3;">+</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">]</span><span style="color: #f5deb3;">=</span><span style="color: #add8e6;">2</span><br><span style="color: #f5deb3;">}</span><br><span style="color: #b0c4de; font-weight: bold;">for</span>(<span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">=</span><span style="color: #add8e6;">0</span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">&lt;=</span>N<span style="color: #f5deb3;">+</span><span style="color: #add8e6;">1</span>;<span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">++</span>)<br><span style="color: #f5deb3;">grid</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">0</span><span style="color: #f5deb3;">][</span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">]</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">grid</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">][</span><span style="color: #add8e6;">0</span><span style="color: #f5deb3;">]</span><span style="color: #f5deb3;">=</span><span style="color: #add8e6;">2</span><br><span style="color: #b0c4de; font-weight: bold;">for</span>(<span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">=</span><span style="color: #add8e6;">0</span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">&lt;=</span>N<span style="color: #f5deb3;">+</span><span style="color: #add8e6;">1</span>;<span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">++</span>)<br><span style="color: #f5deb3;">grid</span><span style="color: #f5deb3;">[</span>N<span style="color: #f5deb3;">+</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">][</span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">]</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">grid</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">i</span><span style="color: #f5deb3;">][</span>N<span style="color: #f5deb3;">+</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">]</span><span style="color: #f5deb3;">=</span><span style="color: #add8e6;">2</span><br><span style="color: #eeee00;">#if 0</span><br><span style="color: #da70d6;"> for(i=0;i<n;i++)< span=""><br><span style="color: #da70d6;"> {</span><br><span style="color: #da70d6;"> for(j=0;j<n;j++)< span=""><br><span style="color: #da70d6;"> printf(“%d  “,grid[i][j]);</span><br><span style="color: #da70d6;"> printf(“\n”);</span><br><span style="color: #da70d6;"> }</span><br><span style="color: #eeee00;">#endif</span><br><span style="color: #f5deb3;">grid</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">][</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">]</span><span style="color: #f5deb3;">=</span><span style="color: #add8e6;">1</span><br><span style="color: #f5deb3;">ans</span> <span style="color: #f5deb3;">=</span> <span style="color: #f5deb3;">work</span>(<span style="color: #add8e6;">1</span><span style="color: #f5deb3;">,</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">,</span><span style="color: #add8e6;">1</span>);<br><span style="color: #f5deb3;">printf</span>(<span style="color: #7fffd4;">“%d</span><span style="color: #7fffd4;">\n</span><span style="color: #7fffd4;">“</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">ans</span>);<br><span style="color: #b0c4de; font-weight: bold;">return</span> <span style="color: #add8e6;">0</span><br><span style="color: #f5deb3;">}</span></n;j++)<></span></n;i++)<></span></div>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2011-03-29 </div>
			<div class="article-title"><a href="/2011/03/29/segment-tree-my-templete/" >我的线段树模板[静态版]</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p>由于上次师大的邀请赛有一个线段树和并查集的综合题,可是我的线段树死活过不了,原来是我自己写错了一个地方,赋值错了,然后就一直悲剧了,现在把我的线段树模板放在这里,以后要用的时候就直接来取好了,不多说了,直接贴代码:</p>
<div class="source" style="color: #f5deb3; font-family: 'Courier New','Lucida Console','monospace'; background-color: #2f4f4f;"><span style="color: #da70d6;">/<em></em></span><br><span style="color: #da70d6;">ID:qcx97811</span><br><span style="color: #da70d6;">LANG:C</span><br><span style="color: #da70d6;">TASK:H</span><br><span style="color: #da70d6;">/</span><br><span style="color: #eeee00;">#include <stdio.h></stdio.h></span><br><span style="color: #eeee00;">#include <string.h></string.h></span><br><span style="color: #eeee00;">#include <stdlib.h></stdlib.h></span><br><span style="color: #eeee00;">#include <math.h></math.h></span><br><span style="color: #da70d6;">/<em>还有一个修改没加</em>/</span><br><span style="font-weight: bold; color: #b0c4de;">typedef</span> <span style="font-weight: bold; color: #b0c4de;">struct</span><span style="color: #da70d6;">//线段树的结构体 </span><br><span style="color: #f5deb3;">{</span><span style="color: #da70d6;">//l表示左端点 r右端点 max表示这一段的最大值 min表示这一段的最小值</span><br>    <span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;">l</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">r</span><br>    <span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;">max</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">min</span><br><span style="color: #f5deb3;">}</span><span style="color: #f5deb3;">Tree</span><br><span style="color: #f5deb3;">Tree</span> <span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">500006</span><span style="color: #f5deb3;"><em></em></span><span style="color: #add8e6;">4</span><span style="color: #f5deb3;">];</span><span style="color: #da70d6;">//4倍</span><br><span style="font-weight: bold; color: #98fb98;">void</span> <span style="color: #ffffff;">init_node</span>(<span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">,</span><span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;">_l</span><span style="color: #f5deb3;">,</span><span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;">_r</span>)<br><span style="color: #f5deb3;">{</span><span style="color: #da70d6;">//初始化线段树</span><br>    <span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;">mid</span><br>    <span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">l</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">_l</span><span style="color: #da70d6;">//这里不管怎样都要赋值,确定边界</span><br>    <span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">r</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">_r</span><br>    <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #f5deb3;">_l</span> <span style="color: #f5deb3;">==</span> <span style="color: #f5deb3;">_r</span>)<br>        <span style="color: #f5deb3;">{</span><span style="color: #da70d6;">//如果到了底层了直接返回</span><br>            <span style="font-weight: bold; color: #b0c4de;">return</span> ;<br>        <span style="color: #f5deb3;">}</span><br>    <span style="color: #f5deb3;">mid</span><span style="color: #f5deb3;">=</span>(<span style="color: #f5deb3;">_l</span><span style="color: #f5deb3;">+</span><span style="color: #f5deb3;">_r</span>)<span style="color: #f5deb3;">&gt;&gt;</span><span style="color: #add8e6;">1</span>;<br>    <span style="color: #f5deb3;">init_node</span>(<span style="color: #add8e6;">2</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">_l</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">mid</span>);<span style="color: #da70d6;">//初始化左子树</span><br>    <span style="color: #f5deb3;">init_node</span>(<span style="color: #add8e6;">2</span><span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">+</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">mid</span><span style="color: #f5deb3;">+</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">_r</span>);<span style="color: #da70d6;">//初始化右子树</span><br><span style="color: #f5deb3;">}</span><br><span style="font-weight: bold; color: #98fb98;">void</span> <span style="color: #ffffff;">insert</span>(<span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">,</span><span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;">_l</span><span style="color: #f5deb3;">,</span><span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;">_r</span><span style="color: #f5deb3;">,</span><span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;">val</span>)<br><span style="color: #f5deb3;">{</span><span style="color: #da70d6;">//插入一个值</span><br>    <span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;">mid</span><br>    <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #f5deb3;">_l</span><span style="color: #f5deb3;">&lt;=</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">l</span> <span style="color: #f5deb3;">&amp;</span> <span style="color: #f5deb3;">_r</span><span style="color: #f5deb3;">&gt;=</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">r</span>)<br>        <span style="color: #f5deb3;">{</span><span style="color: #da70d6;">//如果区域覆盖这棵树就直接改变这棵树就行了 不改变子树的信息</span><br>            <span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">min</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">max</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">val</span><br>            <span style="font-weight: bold; color: #b0c4de;">return</span> ;<br>        <span style="color: #f5deb3;">}</span><br>    <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #f5deb3;">_r</span><span style="color: #f5deb3;">&lt;=</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">r</span>)<br>        <span style="color: #f5deb3;">{</span><span style="color: #da70d6;">//插入左子树 </span><br>            <span style="color: #f5deb3;">insert</span>(<span style="color: #add8e6;">2</span><span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">_l</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">_r</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">val</span>);<br>            <span style="color: #da70d6;">//更新该区域的最大最小值</span><br>            <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">max</span> <span style="color: #f5deb3;">&gt;</span> <span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">max</span>)<br>                <span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">max</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">max</span><br>            <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">min</span> <span style="color: #f5deb3;">&lt;</span> <span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">min</span>)<br>                <span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">min</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">min</span><br>        <span style="color: #f5deb3;">}</span><br>    <span style="font-weight: bold; color: #b0c4de;">else</span><br>        <span style="color: #f5deb3;">{</span><br>            <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #f5deb3;">_l</span><span style="color: #f5deb3;">&gt;=</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">+</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">l</span>)<br>                <span style="color: #f5deb3;">{</span><span style="color: #da70d6;">//插入右子树</span><br>                    <span style="color: #f5deb3;">insert</span>(<span style="color: #add8e6;">2</span><span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">+</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">_l</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">_r</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">val</span>);<br>                    <span style="color: #da70d6;">//更新该区域的最大最小值</span><br>                    <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">+</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">max</span><span style="color: #f5deb3;">&gt;</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">max</span>)<br>                        <span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">max</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">+</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">max</span><br>                    <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">+</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">min</span><span style="color: #f5deb3;">&lt;</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">min</span>)<br>                        <span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">min</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">+</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">min</span><br>                <span style="color: #f5deb3;">}</span><br>            <span style="font-weight: bold; color: #b0c4de;">else</span><br>                <span style="color: #f5deb3;">{</span><br>                    <span style="color: #da70d6;">//插入左子树和右子树</span><br>                    <span style="color: #f5deb3;">insert</span>(<span style="color: #add8e6;">2</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">_l</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">r</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">val</span>);<br>                    <span style="color: #f5deb3;">insert</span>(<span style="color: #add8e6;">2</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">+</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">+</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">l</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">_r</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">val</span>);<br>                    <span style="color: #da70d6;">//更新该区域的最大最小值</span><br>                    <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">max</span> <span style="color: #f5deb3;">&gt;</span> <span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">max</span>)<br>                        <span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">max</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">max</span><br>                    <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">min</span> <span style="color: #f5deb3;">&lt;</span> <span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">min</span>)<br>                        <span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">min</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">min</span><br>                    <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">+</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">max</span> <span style="color: #f5deb3;">&gt;</span> <span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">max</span>)<br>                        <span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">max</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">+</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">max</span><br>                    <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">+</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">min</span> <span style="color: #f5deb3;">&lt;</span> <span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">min</span>)<br>                        <span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">min</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">+</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">min</span><br>                <span style="color: #f5deb3;">}</span><br>        <span style="color: #f5deb3;">}</span><br><span style="color: #f5deb3;">}</span><br><span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #ffffff;">query_max</span>(<span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">,</span><span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;">_l</span><span style="color: #f5deb3;">,</span><span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;">_r</span>)<br><span style="color: #f5deb3;">{</span><span style="color: #da70d6;">//求_l到_r区间的最大值</span><br>    <span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;">max</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">max1</span><br>    <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #f5deb3;">_l</span><span style="color: #f5deb3;">&lt;=</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">l</span> <span style="color: #f5deb3;">&amp;</span> <span style="color: #f5deb3;">_r</span><span style="color: #f5deb3;">&gt;=</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">r</span>)<span style="color: #da70d6;">//如果覆盖这个区域 直接返回</span><br>        <span style="font-weight: bold; color: #b0c4de;">return</span> <span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">max</span><br>    <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #f5deb3;">_r</span><span style="color: #f5deb3;">&lt;=</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">r</span>)<br>        <span style="color: #f5deb3;">{</span><span style="color: #da70d6;">//返回左子树的最大值</span><br>            <span style="font-weight: bold; color: #b0c4de;">return</span> <span style="color: #f5deb3;">query_max</span>(<span style="color: #add8e6;">2</span><span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">_l</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">_r</span>);<br>        <span style="color: #f5deb3;">}</span><br>    <span style="font-weight: bold; color: #b0c4de;">else</span><br>        <span style="color: #f5deb3;">{</span><br>            <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #f5deb3;">_l</span><span style="color: #f5deb3;">&gt;=</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">+</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">l</span>)<span style="color: #da70d6;">//返回右子树的最大值</span><br>                <span style="font-weight: bold; color: #b0c4de;">return</span> <span style="color: #f5deb3;">query_max</span>(<span style="color: #add8e6;">2</span><span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">+</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">_l</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">_r</span>);<br>            <span style="color: #da70d6;">//返回左子树和右子树中最大值的最大值</span><br>            <span style="color: #f5deb3;">max</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">query_max</span>(<span style="color: #add8e6;">2</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">_l</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">r</span>);<br>            <span style="color: #f5deb3;">max1</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">query_max</span>(<span style="color: #add8e6;">2</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">+</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">+</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">l</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">_r</span>);<br>            <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #f5deb3;">max</span><span style="color: #f5deb3;">&gt;</span><span style="color: #f5deb3;">max1</span>)<br>                <span style="font-weight: bold; color: #b0c4de;">return</span> <span style="color: #f5deb3;">max</span><br>            <span style="font-weight: bold; color: #b0c4de;">else</span><br>                <span style="font-weight: bold; color: #b0c4de;">return</span> <span style="color: #f5deb3;">max1</span><br>        <span style="color: #f5deb3;">}</span><br><span style="color: #f5deb3;">}</span><br><span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #ffffff;">query_min</span>(<span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">,</span><span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;">_l</span><span style="color: #f5deb3;">,</span><span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;">_r</span>)<br><span style="color: #f5deb3;">{</span><span style="color: #da70d6;">//类似上面的query_max</span><br>    <span style="font-weight: bold; color: #98fb98;">int</span> <span style="color: #f5deb3;">min</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">min1</span><br>    <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #f5deb3;">_l</span><span style="color: #f5deb3;">&lt;=</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">l</span> <span style="color: #f5deb3;">&amp;</span> <span style="color: #f5deb3;">_r</span> <span style="color: #f5deb3;">&gt;=</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">r</span>)<br>        <span style="font-weight: bold; color: #b0c4de;">return</span> <span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">min</span><br>    <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #f5deb3;">_r</span><span style="color: #f5deb3;">&lt;=</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">r</span>)<br>        <span style="font-weight: bold; color: #b0c4de;">return</span> <span style="color: #f5deb3;">query_min</span>(<span style="color: #add8e6;">2</span><span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">_l</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">_r</span>);<br>    <span style="font-weight: bold; color: #b0c4de;">else</span><br>        <span style="color: #f5deb3;">{</span><br>            <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #f5deb3;">_l</span><span style="color: #f5deb3;">&gt;=</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">+</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">l</span>)<br>                <span style="color: #f5deb3;">{</span><br>                    <span style="font-weight: bold; color: #b0c4de;">return</span> <span style="color: #f5deb3;">query_min</span>(<span style="color: #add8e6;">2</span><span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">+</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">_l</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">_r</span>);<br>                <span style="color: #f5deb3;">}</span><br>            <span style="font-weight: bold; color: #b0c4de;">else</span><br>                <span style="color: #f5deb3;">{</span><br>                    <span style="color: #f5deb3;">min</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">query_min</span>(<span style="color: #add8e6;">2</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">_l</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;"><em></em></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">r</span>);<br>                    <span style="color: #f5deb3;">min1</span><span style="color: #f5deb3;">=</span><span style="color: #f5deb3;">query_min</span>(<span style="color: #add8e6;">2</span><span style="color: #f5deb3;"></span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">+</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">node</span><span style="color: #f5deb3;">[</span><span style="color: #add8e6;">2</span><span style="color: #f5deb3;">*</span><span style="color: #f5deb3;">idx</span><span style="color: #f5deb3;">+</span><span style="color: #add8e6;">1</span><span style="color: #f5deb3;">].</span><span style="color: #f5deb3;">l</span><span style="color: #f5deb3;">,</span><span style="color: #f5deb3;">_r</span>);<br>                    <span style="font-weight: bold; color: #b0c4de;">if</span>(<span style="color: #f5deb3;">min</span><span style="color: #f5deb3;">&lt;</span><span style="color: #f5deb3;">min1</span>)<br>                        <span style="font-weight: bold; color: #b0c4de;">return</span> <span style="color: #f5deb3;">min</span><br>                    <span style="font-weight: bold; color: #b0c4de;">else</span><br>                        <span style="font-weight: bold; color: #b0c4de;">return</span> <span style="color: #f5deb3;">min1</span><br>                <span style="color: #f5deb3;">}</span><br>        <span style="color: #f5deb3;">}</span><br><span style="color: #f5deb3;">}</span></div>

	
	</div>
</div>

           
		

		</div>

		<!-- pagination -->
		<div>
  		<center>
		<div class="pagination">
<ul class="pagination">
	 
		
    	<li class="prev"><a href="/page/13/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i> Prev</a></li>
  		

        <li><a href="/"><i class="fa fa-home"></i>Home</a></li>

		
		   <li class="next"> <a href="/page/15/" class="alignright next">Next<i class="fa fa-arrow-circle-o-right"></i></a> </li>          
        
	
</ul>
</div>

  		</center>
		</div>

		
		
	</div> <!-- col-md-9 -->

	
		<div class="col-md-3">
	<div id="sidebar">
	
			
  <div id="site_search">
   <div class="form-group">
    <input type="text" id="local-search-input" name="q" results="0" placeholder="Search" class="st-search-input st-default-search-input form-control"/>
   </div>  
  <div id="local-search-result"></div>
  </div>


		
			
	<div class="widget">
		<h4>Categories</h4>
		<ul class="tag_box inline list-unstyled">
		
			<li><a href="/categories/ACM/">ACM<span>16</span></a></li>
		
			<li><a href="/categories/Algorithm/">Algorithm<span>14</span></a></li>
		
			<li><a href="/categories/HDU/">HDU<span>9</span></a></li>
		
			<li><a href="/categories/ACM/HDU/">HDU<span>1</span></a></li>
		
			<li><a href="/categories/Linux/">Linux<span>32</span></a></li>
		
			<li><a href="/categories/POJ/">POJ<span>6</span></a></li>
		
			<li><a href="/categories/Linux/TeX/">TeX<span>1</span></a></li>
		
			<li><a href="/categories/USACO/">USACO<span>21</span></a></li>
		
			<li><a href="/categories/Uncategorized/">Uncategorized<span>3</span></a></li>
		
			<li><a href="/categories/Visual-C/">Visual C++<span>1</span></a></li>
		
			<li><a href="/categories/实时计算/复盘/problem-solve/">problem_solve<span>1</span></a></li>
		
			<li><a href="/categories/wordpress/">wordpress<span>8</span></a></li>
		
			<li><a href="/categories/具体数学/">具体数学<span>2</span></a></li>
		
			<li><a href="/categories/分布式系统/">分布式系统<span>9</span></a></li>
		
			<li><a href="/categories/实时计算/复盘/">复盘<span>1</span></a></li>
		
			<li><a href="/categories/实时计算/">实时计算<span>7</span></a></li>
		
			<li><a href="/categories/分布式系统/实时计算/">实时计算<span>5</span></a></li>
		
			<li><a href="/categories/我的生活/想清楚/">想清楚<span>1</span></a></li>
		
			<li><a href="/categories/想清楚/">想清楚<span>2</span></a></li>
		
			<li><a href="/categories/成长/">成长<span>3</span></a></li>
		
			<li><a href="/categories/我的生活/">我的生活<span>9</span></a></li>
		
			<li><a href="/categories/所谓开源/">所谓开源<span>3</span></a></li>
		
			<li><a href="/categories/Algorithm/数学/">数学<span>1</span></a></li>
		
			<li><a href="/categories/POJ/数学/">数学<span>2</span></a></li>
		
			<li><a href="/categories/数学/">数学<span>2</span></a></li>
		
			<li><a href="/categories/分布式系统/实时计算/源码阅读/">源码阅读<span>1</span></a></li>
		
			<li><a href="/categories/源码阅读/">源码阅读<span>1</span></a></li>
		
			<li><a href="/categories/计算机图形学图像处理/">计算机图形学图像处理<span>1</span></a></li>
		
			<li><a href="/categories/Linux/计算机图形学图像处理/">计算机图形学图像处理<span>1</span></a></li>
		
			<li><a href="/categories/所谓开源/计算机基础/">计算机基础<span>1</span></a></li>
		
			<li><a href="/categories/Algorithm/计算机基础/">计算机基础<span>1</span></a></li>
		
			<li><a href="/categories/Linux/计算机基础/">计算机基础<span>2</span></a></li>
		
			<li><a href="/categories/计算机基础/">计算机基础<span>22</span></a></li>
		
			<li><a href="/categories/语言学习/计算机基础/">计算机基础<span>1</span></a></li>
		
			<li><a href="/categories/计算机安全/">计算机安全<span>3</span></a></li>
		
			<li><a href="/categories/计算机基础/语言学习/">语言学习<span>1</span></a></li>
		
			<li><a href="/categories/语言学习/">语言学习<span>2</span></a></li>
		
		</ul>
	</div>

		
			
	<div class="widget">
		<h4>Tag Cloud</h4>
		<ul class="tag_box inline list-unstyled">		
		
			<li><a href="/tags/gfw/">gfw<span>2</span></a></li>
		
			<li><a href="/tags/chain-matrix-multiplication/">chain matrix multiplication<span>1</span></a></li>
		
			<li><a href="/tags/rpm/">rpm<span>1</span></a></li>
		
			<li><a href="/tags/scc/">scc<span>1</span></a></li>
		
			<li><a href="/tags/hive/">hive<span>1</span></a></li>
		
			<li><a href="/tags/SG函数/">SG函数<span>1</span></a></li>
		
			<li><a href="/tags/ln/">ln<span>1</span></a></li>
		
			<li><a href="/tags/c/">c++<span>1</span></a></li>
		
			<li><a href="/tags/leetcode/">leetcode<span>6</span></a></li>
		
			<li><a href="/tags/learn-algorithm-from-scratch/">learn algorithm from scratch<span>3</span></a></li>
		
			<li><a href="/tags/错误配置/">错误配置<span>1</span></a></li>
		
			<li><a href="/tags/Red-Hat9/">Red Hat9<span>5</span></a></li>
		
			<li><a href="/tags/epoll/">epoll<span>1</span></a></li>
		
			<li><a href="/tags/单用户模式/">单用户模式<span>1</span></a></li>
		
			<li><a href="/tags/timestamp/">timestamp<span>1</span></a></li>
		
			<li><a href="/tags/filter/">filter<span>1</span></a></li>
		
			<li><a href="/tags/dynamic-programming/">dynamic-programming<span>2</span></a></li>
		
			<li><a href="/tags/chrome/">chrome<span>1</span></a></li>
		
			<li><a href="/tags/The-Little-Scheme/">The Little Scheme<span>1</span></a></li>
		
			<li><a href="/tags/最坏情况/">最坏情况<span>1</span></a></li>
		
		
		   <li><a href="/tags">...<span>277</span></a></li>
		 
		</ul>
	</div>


		
			
<div class="widget">
  <h4>Recent Posts</h4>
  <ul class="entry list-unstyled">
    
      <li>
        <a href="/2017/09/17/GC-标记-清除算法/" ><i class="fa fa-file-o"></i>GC 标记-清除算法</a>
      </li>
    
      <li>
        <a href="/2017/07/14/tmux-简单使用指南/" ><i class="fa fa-file-o"></i>tmux 简单使用指南</a>
      </li>
    
      <li>
        <a href="/2017/06/20/风险不仅仅是事件发生的概率/" ><i class="fa fa-file-o"></i>风险不仅仅是事件发生的概率</a>
      </li>
    
      <li>
        <a href="/2017/06/03/Streaming-程序调用-Producer-close-hang-住问题追查复盘/" ><i class="fa fa-file-o"></i>Streaming 程序调用 Producer.clo...</a>
      </li>
    
      <li>
        <a href="/2017/06/01/如何在不重启-Spark-Streaming-作业的情况下，增加消费的-topic/" ><i class="fa fa-file-o"></i>如何在不重启 Spark Streaming 作业的情...</a>
      </li>
    
  </ul>
</div>

		
			
<div class="widget">
	<h4>Links</h4>
	<ul class="blogroll list-unstyled">
	
		<li><i class="fa fa-github"></i><a href="http://www.github.com/klion26" title="My Github account." target="_blank"]);">My Github</a></li>
	
		<li><i class=""></i><a href="http://l34rner.github.io/" title="A blog focus on security!" target="_blank"]);">Debug0</a></li>
	
		<li><i class=""></i><a href="http://www.programlife.net/" title="程序人生" target="_blank"]);">代码疯子</a></li>
	
		<li><i class=""></i><a href="http://www.narutoacm.com/" title="NARUTOACM" target="_blank"]);">NARUTOACM</a></li>
	
		<li><i class=""></i><a href="http://www.tanglei.name/" title="tanglei 的 blog" target="_blank"]);">tanglei的blog</a></li>
	
		<li><i class=""></i><a href="http://www.microspaze.com/" title="微空间" target="_blank"]);">微空间</a></li>
	
		<li><i class=""></i><a href="http://www.toutian.org/" title="小昭的荒地" target="_blank"]);">小昭的荒地</a></li>
	
		<li><i class=""></i><a href="https://cosx.me/" title="异想天开" target="_blank"]);">异想天开</a></li>
	
		<li><i class=""></i><a href="http://www.xpc-yx.com/" title="远行" target="_blank"]);">远行</a></li>
	
		<li><i class=""></i><a href="http://www.zhangxc.com/" title="张学程" target="_blank"]);">张学程</a></li>
	
	</ul>
</div>


		
			<!-- calendar widget -->

  <script src="/js/calendar.js"></script>
  <script src="/js/languages.js"></script>
  <script type="text/javascript">
    $(function() {
    
      $('#calendar').aCalendar('zh-CN',{single:undefined, root:'undefined'});
    
    });
  </script>


<div class="widget-wrap">
  <h3 class="widget-title">日历云</h3>
  <div class="widget">
    <div id="calendar"></div>
  </div>
</div
		
	</div> <!-- sidebar -->
</div> <!-- col-md-3 -->

	
	
</div> <!-- row-fluid -->


	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2017 klion26
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>.    
</p> </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>

</body>
   </html>
