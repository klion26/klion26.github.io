<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Page 12 | klion26</title>
  <meta name="author" content="klion26">
  
  <meta name="description" content="个人博客，记录自己成长的点点滴滴">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="klion26"/>

  
    <meta property="og:image" content="undefined"/>
  

  
    <link rel="alternative" href="/atom.xml" title="klion26" type="application/atom+xml">
  
  
    <link href="/favicon.png" rel="icon">
  

  <!-- CSS -->
  <link rel="stylesheet" href="/css/themes/bootstrap.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  



</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
	<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
       <a class="navbar-brand" href="/">klion26</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class="fa fa-folder"></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/resume" title="Resume">
			  <i class=""></i>Resume
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 <div class="page-header page-header-inverse ">
  <h1 class="title title-inverse ">klion26</h1>
</div>

<div class="row page">

	
	<div class="col-md-9">
	

		<div class="slogan">
      <i class="fa fa-heart"></i>
      做中学, 学中做
</div>    
		<div id="top_search"></div>
		<div class="mypage">
		
		<!-- title and entry -->
        <!-- render top articles firstly -->
        
        <!-- render other articles -->
        
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2011-05-13 </div>
			<div class="article-title"><a href="/2011/05/13/factor-num-hdu-1299/" >因子个数_HDU_1299</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p>这题就是要求1/x+1/y=1/n,给出n,算出满足条件的x,y对(x&lt;=y).首先我们知道x和y都是大于n的,x&lt;=2<em>n,现在我们假设x=n+k(0&lt;k&lt;=n),那么y=n+n^2/k,我们知道y是整数,所以n^2一定是k的倍数,也就是k|n^2.这就要求我们求n^2的因子数了,OK,不过好像k还有限制条件- -|,其实我们可以先不考虑这个条件,因为x和y是对称的,所以算出总结过ans之后,ans’=(ans+1)&gt;&gt;1就是了.(加1是因为1/2n+1/2n=1/n这个式子只会出现一次).现在这题就变成了求一个数的因子数,我求因子数还是先分解素数做的,由于n^2实在太大,求sqrt(n^2)=n以内的素数也不可实现.其实我们只需要求出n的因子分解就行了,因为n^2=n</em>n,那么因子的次方就是n的因子分解之后每个素数次方的2倍.这样这题就解决了,下面是代码:</p>
<div class="dp-highlighter"><br><br>1.  <span><span class="preprocessor">#include <stdio.h> </stdio.h></span><span>  </span></span><br>2.  <span> </span><span class="preprocessor">#include <string.h> </string.h></span><span>  </span><br>3.  <span class="preprocessor">#include <stdlib.h> </stdlib.h></span><span>  </span><br>4.  <span class="preprocessor">#include <math.h> </math.h></span><span>  </span><br>5.  <span class="keyword">const</span><span> </span><span class="datatypes">int</span><span> MAX_N=6666;   </span><br>6.  <span class="datatypes">int</span><span> prime[MAX_N],idx;   </span><br>7.  <span class="datatypes">int</span><span> n;   </span><br>8.  <span class="keyword">void</span><span> init_prime()   </span><br>9.  <span>{   </span><br>10.  <span>    </span><span class="datatypes">int</span><span> i,j;   </span><br>11.  <span>    </span><span class="datatypes">char</span><span> <em>p= (</em></span><span class="datatypes">char</span><span> )malloc(</span><span class="keyword">sizeof</span><span>(</span><span class="datatypes">char</span><span>)<em>65546);   </em></span><br>12.  <span>    memset(p,0,</span><span class="keyword">sizeof</span><span>(</span><span class="datatypes">char</span><span>)65546);   </span><br>13.  <span>    </span><span class="keyword">for</span><span>(i=2;i<65536;i+=2) <="" span=""><br>14.  <span>        p[i]=1;   </span><br>15.  <span>    prime[0]=2;   </span><br>16.  <span>    idx=1;   </span><br>17.  <span>    </span><span class="keyword">for</span><span>(i=3;i<65536;i+=2) <="" span=""><br>18.  <span>        {   </span><br>19.  <span>            </span><span class="keyword">if</span><span>(0 == p[i])   </span><br>20.  <span>                {   </span><br>21.  <span>                    prime[idx]=i;   </span><br>22.  <span>                    idx++;   </span><br>23.  <span>                    </span><span class="keyword">if</span><span>(i<257) <="" span=""><br>24.  <span>                        {</span><span class="comment">/<em>注意这里i</em>i可能会越界<em>/</em></span><span>  </span><br>25.  <span>                            </span><span class="keyword">for</span><span>(j=ii;j<65536;j +="2*i)" <="" span=""><br>26.  <span>                                {   </span><br>27.  <span>                                    p[j]=1;   </span><br>28.  <span>                                }   </span><br>29.  <span>                        }   </span><br>30.  <span>                }   </span><br>31.  <span>        }   </span><br>32.  <span>    free(p);   </span><br>33.  <span>}   </span><br>34.  <span class="keyword">void</span><span> work()   </span><br>35.  <span>{   </span><br>36.  <span>    </span><span class="datatypes">int</span><span> ans=1;   </span><br>37.  <span>    </span><span class="datatypes">int</span><span> i,j;   </span><br>38.  <span>    </span><span class="keyword">for</span><span>(i=0;i<idx;i++) <="" span=""><br>39.  <span>        {   </span><br>40.  <span>            </span><span class="keyword">if</span><span>(0 == (n%prime[i]))   </span><br>41.  <span>                {   </span><br>42.  <span>                    j = 0;   </span><br>43.  <span>                    </span><span class="keyword">while</span><span>(0 == (n%prime[i]))   </span><br>44.  <span>                        {   </span><br>45.  <span>                            j++;   </span><br>46.  <span>                            n /= prime[i];   </span><br>47.  <span>                        }   </span><br>48.  <span>                    ans <em>= (2</em>j+1);   </span><br>49.  <span>                }   </span><br>50.  <span>            </span><span class="keyword">if</span><span>(1 == n)   </span><br>51.  <span>                {   </span><br>52.  <span>                    </span><span class="keyword">break</span><span>   </span><br>53.  <span>                }   </span><br>54.  <span>        }   </span><br>55.  <span>    </span><span class="keyword">if</span><span>(n&gt;1)   </span><br>56.  <span>        {   </span><br>57.  <span>            ans *= 3;   </span><br>58.  <span>        }   </span><br>59.  <span>    ans = (ans+1)&gt;&gt;1;   </span><br>60.  <span>    printf(</span><span class="string">“%d\n\n”</span><span>,ans);   </span><br>61.  <span>}   </span><br>62.  <span class="datatypes">int</span><span> main(</span><span class="keyword">void</span><span>)   </span><br>63.  <span>{   </span><br>64.  <span>    </span><span class="datatypes">int</span><span> t,i;   </span><br>65.  <span>    init_prime();   </span><br>66.  <span>    scanf(</span><span class="string">“%d”</span><span>,t);   </span><br>67.  <span>    </span><span class="keyword">for</span><span>(i=1;i&lt;=t;i++)   </span><br>68.  <span>        {   </span><br>69.  <span>            scanf(</span><span class="string">“%d”</span><span>,n);   </span><br>70.  <span>            printf(</span><span class="string">“Scenario #%d:\n”</span><span>,i);   </span><br>71.  <span>            work();   </span><br>72.  <span>        }   </span><br>73.  <span>    </span><span class="keyword">return</span><span> 0;   </span><br>74.  <span>}   </span><br></idx;i++)></span></65536;j></span></257)></span></65536;i+=2)></span></65536;i+=2)></span></div>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2011-05-12 </div>
			<div class="article-title"><a href="/2011/05/12/number-theory-poj-3358/" >[数论]POJ 3358</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p><a href="http://poj.org/problem?id=3358" target="_blank" rel="external">传送门</a><br>这题首先你要知道化成二进制的小数可以每次分子<em>2,再对分母求余,然后分母不变,这样就能得到所有的二进制小数了.知道了这一点之后,剩下的就只是一个欧拉函数的问题了.<br>题中给出p/q.需要求出r和s,那么按照上面的思想,可以转化成p</em>2^(r+s)=p<em>2^r(mod q)继续化变成<br>q|p</em>2^r(2^s-1).到了这里我们就基本没啥问题了,首先可以把p和q都除掉gcd(p,q)使之变成p’,q’.那么就变成了q’|p’<em>2^r(2^s-1)—–&gt;q’|2^r(2^s-1)(I)[因为没有p’和q’公因子了可以直接忽略p’],这里我们再把q’和2^r的最大公约数除掉,也就是q’一直除2知道不能除尽位置,这里就可以算法r了.算出r之后上面的式子I就再次变成了q’|(2^s-1)这里就熟悉了,我们转化成2^s=1(mod q’),首先我们知道gcd(2,q’)=1,然后2^phi(q’)=1(mod q’),对于k|q’,2^k=1(mod q’)也是有可能的,这里可以参照原根,因为如果对于2^k=1(mod q’)中最小的k==phi(q’)那么2就是q’的一个原根.好了,到这里本题基本就结束了.只需要求出q’的欧拉函数,然后对phi(q’)的每个因子都去试验下p</em>2^(r+k)  ?= p*2^r(mod q)如果等式成立,那么k就是答案(这里的k是phi(q’)的最小约数)代码如下:</p>
<div class="dp-highlighter"><br><br>1.  <span><span class="preprocessor">#include <stdio.h> </stdio.h></span><span>  </span></span><br>2.  <span> </span><span class="preprocessor">#include <string.h> </string.h></span><span>  </span><br>3.  <span class="preprocessor">#include <stdlib.h> </stdlib.h></span><span>  </span><br>4.  <span class="preprocessor">#include <math.h> </math.h></span><span>  </span><br>5.  <span class="datatypes"><strong>int64</strong></span><span> p,q,s,pr,r;   </span><br>6.  <span class="datatypes">int64</span><span> prime[6760],idx;   </span><br>7.  <span class="datatypes"><strong>int64</strong></span><span> my_map[36][2],total;   </span><br>8.  <span class="comment">/<em>初始化素数 用来分解一个数</em>/</span><span>  </span><br>9.  <span class="keyword">void</span><span> init_prime()   </span><br>10.  <span>{   </span><br>11.  <span>    </span><span class="datatypes">int64</span><span> i,j;   </span><br>12.  <span>    </span><span class="datatypes">char</span><span> p[65536];   </span><br>13.  <span>    memset(p,0,</span><span class="keyword">sizeof</span><span>(p));   </span><br>14.  <span>    prime[0]=2;   </span><br>15.  <span>    idx = 1;   </span><br>16.  <span>    </span><span class="keyword">for</span><span>(i=4;i<65536;i+=2) <="" span=""><br>17.  <span>        {   </span><br>18.  <span>            p[i]=1;   </span><br>19.  <span>        }   </span><br>20.  <span>    </span><span class="keyword">for</span><span>(i=3;i<65536;i +="2)" <="" span=""><br>21.  <span>        {   </span><br>22.  <span>            </span><span class="keyword">if</span><span>(0 == p[i])   </span><br>23.  <span>                {   </span><br>24.  <span>                    prime[idx]=i;   </span><br>25.  <span>                    idx++;   </span><br>26.  <span>                    </span><span class="keyword">for</span><span>(j = i<em>i;j &lt;65536; j += 2</em>i)   </span><br>27.  <span>                        {   </span><br>28.  <span>                            p[j]=1;   </span><br>29.  <span>                        }   </span><br>30.  <span>                }   </span><br>31.  <span>        }   </span><br>32.  <span>}   </span><br>33.  <span class="comment">/<em>两个数的最大公约数</em>/</span><span>  </span><br>34.  <span class="datatypes"><strong>int64</strong></span><span> gcd(</span><span class="datatypes">int64</span><span> a,</span><span class="datatypes"><strong>int64</strong></span><span> b)   </span><br>35.  <span>{   </span><br>36.  <span>    </span><span class="datatypes">int64</span><span> t;   </span><br>37.  <span>    </span><span class="keyword">while</span><span>(b)   </span><br>38.  <span>        {   </span><br>39.  <span>            t = a;   </span><br>40.  <span>            a = b;   </span><br>41.  <span>            b = t%b;   </span><br>42.  <span>        }   </span><br>43.  <span>    </span><span class="keyword">return</span><span> a;   </span><br>44.  <span>}   </span><br>45.  <span class="comment">/<em>求n的欧拉函数</em>/</span><span>  </span><br>46.  <span class="datatypes"><strong>int64</strong></span><span> get_phi(</span><span class="datatypes">int64</span><span> n)   </span><br>47.  <span>{   </span><br>48.  <span>    </span><span class="datatypes"><strong>int64</strong></span><span> ret=1;   </span><br>49.  <span>    </span><span class="datatypes">int64</span><span> i;   </span><br>50.  <span>    </span><span class="keyword">for</span><span>(i=2;i<em>i&lt;=n;i++)   </em></span><br>51.  <span>        {   </span><br>52.  <span>            </span><span class="keyword">if</span><span>(0 == (n%i))   </span><br>53.  <span>                {   </span><br>54.  <span>                    n /= i;   </span><br>55.  <span>                    ret = i-1;   </span><br>56.  <span>                    </span><span class="keyword">while</span><span>(0 == (n%i))   </span><br>57.  <span>                        {   </span><br>58.  <span>                            n /= i;   </span><br>59.  <span>                            ret <em>= i;   </em></span><br>60.  <span>                        }   </span><br>61.  <span>                }   </span><br>62.  <span>        }   </span><br>63.  <span>    </span><span class="keyword">if</span><span>(n &gt; 1)   </span><br>64.  <span>        ret = (n-1);   </span><br>65.  <span>    </span><span class="keyword">return</span><span> ret;   </span><br>66.  <span>}   </span><br>67.  <span class="comment">/<em>快速幂取模</em>/</span><span>  </span><br>68.  <span class="datatypes"><strong>int64</strong></span><span> pow_mod(</span><span class="datatypes">int64</span><span> a,</span><span class="datatypes"><strong>int64</strong></span><span> b,</span><span class="datatypes">int64</span><span> c)   </span><br>69.  <span>{   </span><br>70.  <span>    </span><span class="datatypes"><strong>int64</strong></span><span> ret=1;   </span><br>71.  <span>    </span><span class="keyword">while</span><span>(b)   </span><br>72.  <span>        {   </span><br>73.  <span>            </span><span class="keyword">if</span><span>(b1)   </span><br>74.  <span>                ret = (ret<em>a)%c;   </em></span><br>75.  <span>            b &gt;&gt;= 1;   </span><br>76.  <span>            a = (aa)%c;   </span><br>77.  <span>        }   </span><br>78.  <span>    </span><span class="keyword">return</span><span> ret;   </span><br>79.  <span>}   </span><br>80.  <span class="comment">/<em>dfs枚举q’的所有因子</em>/</span><span>  </span><br>81.  <span class="keyword">void</span><span> dfs(</span><span class="datatypes">int64</span><span> val,</span><span class="datatypes"><strong>int64</strong></span><span> now)   </span><br>82.  <span>{   </span><br>83.  <span>    </span><span class="datatypes">int64</span><span> t,j;   </span><br>84.  <span>    </span><span class="keyword">if</span><span>(now == total)   </span><br>85.  <span>        {   </span><br>86.  <span>            t = pow_mod(2,r+val,q);   </span><br>87.  <span>            </span><span class="keyword">if</span><span>((p<em>t)%q == pr)   </em></span><br>88.  <span>                {   </span><br>89.  <span>                    </span><span class="keyword">if</span><span>(val &lt; s)   </span><br>90.  <span>                        s = val;   </span><br>91.  <span>                }   </span><br>92.  <span>            </span><span class="keyword">return</span><span> ;   </span><br>93.  <span>        }   </span><br>94.  <span>    j = 1;   </span><br>95.  <span>    </span><span class="keyword">for</span><span>(t = 0;t&lt;=my_map[now][1];t++)   </span><br>96.  <span>        {   </span><br>97.  <span>            dfs(valj,now+1);   </span><br>98.  <span>            j = j<em>my_map[now][0];   </em></span><br>99.  <span>        }   </span><br>100.  <span>}   </span><br>101.  <span class="comment">/算法主体<em>/</em></span><span>  </span><br>102.  <span class="keyword">void</span><span> work()   </span><br>103.  <span>{   </span><br>104.  <span>    </span><span class="datatypes"><strong>int64</strong></span><span> p1,q1,tq;   </span><br>105.  <span>    </span><span class="datatypes">int64</span><span> e,i;   </span><br>106.  <span>    tq = gcd(p,q);   </span><br>107.  <span>    p1 = p/tq;   </span><br>108.  <span>    q1 = q/tq;   </span><br>109.  <span>    tq = q;   </span><br>110.  <span>    r = 1;   </span><br>111.  <span>    </span><span class="comment">/求r的值<em>/</em></span><span>  </span><br>112.  <span>    </span><span class="keyword">while</span><span>(0 == (tq1))   </span><br>113.  <span>        {   </span><br>114.  <span>            r++;   </span><br>115.  <span>            tq &gt;&gt;= 1;   </span><br>116.  <span>        }   </span><br>117.  <span>  </span><br>118.  <span>    e = get_phi(tq);   </span><br>119.  <span>    total = 0;   </span><br>120.  <span>    s = e;   </span><br>121.  <span>    </span><span class="comment">/分解phi(tq)<em>/</em></span><span>  </span><br>122.  <span>    </span><span class="keyword">for</span><span>(i=0;i<idx;i++) <="" span=""><br>123.  <span>        {   </span><br>124.  <span>            </span><span class="keyword">if</span><span>(0 == (e%prime[i]))   </span><br>125.  <span>                {   </span><br>126.  <span>                    my_map[total][0] = prime[i];   </span><br>127.  <span>                    my_map[total][1] = 0;   </span><br>128.  <span>                    </span><span class="keyword">while</span><span>(0 == (e%prime[i]))   </span><br>129.  <span>                        {   </span><br>130.  <span>                            e /= prime[i];   </span><br>131.  <span>                            my_map[total][1]++;   </span><br>132.  <span>                        }   </span><br>133.  <span>                    total++;   </span><br>134.  <span>                }   </span><br>135.  <span>        }   </span><br>136.  <span>    pr = (ppow_mod(2,r,q))%q;   </span><br>137.  <span>    dfs(1,0);   </span><br>138.  <span>    printf(</span><span class="string">“%I64d,%I64d\n”</span><span>,r,s);   </span><br>139.  <span>}   </span><br>140.  <span>  </span><br>141.  <span class="datatypes">int</span><span> main(</span><span class="keyword">void</span><span>)   </span><br>142.  <span>{   </span><br>143.  <span>    </span><span class="datatypes">int</span><span> i=1;   </span><br>144.  <span>    init_prime();   </span><br>145.  <span>    </span><span class="keyword">while</span><span>(EOF != scanf(</span><span class="string">“%I64d/%I64d”</span><span>,p,&amp;q))   </span><br>146.  <span>        {   </span><br>147.  <span>          </span><span class="comment">//printf(“%I64d\n”,(p*pow_mod(2,8,q))%q); </span><span>  </span><br>148.  <span>            printf(</span><span class="string">“Case #%d: “</span><span>,i);   </span><br>149.  <span>            i++;   </span><br>150.  <span>            work();   </span><br>151.  <span>        }   </span><br>152.  <span>    </span><span class="keyword">return</span><span> 0;   </span><br>153.  <span>}   </span><br></idx;i++)></span></65536;i></span></65536;i+=2)></span></div>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2011-05-12 </div>
			<div class="article-title"><a href="/2011/05/12/recent-life/" >最近的生活</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<pre><code>     一晃眼就大三下了,时间是真的快,最近听的看的最多的就是找实习,然后留在公司,到处都在比较哪家公司好?一见面就问,你实习去哪?

    我一直没有去找实习单位,我觉得大学三年真的在混日子,什么东西都没学到,现在什么都不会.怎么找实习?说参加过acm?没拿过奖,你怎么说.说算法很NB,实在是不敢恭维.说语言?就那点破C预言基础还在这扯淡?算了吧.还有一个原因就是我希望自己能够把下学期的区域赛搞好,如果不读研,那么就是最后一年区域赛了.

    大学已经过去这么久了,我一直没找到自己的方向,从很久以前就开始接触acm,一心以为可以在算法方面有点小成就,可是acm我也在打酱油,至少大三以前都是.最开始选这专业就是看着电视里面那些所谓的黑客,觉得他们很酷很NB,我也要这样,可是现在C语言还算过的去,其他的硬件,汇编,底层,脚本啥都不会,搞个毛线啊.以前学习那本&lt;自己动手写操作系统&gt;,后来也由于一系列事情给耽搁了.囧的是好多人加我QQ问我.

 接下来,没有接下来了,接下来我也干不了什么了,或许有笔试面试的时候,去玩玩吧,实习可能还是不会去了,既然已经错过很多了,那么接下来的区域赛就希望没有遗憾吧.Mon-monsterkill!!!

最后恭喜科长顺利拿到企鹅的offer,向神也应该没问题吧
</code></pre>
	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2011-05-08 </div>
			<div class="article-title"><a href="/2011/05/08/gcj-2011-klion26/" >gcj_2011前三题</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p>第四题没看题目,当时就想着反正25分就可以进r1了.所以第四题没看.前三题应该说还是好做的.第一题直接模拟,用两个变量存下在对方走的过程中,自己可以走多远,然后到自己走的时候,算上刚才的时间就行了.注意不管怎么样每人每轮至少需要一秒的时间,这1s是用来按按钮的.</p>
<p>第二题:直接模拟,每次清空的是整个字符串,所以这里注意下,每次合并的时候只需要考虑最后两个就行了,但是冲突的却要考虑所有已经在字符串里面的字符和当前新加入的字符.</p>
<p>第三题,一开始时想水的,因为3个small已经超过25分了,后来水过之后还是想了下,发现直接把所有的数异或起来,如果等于0就表示有方案,否则就是no solution.因为等于0的话,就可以把一些数分出来,然后两堆数分别的异或值一样[这样才能保证最后异或是0].然后求最大值,只需要用总值减去最小值就行了.这样就能保证每次都能拿到最大值.</p>
<p>还有就是gcj可以下代码,有兴趣的可以去下那些大牛的代码来看看.官方也有analysis.最后希望今年能rp爆发拿件衣服吧~~~</p>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2011-05-05 </div>
			<div class="article-title"><a href="/2011/05/05/computational-geometry-hdu-2857/" >HDU_2857_计算几何</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p>这题就是一个反射的题,给出光源和反射之后的一个点,输出反射点.VC时我一直用高中的方法去搞,而且没有考虑特殊情况,导致浪费了很多时间.回来就搜了下,发现这题基本就是一系列模板套上去就OK了,首先是点关于直线的对称点,然后是两条直线的交点,OK手工.下面给出我的代码:</p>
<div class="dp-highlighter"><br><br>1.  <span><span class="preprocessor">#include <stdio.h> </stdio.h></span><span>  </span></span><br>2.  <span> </span><span class="preprocessor">#include <string.h> </string.h></span><span>  </span><br>3.  <span class="preprocessor">#include <stdlib.h> </stdlib.h></span><span>  </span><br>4.  <span class="preprocessor">#include <math.h> </math.h></span><span>  </span><br>5.  <span>  </span><br>6.  <span class="keyword">typedef</span><span> </span><span class="keyword">struct</span><span>  </span><br>7.  <span>{   </span><br>8.  <span>    </span><span class="datatypes">double</span><span> x,y;   </span><br>9.  <span>}TPoint;   </span><br>10.  <span>  </span><br>11.  <span class="keyword">typedef</span><span> </span><span class="keyword">struct</span><span>  </span><br>12.  <span>{   </span><br>13.  <span>    </span><span class="datatypes">double</span><span> a,b,c;   </span><br>14.  <span>}TLine;   </span><br>15.  <span>  </span><br>16.  <span>TPoint src,end,sym,ref;   </span><br>17.  <span>TPoint mirr_point[2];   </span><br>18.  <span>TLine mirr;   </span><br>19.  <span class="comment">/<em>通过直线上的两个点得到直线的一般式</em>/</span><span>  </span><br>20.  <span>TLine get_line(TPoint p1,TPoint p2)   </span><br>21.  <span>{   </span><br>22.  <span>    TLine ret;   </span><br>23.  <span>    ret.a = p1.y-p2.y;   </span><br>24.  <span>    ret.b = p2.x-p1.x;   </span><br>25.  <span>    ret.c = p1.x<em>p2.y-p2.x</em>p1.y;   </span><br>26.  <span>    </span><span class="keyword">return</span><span> ret;   </span><br>27.  <span>}   </span><br>28.  <span class="comment">/<em>返回一个数的平方</em>/</span><span>  </span><br>29.  <span class="datatypes">double</span><span> squ(</span><span class="datatypes">double</span><span> a)   </span><br>30.  <span>{   </span><br>31.  <span>    </span><span class="keyword">return</span><span> a<em>a;   </em></span><br>32.  <span>}   </span><br>33.  <span class="comment">/得到p关于l的对称点<em>/</em></span><span>  </span><br>34.  <span>TPoint symmetric_point(TPoint p,TLine l)   </span><br>35.  <span>{   </span><br>36.  <span>    TPoint ret;   </span><br>37.  <span>    </span><span class="datatypes">double</span><span> d = squ(l.a)+squ(l.b);   </span><br>38.  <span>    ret.x = (squ(l.b)p.x-squ(l.a)<em>p.x-2</em>l.a<em>l.b</em>p.y-2<em>l.a</em>l.c)/d;   </span><br>39.  <span>    ret.y = (squ(l.a)<em>p.y-squ(l.b)</em>p.y-2<em>l.a</em>l.b<em>p.x-2</em>l.b<em>l.c)/d;   </em></span><br>40.  <span>    </span><span class="keyword">return</span><span> ret;   </span><br>41.  <span>}   </span><br>42.  <span class="comment">/返回<p1,p2>和&lt;p1,p3&gt;的叉积<em>/</em></p1,p2></span><span>  </span><br>43.  <span class="datatypes">double</span><span> cross(TPoint p1,TPoint p2,TPoint p3)   </span><br>44.  <span>{   </span><br>45.  <span>    </span><span class="keyword">return</span><span> (p2.x-p1.x)(p3.y-p1.y)-(p2.y-p1.y)<em>(p3.x-p1.x);   </em></span><br>46.  <span>}   </span><br>47.  <span>  </span><br>48.  <span class="comment">/用叉积得到两条直线的交点[前提是直线规范相交]<em>/</em></span><span>  </span><br>49.  <span class="keyword">void</span><span> work()   </span><br>50.  <span>{   </span><br>51.  <span>    </span><span class="comment">/求直线 <a,b>和&lt;c,d&gt;的交点p的方法 </a,b></span><br>52.  <span><span class="comment">      首先是得到4个叉积 </span> </span><br>53.  <span><span class="comment">      s1 = cross(a,b,c); </span> </span><br>54.  <span><span class="comment">      s2 = cross(a,b,d); </span> </span><br>55.  <span><span class="comment">      s3 = cross(c,d,a); </span> </span><br>56.  <span><span class="comment">      s4 = cross(c,d,b); </span> </span><br>57.  <span><span class="comment">      p.x = (c.x<em>s2-d.x</em>s1)/(s2-s1); </span> </span><br>58.  <span><span class="comment">      p.y = (s.y<em>s2-d.y</em>s1)/(s2-s1); </span> </span><br>59.  <span><span class="comment">      推导用定比分点 </span> </span><br>60.  <span><span class="comment">     <em>/</em></span><span>  </span></span><br>61.  <span>    </span><span class="datatypes">double</span><span> s1,s2,s3,s4;   </span><br>62.  <span>    s1 = cross(end,sym,mirr_point[0]);   </span><br>63.  <span>    s2 = cross(end,sym,mirr_point[1]);   </span><br>64.  <span>    s3 = cross(mirr_point[0],mirr_point[1],end);   </span><br>65.  <span>    s4 = cross(mirr_point[0],mirr_point[1],sym);   </span><br>66.  <span>    ref.x = (mirr_point[0].xs2-mirr_point[1].x<em>s1)/(s2-s1);   </em></span><br>67.  <span>    ref.y = (mirr_point[0].ys2-mirr_point[1].y*s1)/(s2-s1);   </span><br>68.  <span>    printf(</span><span class="string">“%.3f %.3f\n”</span><span>,ref.x,ref.y);   </span><br>69.  <span>    </span><span class="keyword">return</span><span> ;   </span><br>70.  <span>}   </span><br>71.  <span>  </span><br>72.  <span class="datatypes">int</span><span> main(</span><span class="keyword">void</span><span>)   </span><br>73.  <span>{   </span><br>74.  <span>    </span><span class="datatypes">int</span><span> t;   </span><br>75.  <span>    scanf(</span><span class="string">“%d”</span><span>,t);   </span><br>76.  <span>    </span><span class="keyword">while</span><span>(t–)   </span><br>77.  <span>        {   </span><br>78.  <span>            scanf(</span><span class="string">“%lf%lf”</span><span>,mirr_point[0].x,&amp;mirr_point[0].y);   </span><br>79.  <span>            scanf(</span><span class="string">“%lf%lf”</span><span>,mirr_point[1].x,&amp;mirr_point[1].y);   </span><br>80.  <span>            scanf(</span><span class="string">“%lf%lf”</span><span>,src.x,&amp;src.y);   </span><br>81.  <span>            scanf(</span><span class="string">“%lf%lf”</span><span>,end.x,&amp;end.y);   </span><br>82.  <span>            mirr = get_line(mirr_point[0],mirr_point[1]);   </span><br>83.  <span>            sym = symmetric_point(src,mirr);   </span><br>84.  <span>            work();   </span><br>85.  <span>        }   </span><br>86.  <span>    </span><span class="keyword">return</span><span> 0;   </span><br>87.  <span>}   </span><br></div>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2011-05-04 </div>
			<div class="article-title"><a href="/2011/05/04/permalink-change/" >本站文章链接改变</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p>电子商务课上,老师说有问号的链接蜘蛛都不喜欢.那好吧,我就把自己网站的所有文章链接都改了,现在是.html结尾了.符合蜘蛛的口味了:).中间改以前文章的别名用了我好久啊~~~.以后就这样用吧.如果你发现本站的某篇文章前几天还能看,现在却不能访问了.那么应该是链接换了.对您造成的不便还请谅解:)</p>
<p>现在本站的链接都是<a href="http://www.klion26.com/" target="_blank" rel="external">www.klion26.com/</a>文章别名.html了</p>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2011-05-02 </div>
			<div class="article-title"><a href="/2011/05/02/ball-union-zoj-3350/" >球体积并[ZOJ_3350]</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p><a href="http://acm.zju.edu.cn/onlinejudge/showProblem.do?problemId=4343" target="_blank" rel="external">传送门</a></p>
<p>题意就是给出两个球的参数,求这两个球的体积并.</p>
<p>做法:积分.</p>
<p>首先模拟球的体积积分,我们可以知道只需要算出球交的那一部分,然后用两个球冠的体积加就行了.不过中间我自己考虑到一点复杂的东西,一直以为会影响结果,其实是不会的,比如下图:</p>
<p><a href="http://www.klion26.com/wp-content/uploads/2011/05/3350.jpg" target="_blank" rel="external"><img src="http://www.klion26.com/wp-content/uploads/2011/05/3350-300x290.jpg" alt="klion26" title="3350"></a></p>
<p>我是算AF和CF然后积分的,如果A和C[两个球心]在ED两边的话,肯定是AF+CF=dis[球心距],但是上面这个图,两球心在同一边呢?其实是没有影响的,因为我们用AF+CF=dis和AF^2-CF^2=r1^2-r2^2这里并没有什么不可逆的,如果出现上面的情况我们会得到AF是负的,这样照样会得到正确的结果.那么程序就简单了.</p>
<div class="dp-highlighter"><br><div class="bar"></div>

<p></p></div><p></p>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2011-04-30 </div>
			<div class="article-title"><a href="/2011/04/30/primitive-root-poj-1284/" >原根的个数 POJ_1284</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<div>首先e[m,a]表示使得a^e[m,a]=1(mod m)的最小的正整数.那么我们有e[m,a^k]=e[m,a]/gcd(e[m,a],k)(k&gt;0).证明如下:记x=e[m,a],x’=x/gcd(x,k);x’’=e[m,a^k];先证明x’|x’’.</div><br><div>由题意可知a^x=1(mod m)  (a^k)^x’’=1(mod m)</div><br><div>由性质又因为e[m,a]|k<em>x’’,所以 x’=(x/gcd(x,k)) | (k</em>x’’/(gcd(x,k)).又gcd(x/gcd(x,k),k/gcd(x,k))=1.所以x’|x’’.</div><br><div>再证明x’’|x’      </div><br><div>a^(k<em>x’)=(a^k)^x’=1(mod m)—&gt;x’’|x’</em></div><br><div>所以x’=x’’;</div><br><div>推论如果gcd(k,e[m,a])=1,e[m,a^k]=e[m,a];我们可以用这个来求原根的个数.假设一个数n存在原根,且最小的原根等于g.n的欧拉函数为phi[n].那么n的原根的个数就是phi[phi[n]].也就是g的t次方[gcd(t,phi[n])=1 1&lt;=t&lt;phi[n])也是一个原根,当然这里也包含了所有的原根[想想为什么?似乎只能说明原根数至少是phi[phi[n]]个?再好好想想就出来了.注意a^k != 1(mod m)(k&lt;e[m,a])]</div><br><div>那么1284就直接求一个数的欧拉函数了.代码如下:</div><br><div class="dp-highlighter"><br><br>1.  <span><span class="comment">/ </span> </span><br>2.  <span><span class="comment">ID:klion26 </span> </span><br>3.  <span><span class="comment">LANG:C </span> </span><br>4.  <span><span class="comment">TASK:POJ_1284 </span> </span><br>5.  <span><span class="comment"> <em>/</em></span><span>  </span></span><br>6.  <span> </span><span class="preprocessor">#include <stdio.h> </stdio.h></span><span>  </span><br>7.  <span class="preprocessor">#include <string.h> </string.h></span><span>  </span><br>8.  <span class="preprocessor">#include <stdlib.h> </stdlib.h></span><span>  </span><br>9.  <span class="preprocessor">#include <math.h> </math.h></span><span>  </span><br>10.  <span>  </span><br>11.  <span class="datatypes">int</span><span> eular[65540];   </span><br>12.  <span class="keyword">void</span><span> init()   </span><br>13.  <span>{   </span><br>14.  <span>    </span><span class="datatypes">int</span><span> i,j;   </span><br>15.  <span>    memset(eular,0,</span><span class="keyword">sizeof</span><span>(eular));   </span><br>16.  <span>    </span><span class="keyword">for</span><span>(i=2;i<65536;i++) <="" span=""><br>17.  <span>        {   </span><br>18.  <span>            </span><span class="keyword">if</span><span>(0 == eular[i])   </span><br>19.  <span>                {   </span><br>20.  <span>                    </span><span class="keyword">for</span><span>(j=i;j<65536;j+=i) <="" span=""><br>21.  <span>                        {   </span><br>22.  <span>                            </span><span class="keyword">if</span><span>(0 == eular[j])   </span><br>23.  <span>                                eular[j]=j;   </span><br>24.  <span>                            eular[j] /= i;   </span><br>25.  <span>                            eular[j] = (i-1);   </span><br>26.  <span>                        }   </span><br>27.  <span>                }   </span><br>28.  <span>        }   </span><br>29.  <span>}   </span><br>30.  <span class="datatypes">int</span><span> main(</span><span class="keyword">void</span><span>)   </span><br>31.  <span>{   </span><br>32.  <span>    </span><span class="datatypes">int</span><span> p;   </span><br>33.  <span>    init();   </span><br>34.  <span>    </span><span class="keyword">while</span><span>(EOF != scanf(</span><span class="string">“%d”</span><span>,p))   </span><br>35.  <span>        {   </span><br>36.  <span>            printf(</span><span class="string">“%d\n”</span><span>,eular[eular[p]]);   </span><br>37.  <span>        }   </span><br>38.  <span>    </span><span class="keyword">return</span><span> 0;   </span><br>39.  <span>}   </span><br></65536;j+=i)></span></65536;i++)></span></div>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2011-04-23 </div>
			<div class="article-title"><a href="/2011/04/23/5th-csu-acm-competition/" >第五届中南大学校赛-klion26</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<pre><code>这次校赛应该是最后一次以参赛队员参加了,明年就算弄也应该不是参赛队员了.可是还是有很多不如意之处啊.虽然拿了个较好的成绩,但是比赛实在是……,可以用惨不忍睹来形容.首先这套题出的还算可以的,当然除了几个陈题,难度应该是A-E,I水体,然后K是一个巨难但是可以直接水的题.F,G,H,J都还是比较难的.可是最后我们是已5题结束比赛,I是我最后画错图了,然后一直在分N(非常非常大)中情况讨论.其实不画错图的话,一转化就变成了4中情况.然后这题我们还一直没看sample - -||.表示这次我们队配合的也不是挺好,至少没有达到那种1+1+1&gt;=3,甚至是2都没有.[不过后面我们队换了个人,希望配好要好,我理想中的配合是1+1+1至少要&amp;gt;=2.5]我们是2小时的时候过了5题,然后后面3小时一直浪费了,然后三个人一人一个题,可是三个题都没出- -|.如果三个人一起攻一个题的话,应该还是有希望过题的,可是这就是后话了.我觉得我们这次这么惨的原因有:配合不好,基本是单兵作战,除了I基本讨论很少;不够冷静,前面被水体卡了,然后就有点慌了;最后的时间分配上有点问题,这个和配合有一定关系;题目没有多人读[赛前我们都讨论过要多人读题- -|],由于这个被C卡了,后来在100分钟的时候看懂题意,然后20分钟过掉.当时那个汗啊- -|.最最不爽的是后面三小时浪费了.

  现在我们队的三个人[&quot;这怎么好意思&quot;大婶,czw加我.]还没一起做过题.等五一的时候一起做做题,应该锻炼锻炼配合,不然不行啊.吃饭的时候&quot;这怎么好意思&quot;大婶说了个很欠扁的队名&quot;这怎么好意思&quot;.[我邪恶的认为如果有实力的话还是可以这么取名的- -|],那么接下来就看我们三个的实力能达到什么水平了,其实我一直认为小小概率事件也是有发生的可能的.加油吧.最后希望实训可以代替实习吧.
</code></pre>
	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2011-04-20 </div>
			<div class="article-title"><a href="/2011/04/20/math-education/" >随记：我们需要怎样的数学教育？</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p>转自Matrix67:<a href="http://www.matrix67.com/blog/archives/4294" target="_blank" rel="external">原文地址</a></p>
<pre><code>注：这篇文章里有很多个人观点，带有极强的主观色彩。其中一些思想不见得是正确的，有一些话也是我没有资格说的。我只是想和大家分享一下自己的一些想法。大家记得保留自己的见解。也请大家转载时保留这段话。

我不是一个数学家。我甚至连数学专业的人都不是。我是一个纯粹打酱油的数学爱好者，只是比一般的爱好者更加执着，更加疯狂罢了。初中、高中一路保送，大学不在数学专业，这让我可以不以考试为目的地学习自己感兴趣的数学知识，让我对数学有如此浓厚的兴趣。从 05 年建立这个 Blog 以来，每看到一个惊人的结论或者美妙的证明，我再忙都会花时间把它记录下来，生怕自己忘掉。不过，我深知，这些令人拍案叫绝的雕虫小技其实根本谈不上数学之美，数学真正博大精深的思想我恐怕还不曾有半点体会。

我多次跟人说起，我的人生理想就是，希望有一天能学完数学中的各个分支，然后站在一个至高点，俯瞰整个数学领域，真正体会到数学之美。但是，想要实现这一点是很困难的。最大的困难就是缺少一个学习数学的途径。看课本？这就是我今天想说的——课本极其不靠谱。

这个我深有体会。最近两年，我一直在做初中数学培训，有了一些自己的看法。数学教育大致分成三个阶段，看山是山看水是水，看山不是山看水不是水，看山是山看水是水。

最早数学教育就是，教你几个定理，告诉你它们是怎么证的，再让你证明一些新的定理。

后来的要求就变了：光学数学不够，还要用数学。数学教育已经上升了一个层次：大家要把数学用到生活中去，解释生活中的现象。一时间，课本也好，中考题也好，全是与生活实际紧密联系的数学应用题，仿佛放眼望去身边真的处处都是数学一样。商场卖货，书店卖书，农民耕地，工人铺砖，再一次涌现在了课本、教辅书和考试题里。其实，数学可以解释生活，只是我们并不会这样去做。生活的变量太多，再强大的数学模型也不可能考虑到一切。对于平常人来说，真正能用到数学的地方，也就只有算算帐了。

总有一天，数学教育会拔高到第三层：返朴归真，数学真正牛 B 的还是它本身。你会发现，那些伟大的数学思想，那些全新的数学理论，最初研究的动机并不是要急于解释我们身边的某某诡异现象，而是它本身的美妙。线性代数的出现，很大程度上要归功于神奇的 [Cramer 悖论](http://www.matrix67.com/blog/archives/3803)；群论的诞生，也是 Galois 研究多项式的解的结构时的产物；Euler 创立图论，源于那个没有任何实用价值的 Königsberg 蛋疼问题；非欧几何的出现，则完全是由于这个问题本身的魅力。微积分呢？它确实有非常广泛的实用价值，物理学的各种定义都依赖于微积分；但很可惜，它不是一种具有颠覆性的数学思想。

初一课本讲负数时，反复说负数的实际意义，比如海拔、得分、温度、收支等等，把负数变成一种真实的存在。其实，这不是人们使用负数的主要动机。负数的价值在于，它可以把减去一个数变成加上一个负数，很多加加减减复杂到甚至需要分类讨论的东西都能够用一个式子统一在一起了。比如说小学的盈亏问题：如果每人分 3 个苹果还多 8 个，如果每人分 5 个苹果则还多 2 个，问有多少人多少苹果？解法是，两种分法多出来的苹果相差 6 个，这是每个人多分了两个苹果引起的，因此一共 3 个人，从而可以算出有 17 个苹果。但是，如果把问题改成“每人分 3 个就多 8 个，每人分 5 个就**少** 2 个”该怎么办？上面的公式就变了，8 不能减 2，要加 2 。因此，小学讲盈亏问题会分“盈亏”、“盈盈”、“亏亏”三种情况讨论。其实，如果把“少 2 个”理解成“多 -2 个”，问题是一模一样的，之前的公式同样适用。负数这一新思想立即把三种情况统一在了一起，它们的本质变得一模一样了。

这是我给初一学生讲负数时必讲的例子。这才是负数的意义。这才是课本里应该反复举例强调的。

某次看到论坛里有人问，群论有什么意思啊？某人回复，群论很有意思啊，只是课本把它写得没意思了，比方说，讲群论怎么能不讲魔方呢？我不赞同这个回复。数学吸引人的地方，不在于它在生活中的应用，而在于它本身的美。为什么不讲 Lagrange 定理？为什么不讲 Sylow 定理？对于我来说，最能吸引我学习一个数学课题的，莫过于一系列非平凡的结论以及它的精彩证明了。

科幻小说《伤心者》的末尾列举了很多长期以来未得到实际应用的数学理论，不过却没有说到一个更为极端的例子。数学中的皇冠——数论——2000 年来一直没有任何实际应用，是最纯粹的数学。直到计算机，尤其是现代密码学的出现，才让数论第一次走出数学，走进了人们的生活中。是什么在支持数论的研究呢？只能是数学本身了。

在我给初中孩子出几何题时，我都尝试着给出一般性的问题，求证三角形中两边的平均长度大于第三边上的中线长，求证三角形三条高的倒数和等于内切圆半径的倒数，等等。即使是纯代数问题和解析几何问题，我也总能编出题目描述简单并且极具挑战性的问题。两数的和与积相等共有多少个整数解？把直线 y=x 沿 y=2x 翻折后得到的直线方程是什么？在感受结论之美的同时，他们也会因自己独立解决了一个真正的数学问题而激动。

然而，这还不算教育的主要问题。某次与一个数学专业的同学聊到 Riemann 假设时，对方说她从没听说过 Riemann 假设。我大吃一惊，数学专业的人怎么可能不知道 Riemann 假设呢？随即明白，这也是拜数学教育所赐。翻开数学课本，总是成套的理论体系，先定义再证明，说得头头是道。可是，这些东西都是怎么来的呢？在得出这些东西的过程中，数学家们走了哪些弯路呢？课本上只字不提。课本里从来都只讲什么是对的，却从来不讲什么是错的。数学考试只会让你证明一个结论，从不会让你推翻一个结论。

2010 年江苏高考数学题因为“太难”备受争议。其中最后一道大题如下：已知 △ABC 的三边长都是有理数，(1) 求证 cos(A) 是有理数； (2) 求证对任意正整数 n ， cos(nA) 是有理数。其实这道题是一个非常漂亮的好题，描述简单，问题普遍，结论有趣，证明巧妙，中考题就该这么出。不过我觉得，如果再补上这么一个小问，这道题就真的完美了：证明或推翻， sin(A) 一定是有理数。当然，问题本身并不难，等边三角形就是一个最简单的反例。关键在于，推翻一个结论，寻找一个反例，也是数学研究的一个基本能力，而这是中学数学教育中很少重视的。

于是，在教初中数学时，我布置的每道作业题都无一例外地以“证明或推翻”打头。偶尔，有些题目真的是需要学生们去推翻它。比方说，证明或推翻，周长和面积都相等的两个三角形全等。不同的人找到的反例不一样，有的简单有的复杂，有的深刻有的盲目。再用一整节课的时间逐一讲解并点评大家构造的反例，给孩子们带来的收获远比直接讲题要大得多。

但是，我还没有讲到数学教育中最主要的问题。前段时间去图灵的作译者交流会，期间和刘江老师简单地聊了几句。刘江老师提到一个网站叫做 [Better Explained](http://betterexplained.com/) 。他说，其实大家没能理解数学之妙，是因为教的时候没教好，数学本来可以讲得更直观，更通俗的。

我非常同意刘江老师的说法。举个例子吧。如果有学生问，质数是什么？老师会说，质数就是除了 1 和自身以外，没有其它约数的数。不对，这不是学生想要的答案。学生真正想知道的是，质数**究竟是什么**？其实，质数就是不可再分的数，是组成一切自然数的基本元素。 12 是由两个 2 和一个 3 组成的，正如 H&lt;sub&gt;2&lt;/sub&gt;O 是由两个 H 原子和一个 O 原子组成的一样。只是和化学世界不同，算术世界的元素有无穷多个。算术世界内的一切对象、定理和方法，都是由这些基本元素组成的，这才是质数为什么那么重要的原因。

高中学复数时，相信很多人会纳闷儿：虚数是什么？为什么要承认虚数？虚数怎么就表示旋转了？其实，人们建立复数理论，并不是因为人们有时需要处理根号里是负数的情况，而是因为下面这个不可抗拒的理由：如果承认虚数，那么 n 次多项式就会有恰好 n 个根，数系一下子就如同水晶球一般的完美了。但复数并不能形象地反映在数轴上，这不仅是因为实数在数轴上已经完备了，还有另外一个原因：没有什么几何操作连做两次就能实现取相反数。比如，“乘以 3”就代表数轴上的点离原点的距离扩大到原来的三倍，“3 的平方”，也就是“乘以 3 再乘以 3”，就是把上述操作连做两次，即扩大到 9 倍。同样地，“乘以 -1”表示把点翻折到数轴另一侧，“-1 的平方”就会把这个点又翻回来。但是，怎么在数轴上表示“乘以 i ”的操作？换句话说，什么操作连做两次能够把 1 变成 -1 ？一个颇具革命性的创意答案便是，把这个点绕着原点旋转 90 度。转 90 度转两次，自然就跑到数轴的另一侧了。没错，这就把数轴扩展到了整个平面，正好解决了复数没地方表示的问题。于是，复数的乘法可以解释为缩放加旋转，复数本身自然也就有了 z = r (cosθ + sinθi) 的表示方式。顺着这个道理推下去，一切都顺理成章了。复数不但有了几何解释，有时还能更便捷地处理几何问题。

一直对线性代数很感兴趣，于是大学选了线性代数这门课，结果收获几乎为零。原因很简单，本来期待着来一次大彻大悟，结果学了一个学期，我还是不知道矩阵究竟是什么，矩阵乘法为什么要这么定义，矩阵可逆又怎么了，行列式究竟表示什么。

直到今天看到[这个网页](http://mathoverflow.net/questions/7584/what-are-the-most-misleading-alternate-definitions-in-taught-mathematics)，才看见有人一语道破线性代数的真谛（这也是我终于决定写成此文的直接原因）。我终于找到了我那一个学期企图寻找的东西。就好像把 x 变成 2 x 一样，我们经常需要把 (x, y) 变成 (2 x + y, x - 3 y) 之类的东西，这就叫做线性变换。于是才想到定义矩阵乘法，用于表示一切线性变换。几何上看，把平面上的每个点 (x, y) 都变到 (2 x + y, x - 3 y) 的位置上去，效果就相当于对这个平面进行了一个“线性的拉扯”。

  ![](http://www.matrix67.com/blogimage_2011/201104131.png)

矩阵的乘法，其实就是多个线性变换叠加的效果，它显然满足结合律，但不满足交换律。主对角线全是 1 的矩阵所对应的线性变换其实就是不变的意思，因此它叫做单位矩阵。矩阵 A 乘以矩阵 B 得单位矩阵，就是做完线性变换 A 后再做一次线性变换 B 就又变回去了的意思，难怪我们说矩阵 B 是矩阵 A 的逆矩阵。课本上对行列式的定义千奇百怪，又是什么递归，又是什么逆序对，还编写口诀帮助大家记忆。其实，行列式的真正定义就一句话：每个单位正方形在线性变换之后的面积。因此，单位矩阵的行列式当然就为 1，某行全为 0 的行列式显然为 0 （因为某一维度会被无视掉，线性变换会把整个平面压扁）， |A·B| 显然等于 |A|·|B| 。行列式为 0 ，对应的矩阵当然不可逆，因为这样的线性变换已经把平面压成一条线了，什么都不能把它变回去了。当然，更高阶的矩阵就对应了更高维的空间。一瞬间，所有东西都解释清楚了。

难以置信的是，如此令人兴奋的东西，我们所用的课本上竟然一点都没有说到！那些开篇就讲行列式定义的课本，为什么不先把线性变换下的面积当作行列式的定义，再推导出行列式的计算方法，再来补充说明“其实从逻辑上说，我们应该先用这个计算公式来定义行列式，然后才说行列式可以用来表示面积”？为了严密性而牺牲了可读性，太不值得了。写到这里，我真想立即拾起线性代数课本，用全新的眼光重看所有的定义和定理，然后重新写一份真正的线性代数教材来。

高数课本同样荒唐。主流的高数课本都是先讲导数，再讲不定积分，再讲定积分，完全把顺序弄颠倒了。好多人学完微积分，虽然已经用得得心应手，但仍然没懂这是怎么回事。究其原因，还是数学教学的问题。

我理想中的微积分课本则应该是先讲定积分，再讲导数，再讲不定积分。先讲定积分，不过千万不能用现在的定积分符号，避免学生误认为定积分是由不定积分发展而来的。讲自古就有的积分思想，讲分割求和取极限的方法，自创一套定积分的符号。然后另起炉灶，开始讲微分，讲无穷小，讲变化量。最后才讲到，随着 x 一点一点的增加，曲线下方面积的变化量就是那一条条竖线的高度——不就是这个曲线本身的函数值吗？因此，反过来，为了求出一个函数对应的曲线下方的面积，只需要找到一个新函数，使得它的微分正好就是原来那个函数。啪，微积分诞生了。

光讲形式化的推导沒有用。这才是真正把微积分讲懂的方式。严格定义和严格证明应该放到直观理解之后。只可惜，我还没看到哪本课本是这样写的。

说了这么多，其实总结起来只有一句话：我们学习数学的过程，应该和人类认识数学的过程一样。我们应该按照数学发展历史的顺序学习数学。我们应该从古人计数开始学起，学到算术和几何，学到坐标系和微积分，了解每个数学分支创立的动机，以及这个分支曲折的发展历程。我们应该体会数学发展的每个瓶颈，体会每个全新理论的伟大之处，体会每一次数学危机让数学家们手忙脚乱的感觉，体会先有直观思维再给出形式化描述的艰难。

可惜，我没有找到任何用这种方式学习数学的途径。

不过也好。既然没有捷径，那就让我自己把那堆形式化的定义和证明通看一遍，然后自己去体会其中的道理吧。这样看来，我们的教育也没错：先用考试逼着大家把该学的东西都学了，尽管自己也不知道自己学的是啥；等将来的某一天达到一定高度时，回头看看过去学的东西，突然恍然大悟，明白了当初学的究竟是什么。这无疑是一件更有乐趣的事情。我希望有一天能像今天这样，能悟出高等代数究竟在讲什么，能悟出范畴论到底有什么用，能悟出 Riemann 假设为何如此牛 B，能悟出 Hilbert 空间是什么东西，然后把它们都写下来。

这恐怕得花我大半辈子的时间吧。
</code></pre>
	
	</div>
</div>

           
		

		</div>

		<!-- pagination -->
		<div>
  		<center>
		<div class="pagination">
<ul class="pagination">
	 
		
    	<li class="prev"><a href="/page/11/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i> Prev</a></li>
  		

        <li><a href="/"><i class="fa fa-home"></i>Home</a></li>

		
		   <li class="next"> <a href="/page/13/" class="alignright next">Next<i class="fa fa-arrow-circle-o-right"></i></a> </li>          
        
	
</ul>
</div>

  		</center>
		</div>

		
		
	</div> <!-- col-md-9 -->

	
		<div class="col-md-3">
	<div id="sidebar">
	
			
  <div id="site_search">
   <div class="form-group">
    <input type="text" id="local-search-input" name="q" results="0" placeholder="Search" class="st-search-input st-default-search-input form-control"/>
   </div>  
  <div id="local-search-result"></div>
  </div>


		
			
	<div class="widget">
		<h4>Categories</h4>
		<ul class="tag_box inline list-unstyled">
		
			<li><a href="/categories/ACM/">ACM<span>16</span></a></li>
		
			<li><a href="/categories/Algorithm/">Algorithm<span>14</span></a></li>
		
			<li><a href="/categories/ACM/HDU/">HDU<span>1</span></a></li>
		
			<li><a href="/categories/HDU/">HDU<span>9</span></a></li>
		
			<li><a href="/categories/Linux/">Linux<span>32</span></a></li>
		
			<li><a href="/categories/POJ/">POJ<span>6</span></a></li>
		
			<li><a href="/categories/Linux/TeX/">TeX<span>1</span></a></li>
		
			<li><a href="/categories/USACO/">USACO<span>21</span></a></li>
		
			<li><a href="/categories/Uncategorized/">Uncategorized<span>3</span></a></li>
		
			<li><a href="/categories/Visual-C/">Visual C++<span>1</span></a></li>
		
			<li><a href="/categories/实时计算/复盘/problem-solve/">problem_solve<span>1</span></a></li>
		
			<li><a href="/categories/wordpress/">wordpress<span>8</span></a></li>
		
			<li><a href="/categories/具体数学/">具体数学<span>2</span></a></li>
		
			<li><a href="/categories/分布式系统/">分布式系统<span>9</span></a></li>
		
			<li><a href="/categories/实时计算/复盘/">复盘<span>1</span></a></li>
		
			<li><a href="/categories/实时计算/">实时计算<span>7</span></a></li>
		
			<li><a href="/categories/分布式系统/实时计算/">实时计算<span>5</span></a></li>
		
			<li><a href="/categories/我的生活/想清楚/">想清楚<span>1</span></a></li>
		
			<li><a href="/categories/想清楚/">想清楚<span>2</span></a></li>
		
			<li><a href="/categories/成长/">成长<span>3</span></a></li>
		
			<li><a href="/categories/我的生活/">我的生活<span>9</span></a></li>
		
			<li><a href="/categories/所谓开源/">所谓开源<span>3</span></a></li>
		
			<li><a href="/categories/数学/">数学<span>2</span></a></li>
		
			<li><a href="/categories/Algorithm/数学/">数学<span>1</span></a></li>
		
			<li><a href="/categories/POJ/数学/">数学<span>2</span></a></li>
		
			<li><a href="/categories/分布式系统/实时计算/源码阅读/">源码阅读<span>1</span></a></li>
		
			<li><a href="/categories/源码阅读/">源码阅读<span>1</span></a></li>
		
			<li><a href="/categories/Linux/计算机图形学图像处理/">计算机图形学图像处理<span>1</span></a></li>
		
			<li><a href="/categories/计算机图形学图像处理/">计算机图形学图像处理<span>1</span></a></li>
		
			<li><a href="/categories/Algorithm/计算机基础/">计算机基础<span>1</span></a></li>
		
			<li><a href="/categories/Linux/计算机基础/">计算机基础<span>2</span></a></li>
		
			<li><a href="/categories/所谓开源/计算机基础/">计算机基础<span>1</span></a></li>
		
			<li><a href="/categories/计算机基础/">计算机基础<span>22</span></a></li>
		
			<li><a href="/categories/语言学习/计算机基础/">计算机基础<span>1</span></a></li>
		
			<li><a href="/categories/计算机安全/">计算机安全<span>3</span></a></li>
		
			<li><a href="/categories/计算机基础/语言学习/">语言学习<span>1</span></a></li>
		
			<li><a href="/categories/语言学习/">语言学习<span>2</span></a></li>
		
		</ul>
	</div>

		
			
	<div class="widget">
		<h4>Tag Cloud</h4>
		<ul class="tag_box inline list-unstyled">		
		
			<li><a href="/tags/batchDuration/">batchDuration<span>1</span></a></li>
		
			<li><a href="/tags/set-cover/">set cover<span>1</span></a></li>
		
			<li><a href="/tags/DFS/">DFS<span>2</span></a></li>
		
			<li><a href="/tags/real-time-computing/">real_time-computing<span>2</span></a></li>
		
			<li><a href="/tags/stack/">stack<span>1</span></a></li>
		
			<li><a href="/tags/写作/">写作<span>1</span></a></li>
		
			<li><a href="/tags/proof/">proof<span>1</span></a></li>
		
			<li><a href="/tags/火柴棍式程序题/">火柴棍式程序题<span>1</span></a></li>
		
			<li><a href="/tags/scc/">scc<span>1</span></a></li>
		
			<li><a href="/tags/gnome-tweak-tool/">gnome-tweak-tool<span>1</span></a></li>
		
			<li><a href="/tags/append/">append<span>2</span></a></li>
		
			<li><a href="/tags/yum/">yum<span>1</span></a></li>
		
			<li><a href="/tags/rm/">rm<span>1</span></a></li>
		
			<li><a href="/tags/lzo/">lzo<span>1</span></a></li>
		
			<li><a href="/tags/top排序/">top排序<span>2</span></a></li>
		
			<li><a href="/tags/数学/">数学<span>5</span></a></li>
		
			<li><a href="/tags/验证码/">验证码<span>1</span></a></li>
		
			<li><a href="/tags/JobGenerator/">JobGenerator<span>1</span></a></li>
		
			<li><a href="/tags/教师/">教师<span>1</span></a></li>
		
			<li><a href="/tags/project/">project<span>1</span></a></li>
		
		
		   <li><a href="/tags">...<span>272</span></a></li>
		 
		</ul>
	</div>


		
			
<div class="widget">
  <h4>Recent Posts</h4>
  <ul class="entry list-unstyled">
    
      <li>
        <a href="/2017/06/20/风险不仅仅是事件发生的概率/" ><i class="fa fa-file-o"></i>风险不仅仅是事件发生的概率</a>
      </li>
    
      <li>
        <a href="/2017/06/03/Streaming-程序调用-Producer-close-hang-住问题追查复盘/" ><i class="fa fa-file-o"></i>Streaming 程序调用 Producer.clo...</a>
      </li>
    
      <li>
        <a href="/2017/06/01/如何在不重启-Spark-Streaming-作业的情况下，增加消费的-topic/" ><i class="fa fa-file-o"></i>如何在不重启 Spark Streaming 作业的情...</a>
      </li>
    
      <li>
        <a href="/2017/05/29/从源码级别分析-metric-core-的抽样算法/" ><i class="fa fa-file-o"></i>从源码级别分析 metric-core 的抽样算法</a>
      </li>
    
      <li>
        <a href="/2017/05/19/Streaming-中-Receiver-相关源码分析/" ><i class="fa fa-file-o"></i>Streaming 中 Receiver 相关源码分析</a>
      </li>
    
  </ul>
</div>

		
			
<div class="widget">
	<h4>Links</h4>
	<ul class="blogroll list-unstyled">
	
		<li><i class="fa fa-github"></i><a href="http://www.github.com/klion26" title="My Github account." target="_blank"]);">My Github</a></li>
	
		<li><i class=""></i><a href="http://l34rner.github.io/" title="A blog focus on security!" target="_blank"]);">Debug0</a></li>
	
		<li><i class=""></i><a href="http://www.programlife.net/" title="程序人生" target="_blank"]);">代码疯子</a></li>
	
		<li><i class=""></i><a href="http://www.narutoacm.com/" title="NARUTOACM" target="_blank"]);">NARUTOACM</a></li>
	
		<li><i class=""></i><a href="http://www.tanglei.name/" title="tanglei 的 blog" target="_blank"]);">tanglei的blog</a></li>
	
		<li><i class=""></i><a href="http://www.microspaze.com/" title="微空间" target="_blank"]);">微空间</a></li>
	
		<li><i class=""></i><a href="http://www.toutian.org/" title="小昭的荒地" target="_blank"]);">小昭的荒地</a></li>
	
		<li><i class=""></i><a href="https://cosx.me/" title="异想天开" target="_blank"]);">异想天开</a></li>
	
		<li><i class=""></i><a href="http://www.xpc-yx.com/" title="远行" target="_blank"]);">远行</a></li>
	
		<li><i class=""></i><a href="http://www.zhangxc.com/" title="张学程" target="_blank"]);">张学程</a></li>
	
	</ul>
</div>


		
			<!-- calendar widget -->

  <script src="/js/calendar.js"></script>
  <script src="/js/languages.js"></script>
  <script type="text/javascript">
    $(function() {
    
      $('#calendar').aCalendar('zh-CN',{single:undefined, root:'undefined'});
    
    });
  </script>


<div class="widget-wrap">
  <h3 class="widget-title">日历云</h3>
  <div class="widget">
    <div id="calendar"></div>
  </div>
</div
		
	</div> <!-- sidebar -->
</div> <!-- col-md-3 -->

	
	
</div> <!-- row-fluid -->


	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2017 klion26
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>.    
</p> </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>

</body>
   </html>
