<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Página 11 | klion26</title>
  <meta name="author" content="klion26">
  
  <meta name="description" content="个人博客，记录自己成长的点点滴滴">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="klion26"/>

  
    <meta property="og:image" content="undefined"/>
  

  
    <link rel="alternative" href="/atom.xml" title="klion26" type="application/atom+xml">
  
  
    <link href="/favicon.png" rel="icon">
  

  <!-- CSS -->
  <link rel="stylesheet" href="/css/themes/bootstrap.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  



</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
	<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
       <a class="navbar-brand" href="/">klion26</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class="fa fa-folder"></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/resume" title="Resume">
			  <i class=""></i>Resume
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 <div class="page-header page-header-inverse ">
  <h1 class="title title-inverse ">klion26</h1>
</div>

<div class="row page">

	
	<div class="col-md-9">
	

		<div class="slogan">
      <i class="fa fa-heart"></i>
      做中学, 学中做
</div>    
		<div id="top_search"></div>
		<div class="mypage">
		
		<!-- title and entry -->
        <!-- render top articles firstly -->
        
        <!-- render other articles -->
        
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2012-03-02 </div>
			<div class="article-title"><a href="/2012/03/02/e3-80-8a-e6-ad-a4-e7-94-9f-e6-9c-aa-e5-ae-8c-e6-88-90-e3-80-8b-e4-ba-8e-e5-a8-9f/" >《此生未完成》---于娟</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p>知道于娟这个人是因为这篇文章《<a href="http://www.klion26.com/why_am_i_cancer.html" target="_blank" rel="external">为什么是我得癌症</a>》。第一眼看到的是她那些头衔，上交本科，挪威奥斯陆大学硕士，复旦博士。看了上面的那篇文章当时对她这个人并不是了解，其实现在也不算了解。当时只觉得文章中有些东西确实可以警示后人。前不久看到有人推荐了她的书《此生未完成》，于是买来看了。书不厚，用了一天就看完了。看她写的那些文字，完全感觉不出她是一个癌症病人，她的文字写的可爱，率真，质朴，生动。她在书中说，不想让别人把她当成一个抗癌战士或者从她身上总结出“晚睡导致癌症”之类的来宣传，因为那样就完全失去了她想表达的意思，就像以前看卢旺达饭店里面那个记者说的一样，很多时候，人们只是把这当成饭后的谈资而已。<br>看这本书，有些地方能让你笑，有些地方能苦，笑完哭完之后，你会觉得她非同一般。第一感觉就是她非常的乐观，或许用她自己的话说是已经完全放下了，放下所有的一切。<br>很多时候用牛B或者犀利来形容一个人，但是在我看来这些词用来形容她似乎都不合适，或许她根本就不需要形容。</p>
<p>下面的话语全部摘自书中</p>
<p>我们要用多大的代价，才能认清活着的意义？<br>在确证乳腺癌之后，一个男性亲戚只知她得了重病，发来短信说：“如果需要骨髓、肾脏器官什么的，我来捐！！”丈夫念给她听，她哈哈大笑说“告诉他，我需要他捐乳房。”<br>其实我写这些，只是想告诉所有人：再大的痛苦，都会过去。<br>我不知道有没有机会育子成才，但可以用今天的行动告诉自己的孩子：你的妈妈不是懦夫，所以在你的人生里，遇到关键的人和珍贵的事，要积极争取，可以失败，但是不能放弃。<br>有太多的计划要完成，有太多的事情要应付，总是觉得等做好了手头的事情，陪父母也是来得及的。反正人生很长，时间很多。现在想想并不尽然，只有一天天的过，才是一年年，才是一辈子。无头绪的追逐与奔忙，一旦站定思考，发现半辈子已经过去，自己手里的成败并无多少意义，然后转身，才发现陪伴父母亲人的时间已然不多，发现最重要的幸福已然没有时间享用，人生最大的悲哀莫过于此。<br>父母盼望孩子有出息，但是往往享受不到和所谓有出息的孩子享受天伦的乐趣。即便知道如此，父母宁愿自己孤苦劳累还是希望子女有能力远走高飞好有出息<br>人，开心与否重要在于心态，即心情和状态，心境和姿态。<br>赢了你失去世界又如何<br>国外的闲适犹如一碗清水，腹饥的人吃下，会更怀想故里短短长长千丝万缕的阳春面，那价廉而悠长的过往<br>人越是长大，越是不知道自己要的是什么，越是不知道想要什么，就越是会拼命想自己的到底要什么<br>如今想来，善待自己不是给自己多买几盒价值不菲的化妆品那么简单，宽容他人才是最好的善待自己的方式。</p>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2012-02-12 </div>
			<div class="article-title"><a href="/2012/02/12/2011-2012-plan/" >我的2011和2012</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p>趁着现在还有心思写，就先写在这里吧，对我个人而言，把计划写出来要容易实现很多。</p>
<p>2011很忙也很乱，忙都是瞎忙，乱是因为我没有计划好。2012，希望能好一点。</p>
<p>大学很快就结束了，我有点无所适从，四年一转眼就过去了，而我还是那个我，没啥变化，只是学到一些别人听起来很NB的东西。要说有点成绩，就剩下ACM比赛，然后保研了。</p>
<p>年前每天晚上和同学都去跑步，跑步的那半个小时，虽然很冷，但是我觉得很爽，因为一直在交流，很多平时我不对别人说的话也一并说出来了，说出来之后感觉整个人轻松了。当时聊起大学，都觉得如果重新来过，那自己肯定会过的完全不一样。但是人生没有彩排。</p>
<p>2012我的计划如下，先不管能不能完成，写下来先</p>
<p>一 与人相处。</p>
<p>在此之前我一直认为，和人相处只要我真心对别人好就行了，不需要说那些听起来很假的话，但是这貌似行不通，在2012我要学会更好的与人相处。</p>
<p>二 专业书籍学习</p>
<p>TCP/IP详解卷一     算法导论  &amp;  C++语言的设计与演化  &amp;  具体数学  &amp; 设计模式</p>
<p>三 多逛论坛，少玩游戏，多订阅些高质量的博客 多和别人交流</p>
<p>四 通过github写开源软件</p>
<p>五 学好英语</p>
<p>其他的就随缘吧。</p>
<p>等明年来看看到底实现了多少</p>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2012-02-12 </div>
			<div class="article-title"><a href="/2012/02/12/xp-office-2010-error-1406/" >XP安装office 2010 Error 1406</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p>好久没写文章了，这篇文章就当除草了</p>
<p>安装office 2010时遇到错误1406的问题，安装几次都不行，网上搜了解决方案，说打开注册表(运行regedit)然后查找”Image File Execution Options”，记得搜索时选中全字匹配，不然可能会一直找不到你想要的项,具体位置在”<span style="font-family: Consolas, Monaco, 'Courier New', Courier, monospace; line-height: 18px; white-space: pre;">HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion”</span></p>
<p><span style="font-family: Consolas, Monaco, 'Courier New', Courier, monospace; line-height: 18px; white-space: pre;">下面，貌似这还跟什么</span><span style="font-family: Consolas, Monaco, 'Courier New', Courier, monospace; line-height: 18px; white-space: pre;">IFEO劫持有关。找到之后右击Image File Execution Options然后选中权限，</span></p>
<p><span style="font-family: Consolas, Monaco, 'Courier New', Courier, monospace; line-height: 18px; white-space: pre;">让system的权限变为完全控制，然后点击添加，输入你的用户名，把权限也变为完全控制。点击确定</span></p>
<p><span style="font-family: Consolas, Monaco, 'Courier New', Courier, monospace; line-height: 18px; white-space: pre;">就OK了，然后再回来安装就OK了。</span></p>
<p><span style="font-family: Consolas, Monaco, 'Courier New', Courier, monospace;"><span style="line-height: 18px; white-space: pre;">参考<a href="http://hi.baidu.com/nightcateryta/blog/item/8c536bf351a5985d352acce7.html" target="_blank" rel="external">http://hi.baidu.com/nightcateryta/blog/item/8c536bf351a5985d352acce7.html</a></span></span></p>
<p><span style="font-family: Consolas, Monaco, 'Courier New', Courier, monospace;"><span style="line-height: 18px; white-space: pre;"><br></span></span></p>
<p><span style="font-family: Consolas, Monaco, 'Courier New', Courier, monospace;"><span style="line-height: 18px; white-space: pre;"><br></span></span></p>
<p><span style="font-family: Consolas, Monaco, 'Courier New', Courier, monospace; line-height: 18px; white-space: pre;"><br></span></p>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2011-12-22 </div>
			<div class="article-title"><a href="/2011/12/22/fuck-csdn/" >CSDN 被黑了 </a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p>昨天听闻CSDN被爆了，600W的密码，还明文存储，我勒个去。好歹也是国内一个IT方面比较有影响的网站了，居然明文保存密码。有CSDN账号的，最好改下密码，然后把相关的(账号一样，或者秘密一样，或者邮箱一样的)密码都给改掉。这里奉劝大家一句，密码最好别通用。</p>
<p>可以在<span style="color: #000000;"><a href="txfile:platformres:MsgMgr\msgmgr.htm#" target="_blank" rel="external">http://0bad.com/csdn.php</a>查询自己的账号是否被干了。</span></p>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2011-12-13 </div>
			<div class="article-title"><a href="/2011/12/13/windows-mpi/" >windows下MPI的环境搭建。</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p>由于需要MPI来实现并行化,因此在windows下搭建了MPI的环境。MPI在windos下的环境搭建还算比较容易的。</p>
<p>首先去<a href="http://www-unix.mcs.anl.gov/mpi/mpich2/下载MPICH2，然后安装。" target="_blank" rel="external">http://www-unix.mcs.anl.gov/mpi/mpich2/下载MPICH2，然后安装。</a></p>
<p>接下来在环境变量那的path设置C:\Program Files\MPICH2\bin，然后打开vc6-Tools–Options–Directories。下面的show directories for:选择include files，把%MPICH2%include加进去，然后在Library files下面把%MPICH2%/lib加进去。</p>
<p>然后再启动%MPICH2%/bin下面的wmpiregister.exe进行注册即可。</p>
<p>接下来就可以写Hello World了。</p>
<div class="dp-highlighter">

<ol>
<li><span><span>#include </span><span class="string">“stdafx.h”</span><span> </span></span></li>
<li><span> </span></li>
<li><span>#define MPICH_SKIP_MPICXX </span></li>
<li><span>#include </span><span class="string">“mpi.h”</span><span> </span></li>
<li><span>#include <cstdio> </cstdio></span></li>
<li><span> </span></li>
<li><span class="keyword">int</span><span> main(</span><span class="keyword">int</span><span> argc, </span><span class="keyword">char</span><span>* argv[]) </span></li>
<li><span>{ </span></li>
<li><span> </span></li>
<li><span> </span><span class="keyword">int</span><span> rank,size; </span></li>
<li><span> </span><span class="keyword">int</span><span> tt; </span></li>
<li><span> </span><span class="keyword">char</span><span> processor_name[MPI_MAX_PROCESSOR_NAME]; </span></li>
<li><span> </span></li>
<li><span> MPI_Init(argc,&amp;argv); </span></li>
<li><span> </span></li>
<li><span> MPI_Comm_rank(MPI_COMM_WORLD,rank); </span></li>
<li><span> </span></li>
<li><span> MPI_Comm_size(MPI_COMM_WORLD,size); </span></li>
<li><span> </span><span class="comment">//printf(“ </span><span> </span></li>
<li><span> </span></li>
<li><span> MPI_Get_processor_name(processor_name,tt); </span></li>
<li><span> printf(“Hello World! I am %d,in %d computer on %s\n</span><span class="string">“,rank,size,processor_name); </span></li>
<li><span><span class="string"> MPI_Finalize(); </span> </span></li>
<li><span><span class="string"> if(1==rank) </span> </span></li>
<li><span><span class="string"> { </span> </span></li>
<li><span><span class="string"> printf(“</span><span>Press any key to </span><span class="keyword">continue</span><span>\n”); </span></span></li>
<li><span> </span><span class="comment">//getch(); </span><span> </span></li>
<li><span> } </span></li>
<li><span> </span><span class="keyword">return</span><span> </span><span class="number">0</span><span> </span></li>
<li><span>} </span></li>
<li><span><br></span><br></li></ol></div><br>写完之后再打开project-settings-link把mpi.lib加到Object/library modules中

<p>#define MPICH_SKIP_MPICXX就是不让包含mpicxx.h.这个在mpi.h里面可以看到。然后其他的就是MPI的函数的应用</p>
<p>参考:</p>
<p>1.<a href="http://www.cppblog.com/wlwlxj/archive/2006/06/12/8463.aspx" target="_blank" rel="external">http://www.cppblog.com/wlwlxj/archive/2006/06/12/8463.aspx</a>【<a href="http://www.cppblog.com/wlwlxj/archive/2006/06/12/8463.html" target="_blank" rel="external">并行编程–MPI开发入门</a>】</p>
<p>2.<a href="http://blog.csdn.net/morewindows/article/details/6823436" target="_blank" rel="external">http://blog.csdn.net/morewindows/article/details/6823436</a>[<strong>Windows系统下搭建MPI环境</strong>]</p>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2011-11-27 </div>
			<div class="article-title"><a href="/2011/11/27/fuzhou-a-hdu-4121/" >[模拟]HDU_4121</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=4121" target="_blank" rel="external">地址</a></p>
<p>福州赛区的A题,我们队因为没有过这个题导致最后的悲剧,废话不多说了，下面是简单的分析+代码.</p>
<p>首先我们可以设置一个map[][]数组记录某个点有没有子,然后让将做四个方向，再判断是否会被吃掉，如果有一个方向不会被吃掉，那么就不是死棋，否则就是。</p>
<p>判断是否会被吃掉的时候，如果是帅，就判断y坐标相等，且中间无子，车的判断类似。炮的判断可以变为炮和将中间有几个子，一个的话就ok，否则炮吃不了将。马的话，考虑不能走就行了。</p>
<p>代码如下:</p>
<div class="dp-highlighter"><br><br>1.  <span><span>#include <cstdio> </cstdio></span></span><br>2.  <span>#include <cstring> </cstring></span><br>3.  <span>#include <cstdlib> </cstdlib></span><br>4.  <span>#include <cmath> </cmath></span><br>5.  <span> </span><br>6.  <span> </span><span class="keyword">char</span><span> role[</span><span class="number">30</span><span>]; </span><br>7.  <span class="keyword">int</span><span> x[</span><span class="number">30</span><span>],y[</span><span class="number">30</span><span>]; </span><br>8.  <span class="keyword">int</span><span> dir[</span><span class="number">4</span><span>][</span><span class="number">2</span><span>]={{</span><span class="number">0</span><span>,</span><span class="number">1</span><span>},{</span><span class="number">1</span><span>,</span><span class="number">0</span><span>},{</span><span class="number">0</span><span>,-</span><span class="number">1</span><span>},{-</span><span class="number">1</span><span>,</span><span class="number">0</span><span> }} ; </span><br>9.  <span class="keyword">int</span><span> hdir[</span><span class="number">8</span><span>][</span><span class="number">2</span><span>]= {{ -</span><span class="number">1</span><span>,</span><span class="number">2</span><span>},{</span><span class="number">1</span><span>,</span><span class="number">2</span><span>},{</span><span class="number">2</span><span>,</span><span class="number">1</span><span>},{</span><span class="number">2</span><span>,-</span><span class="number">1</span><span>},{</span><span class="number">1</span><span>,-</span><span class="number">2</span><span>},{-</span><span class="number">1</span><span>,-</span><span class="number">2</span><span>},{-</span><span class="number">2</span><span>,-</span><span class="number">1</span><span>},{-</span><span class="number">2</span><span>,</span><span class="number">1</span><span> }} ; </span><br>10.  <span class="keyword">int</span><span> X,Y; </span><br>11.  <span class="keyword">int</span><span> n; </span><br>12.  <span>bool have[</span><span class="number">30</span><span>][</span><span class="number">30</span><span>]; </span><br>13.  <span> </span><br>14.  <span class="keyword">int</span><span> min(</span><span class="keyword">int</span><span> a,</span><span class="keyword">int</span><span> b) </span><br>15.  <span>{ </span><br>16.  <span> </span><span class="keyword">return</span><span> a<b?a:b; <="" span=""><br>17.  <span>} </span><br>18.  <span class="keyword">int</span><span> max(</span><span class="keyword">int</span><span> a,</span><span class="keyword">int</span><span> b) </span><br>19.  <span>{ </span><br>20.  <span> </span><span class="keyword">return</span><span> a&gt;b?a:b; </span><br>21.  <span>} </span><br>22.  <span> </span><br>23.  <span>bool can(</span><span class="keyword">int</span><span> X,</span><span class="keyword">int</span><span> Y) </span><br>24.  <span>{ </span><br>25.  <span> </span><span class="keyword">int</span><span> i,j; </span><br>26.  <span> </span><span class="keyword">int</span><span> cnt; </span><br>27.  <span> </span><span class="keyword">int</span><span> tx,ty; </span><br>28.  <span> </span><span class="keyword">for</span><span>(i=</span><span class="number">0</span><span>i<n;++i) <="" span=""><br>29.  <span> { </span><br>30.  <span> </span><span class="keyword">if</span><span>(!have[x[i]][y[i]]) </span><br>31.  <span> </span><span class="keyword">continue</span><span> </span><br>32.  <span> </span><span class="comment">//G </span><span> </span><br>33.  <span> </span><span class="keyword">if</span><span>(‘G’==role[i]) </span><br>34.  <span> { </span><br>35.  <span> </span><span class="keyword">if</span><span>(y[i]==Y) </span><br>36.  <span> { </span><br>37.  <span> </span><span class="keyword">for</span><span>(j=min(X,x[i])+</span><span class="number">1</span><span>j<max(x,x[i]);++j) <="" span=""><br>38.  <span> { </span><br>39.  <span> </span><span class="keyword">if</span><span>(have[j][Y]) </span><br>40.  <span> </span><span class="keyword">break</span><span> </span><br>41.  <span> } </span><br>42.  <span> </span><span class="keyword">if</span><span>(j==max(X,x[i])) </span><br>43.  <span> </span><span class="keyword">return</span><span> </span><span class="keyword">false</span><span> </span><br>44.  <span> } </span><br>45.  <span> } </span><br>46.  <span> </span><span class="comment">//R </span><span> </span><br>47.  <span> </span><span class="keyword">if</span><span>(‘R’==role[i]) </span><br>48.  <span> { </span><br>49.  <span> </span><span class="keyword">if</span><span>(Y==y[i]) </span><br>50.  <span> { </span><br>51.  <span> </span><span class="keyword">for</span><span>(j=min(X,x[i])+</span><span class="number">1</span><span>j<max(x,x[i]);++j) <="" span=""><br>52.  <span> { </span><br>53.  <span> </span><span class="keyword">if</span><span>(have[j][Y]) </span><br>54.  <span> </span><span class="keyword">break</span><span> </span><br>55.  <span> } </span><br>56.  <span> </span><span class="keyword">if</span><span>(j==max(X,x[i])) </span><br>57.  <span> </span><span class="keyword">return</span><span> </span><span class="keyword">false</span><span> </span><br>58.  <span> } </span><br>59.  <span> </span><span class="keyword">if</span><span>(X==x[i]) </span><br>60.  <span> { </span><br>61.  <span> </span><span class="keyword">for</span><span>(j=min(Y,y[i])+</span><span class="number">1</span><span>j<max(y,y[i]);++j) <="" span=""><br>62.  <span> </span><span class="keyword">if</span><span>(have[X][j]) </span><br>63.  <span> </span><span class="keyword">break</span><span> </span><br>64.  <span> </span><span class="keyword">if</span><span>(j==max(Y,y[i])) </span><br>65.  <span> </span><span class="keyword">return</span><span> </span><span class="keyword">false</span><span> </span><br>66.  <span> } </span><br>67.  <span> } </span><br>68.  <span> </span><span class="comment">//C </span><span> </span><br>69.  <span> </span><span class="keyword">if</span><span>(‘C’==role[i]) </span><br>70.  <span> { </span><br>71.  <span> </span><span class="keyword">if</span><span>(X==x[i]) </span><br>72.  <span> { </span><br>73.  <span> cnt=</span><span class="number">0</span><span> </span><br>74.  <span> </span><span class="keyword">for</span><span>(j=min(Y,y[i])+</span><span class="number">1</span><span>j<max(y,y[i]);++j) <="" span=""><br>75.  <span> </span><span class="keyword">if</span><span>(have[X][j]) </span><br>76.  <span> ++cnt; </span><br>77.  <span> </span><span class="keyword">if</span><span>(</span><span class="number">1</span><span>==cnt) </span><br>78.  <span> </span><span class="keyword">return</span><span> </span><span class="keyword">false</span><span> </span><br>79.  <span> } </span><br>80.  <span> </span><span class="keyword">if</span><span>(Y==y[i]) </span><br>81.  <span> { </span><br>82.  <span> cnt=</span><span class="number">0</span><span> </span><br>83.  <span> </span><span class="keyword">for</span><span>(j=min(X,x[i])+</span><span class="number">1</span><span>j<max(x,x[i]);++j) <="" span=""><br>84.  <span> </span><span class="keyword">if</span><span>(have[j][Y]) </span><br>85.  <span> ++cnt; </span><br>86.  <span> </span><span class="keyword">if</span><span>(</span><span class="number">1</span><span>==cnt) </span><br>87.  <span> </span><span class="keyword">return</span><span> </span><span class="keyword">false</span><span> </span><br>88.  <span> } </span><br>89.  <span> } </span><br>90.  <span> </span><span class="comment">//H </span><span> </span><br>91.  <span> </span><span class="keyword">if</span><span>(‘H’==role[i]) </span><br>92.  <span> { </span><br>93.  <span> </span><span class="keyword">for</span><span>(j=</span><span class="number">0</span><span>j&lt;</span><span class="number">8</span><span>;++j) </span><br>94.  <span> { </span><br>95.  <span> tx = x[i]+hdir[j][</span><span class="number">0</span><span>]; </span><br>96.  <span> ty = y[i]+hdir[j][</span><span class="number">1</span><span>]; </span><br>97.  <span> </span><span class="keyword">if</span><span>(tx&lt;</span><span class="number">1</span><span>||tx&gt;</span><span class="number">10</span><span>||ty&lt;</span><span class="number">1</span><span>||ty&gt;</span><span class="number">9</span><span>) </span><br>98.  <span> </span><span class="keyword">continue</span><span> </span><br>99.  <span> </span><span class="keyword">int</span><span> sbx,sby; </span><br>100.  <span> sbx = x[i]+hdir[j][</span><span class="number">0</span><span>]/</span><span class="number">2</span><span> </span><br>101.  <span> sby = y[i]+hdir[j][</span><span class="number">1</span><span>]/</span><span class="number">2</span><span> </span><br>102.  <span> </span><span class="keyword">if</span><span>(have[sbx][sby]) </span><br>103.  <span> </span><span class="keyword">continue</span><span> </span><br>104.  <span> </span><span class="keyword">if</span><span>(tx==X&amp;ty==Y) </span><br>105.  <span> </span><span class="keyword">return</span><span> </span><span class="keyword">false</span><span> </span><br>106.  <span> } </span><br>107.  <span> } </span><br>108.  <span> } </span><br>109.  <span> </span><span class="keyword">return</span><span> </span><span class="keyword">true</span><span> </span><br>110.  <span>} </span><br>111.  <span> </span><br>112.  <span class="keyword">int</span><span> main(</span><span class="keyword">void</span><span>) </span><br>113.  <span>{ </span><br>114.  <span> #ifndef ONLINE_JUDGE </span><br>115.  <span> freopen(</span><span class="string">“1001.in”</span><span>,</span><span class="string">“r”</span><span>,stdin); </span><br>116.  <span> freopen(</span><span class="string">“1001.out”</span><span>,</span><span class="string">“w”</span><span>,stdout); </span><br>117.  <span> #endif </span><br>118.  <span> </span><span class="keyword">int</span><span> i; </span><br>119.  <span> </span><span class="keyword">int</span><span> tx,ty; </span><br>120.  <span> bool tmp; </span><br>121.  <span> </span><span class="keyword">char</span><span> ch; </span><br>122.  <span> </span><span class="keyword">while</span><span>(EOF!=scanf(</span><span class="string">“%d%d%d”</span><span>,n,&amp;X,&amp;Y)) </span><br>123.  <span> { </span><br>124.  <span> </span><span class="keyword">if</span><span>(</span><span class="number">0</span><span>==n&amp;</span><span class="number">0</span><span>==X&amp;&amp;</span><span class="number">0</span><span>==Y) </span><br>125.  <span> </span><span class="keyword">break</span><span> </span><br>126.  <span> </span><br>127.  <span> memset(have,</span><span class="keyword">false</span><span>,sizeof(have)); </span><br>128.  <span> </span><span class="keyword">for</span><span>(i=</span><span class="number">0</span><span>i<n;++i) <="" span=""><br>129.  <span> { </span><br>130.  <span> ch=getchar(); </span><br>131.  <span> </span><span class="keyword">while</span><span>(!(ch&gt;=’A’&amp;ch&lt;=’Z’)) </span><br>132.  <span> ch=getchar(); </span><br>133.  <span> role[i]=ch; </span><br>134.  <span> scanf(</span><span class="string">“%d%d”</span><span>,x[i],&amp;y[i]); </span><br>135.  <span> have[x[i]][y[i]]=</span><span class="keyword">true</span><span> </span><br>136.  <span> } </span><br>137.  <span> </span><span class="keyword">for</span><span>(i=</span><span class="number">0</span><span>i&lt;</span><span class="number">4</span><span>;++i) </span><br>138.  <span> { </span><br>139.  <span> tx = X+dir[i][</span><span class="number">0</span><span>]; </span><br>140.  <span> ty = Y+dir[i][</span><span class="number">1</span><span>]; </span><br>141.  <span> </span><span class="keyword">if</span><span>(tx&lt;</span><span class="number">1</span><span>||tx&gt;</span><span class="number">3</span><span>||ty&lt;</span><span class="number">4</span><span>||ty&gt;</span><span class="number">6</span><span>) </span><br>142.  <span> </span><span class="keyword">continue</span><span> </span><br>143.  <span> tmp = have[tx][ty]; </span><br>144.  <span> have[tx][ty]=</span><span class="keyword">false</span><span> </span><br>145.  <span> </span><span class="keyword">if</span><span>(can(tx,ty)) </span><br>146.  <span> { </span><br>147.  <span> </span><span class="keyword">break</span><span> </span><br>148.  <span> } </span><br>149.  <span> have[tx][ty]=tmp; </span><br>150.  <span> } </span><br>151.  <span> </span><br>152.  <span> </span><span class="keyword">if</span><span>(</span><span class="number">4</span><span>==i) </span><br>153.  <span> { </span><br>154.  <span> printf(</span><span class="string">“YES\n”</span><span>); </span><br>155.  <span> } </span><br>156.  <span> </span><span class="keyword">else</span><span> </span><br>157.  <span> { </span><br>158.  <span> printf(</span><span class="string">“NO\n”</span><span>); </span><br>159.  <span> } </span><br>160.  <span> } </span><br>161.  <span> </span><span class="keyword">return</span><span> </span><span class="number">0</span><span> </span><br>162.  <span>} </span><br></n;++i)></span></max(x,x[i]);++j)></span></max(y,y[i]);++j)></span></max(y,y[i]);++j)></span></max(x,x[i]);++j)></span></max(x,x[i]);++j)></span></n;++i)></span></b?a:b;></span></div>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2011-08-29 </div>
			<div class="article-title"><a href="/2011/08/29/usaco-5-4-5-5/" >USACO 5.4&amp;5.5</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p>今天终于把第5章搞定了.USACO还剩下3题,早日结束了这3题,任务还很艰巨啊.</p>
<p>简单写下这两节的题解.这两节搞了好久啊.有些题还是看了题解之后,然后差不多是照着标称打的(- -|).</p>
<p>ALL Latin:比较变态的一道搜索题,7的时候过不去,然后看的题解,那个循环群什么的不是很懂,用的是另外一种方法,就是首先第一行第一列都放好(最后结果再乘以(n-1)!就行),然后第2行第2列放2,3,4,5的方案是一样多的.貌似比较慢,最慢的0.9+s</p>
<p>Canada Tour:费用流的方法没弄,用的是DP,类似方格取数的那种多线程DP,只需要看最后是不是有两条独立的路径从起点到终点就OK了,中间不能有重复的点</p>
<p>Character Recognition:很烦的一道题,借鉴标称的,方法:DP,有一点就是多余的那一行的变化数不算在里面的.然后如果知道了前i行的可以推知i+19,i+20,i+21的情况.</p>
<p>Betsy’s Tour:正解是连通性DP?czw和我说了下这是最简单的连通性DP,但是那论文看不懂,刚好这题可以搜过,只需要考虑下,如果进入了死胡同就不要搜了,还有如果当前的路径把格子分成了两边就不用搜了.死胡同那个可以考虑做过这个点之后,它的上下左右点是否被走过,一个点必须有进有出才行(不然进死胡同了),除了起点和终点</p>
<p>TeleCowmunication:拆点,最大流,然后枚举删点.拆点时,每个点拆成2<em>i,2</em>i+1,然后流量是1,原边中有边的则加两条无穷大的边,跑最大流,然后枚举删点.看删掉点之后是不是最大流减少了.是的话就输出这个点,最大流减少,继续枚举</p>
<p>Picture:很早以前就听说这题是线段树的好题,但是我还是用了朴素的方法(小汗一下),直接把横向边和纵向边分别排序,然后遇到起始边(坐标小的)就+1.否则-1.这样如果由0-&gt;1,那么一定是最终矩形的边,这样枚举完了之后,在USACO还挺快.线段树就是在更新+1,-1的时候用线段树,可以做到区间处理.降低时间复杂度</p>
<p>Hidden Passwords:刚好czw和我说过最小表示法,然后就直接做了.或许这是这两节我觉得最简单的了- -|.貌似还有很多其他方法,可以看看nocow的分析</p>
<p>Two Five:就是一个一个算就行了.主要是要好写,而且速度还过得去.对于数变字符串.可以枚举25个位置,如果某个位置放字符ch的数目加上前面算的结果已经超过了给的n,那么就把这个位置放置ch,因为放置ch-1的时候不够,然后接着放下一个位置,直到25个位置全放好为止,字符串变数字的差不多,只不过把上面的操作反过来而已,就是看这个字符之前有多少个.比如求ACD的,那么我们就求ABC,ABD,ACB,的方案数,然后再求ACD后面有多少个,就像求10进制数的大小一样,求521是第几个,可以首先求1<strong>,2</strong>,3<strong>,4</strong>的个数,然后求5<em>_(</em>&lt;2)和52<em>(</em>&lt;1)的个数,最后结果+1就是521的结果了</p>
<p>接下来还有三题,搞定也算是圆满了USACO,加油吧</p>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2011-08-20 </div>
			<div class="article-title"><a href="/2011/08/20/reverse-poj-3761/" >[逆序]POJ_3761</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p><a href="http://poj.org/problem?id=3761" target="_blank" rel="external">想看题目?</a></p>
<p>题目大致意思就是:求1,2,3…..N有多少个排列是用冒泡排序只需要k轮就好的.给定一个n和一个k,然后让你输出答案模上一个数.因为答案是在太大了</p>
<p>这里首先给出公式吧对给定的n和k,答案是k!*((k+1)^(n-k)-k^(n-k)).</p>
<p>ps:以下分析借助了&lt;计算机程序设计艺术&gt;和<a href="http://hi.baidu.com/billdu/blog/item/a1fa28acd0a9ea1d4b36d60e.html" target="_blank" rel="external">这篇博文</a></p>
<p>首先我们知道对于每个排列和其逆序对是一一对应的.也就是说一个逆序对对应一个排列,一个排列对应一个逆序对,相同排列的逆序是一样的,同一个逆序对的排列也是一样的.下面我们来看看这个和逆序对有啥关系.这里以4 5 3 1 2这个排列为例.那么逆序对为3 3 2 0 0.也就是1的逆序数为3,2的为3,依次下去.那么我们来看下依次冒泡排序会改变什么,首先第一趟我们会发现变成了4 3 1 2 5.那么逆序对变成了2 2 1 0 0也就是所有逆序数&gt;0的都-1了,这个是偶然吗?不是的,因为对于每一趟冒泡,都有一个当前未排好序的最大的沉到最下面去,这样就会导致这个当前最大的数的后面的那些数的逆序数都会-1.上面的当前最大就是5,5后面的是3 1 2,所以3 1 2这几个数的逆序数都会-1.OK,现在我们知道,对于每趟冒泡排序,所有逆序数不为1的都会-1,那么体重要求的我们可以转化成求这样的排列的个数:也就是逆序数的最大值为k的n个数的一个排列.这样我们就得到了一个冒泡最多需要k次的一个排列,而且逆序数和排列是一一对应的,所以我们得到的”逆序数的最大值为k的n个数的排列”的个数就是本题的答案.</p>
<p>现在的问题变成了求逆序数的最大值为k的n个数的排列的个数,也就是给你n个位置,这n个位置上可以放置一系列数,但是最大为k,最小0的排列的数目,而且我们这里要求的是至少要有一个数=k(不然不需要k趟就排完了).那么我们可以考虑用最大的为k减去最大的为k-1的排列,剩下的就是至少有一个最大值为k的了.现在我们求最大值为k,但不一定有最大值为k的排列的数目.我们可以这么想:对于1,有逆序数为0,1…..k这些选择,也就是它的位置可以选择为0 1 2…k(位置从0开始),放置好1之后,我们再放2,同理可以得到一系列的位置,也就是2也可以有k+1中选择,知道某个数不可能出现逆序数为k为止,那么我们知道一个数的最大逆序数位n-i(i是这个数,这里的环境都是1,2….n这样的排列).那么最大的i就是k了.所以这里有(k+1)^(n-k),然后剩下的就自己选位置吧,有k!种方案,所以就是k!((k+1)^(n-k)).那么我们的结果就是k!<em>(k+1)^(n-k)-(k-1)!</em>k^(n-k+1)然后化简就变成了k!((k+1)^(n-k)-k^(n-k))到这里这题也结束了,不过还有一点,在保证不会越界的情况下,能不用mutil_mod(算a*b%c),这类的函数就不用,所有函数都是有开销的,别到时TLE了还找不到原因</p>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2011-08-03 </div>
			<div class="article-title"><a href="/2011/08/03/csu-summer-training-team-1/" >[逆序数对的应用]CSU暑假集训组队赛第一题</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p>这次题目比较坑爹.因为我们的时间确实比较紧,半天需要找9道题.后来是刘悠然一人在USACO的月赛中找了9题.结果新人大受打击,一片一题.</p>
<p>第一题的题意是,给你一个1 2 3。。。n的乱序列,让你用最少的交换步数得到下面的样子[其中交换只能在相邻的两个数里面进行]—–所以的i在i+1的左边,然后n在1的左边.当然序列的最后一个数算是第一个数的左边.也就是说如果是1 2 3 4 5的话,那么</p>
<p>1 2 3 4 5      |    2 3 4 5 1   | 3 4 5 1 2  | 4 5 1 2 3  |  5 1 2 3 4都算符合条件的序列</p>
<p>这题的解法就用到了逆序数对,因为一个序列如果只能通过相邻的两个交换使之变成1 2 3 4….n这样的序列的话,那么结果和逆序数对是一样的.这个可以证明.然后这题就可以用逆序数对来解决了.首先我们知道对于一个序列循环左移一位就相当于把最小的数加上n,然后又变成了从小到大的一个排列.还有对于一个序列中最小的一个数,如果加上n的话,那么这个序列的逆序数将变为L+(n-p)-(p-1)这里L是原序列的逆序数对,n是数目的个数,p是最小的数字的位置,从1开始.这样我们就可以首先求出变换到1 2 3….n的步数,也就是逆序数对,然后依次把i变换为i+n(i从1开始到n-1).这样这题就变成了n*lgn的了.可以解决之</p>

	
	</div>
</div>

           
		
           
			  
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2011-07-25 </div>
			<div class="article-title"><a href="/2011/07/25/half-plan-cross/" >[计算几何]半平面交 POJ_2451 1474 1279 3335</a></div>						
		</h3>
	


			  <div class="entry">
  <div class="row">
	
	
		<p>半平面交,一开始以为很神奇的东西,看zzy的论文,看了好久,发现思路还好懂,不会写代码= =,只是觉得和melkman有点像.后来网上膜拜了各位牛人的代码,自己终于写出来了,A了2451,不过1474&amp;1279的时候发现了自己代码的错误,如果有多条直线平行那么我的代码会错,后来又在3335发现如果有反向平行且不共线的两条直线那么我的会错.于是各种改过之后,觉得现在的代码应该没啥问题了= =||</p>
<p>主要思路就是先对边进行排序[按极角序],然后去重,把平行同向的直线只保留规约最紧的一条.然后对留下来的进行半平面交.现在觉得单独的半平面交不难,难的是把题目转化为半平面交</p>
<p>2451代码如下[如有错误还请指出]</p>
<div class="dp-highlighter"><br><br>1.  <span><span class="comment">/<strong><strong> </strong></strong></span> </span><br>2.  <span><span class="comment"> 注意事项: </span> </span><br>3.  <span><span class="comment"> 1.单独的点是否是符合条件的 </span> </span><br>4.  <span><span class="comment"> 2.对于输入边有没有两条反向的 </span> </span><br>5.  <span><span class="comment"> </span> </span><br>6.  <span><span class="comment"> 对于1需要改变的是check里面判断时是&gt;还是&gt;= </span> </span><br>7.  <span><span class="comment"> 如果是&gt;那么会忽略掉点 否则会留下 </span> </span><br>8.  <span> </span><br>9.  <span><span class="comment"> 对于2的话需要特判一下是不是有两条边方向且不共线 </span> </span><br>10.  <span><span class="comment"> 这里需要在排序然后去重之后做 </span> </span><br>11.  <span><span class="comment"> /</span><span> </span></span><br>12.  <span>#include <stdio.h> </stdio.h></span><br>13.  <span>#include <string.h> </string.h></span><br>14.  <span>#include <stdlib.h> </stdlib.h></span><br>15.  <span>#include <math.h> </math.h></span><br>16.  <span>#include <algorithm> </algorithm></span><br>17.  <span> </span><br>18.  <span>using namespace std; </span><br>19.  <span class="comment">/<em>点的结构体</em>/</span><span> </span><br>20.  <span>typedef struct </span><br>21.  <span>{ </span><br>22.  <span> </span><span class="keyword">double</span><span> x,y; </span><br>23.  <span>}TPoint; </span><br>24.  <span class="comment">/<em>直线的结构体 angle是和X轴正方向的夹角</em>/</span><span> </span><br>25.  <span>typedef struct </span><br>26.  <span>{ </span><br>27.  <span> TPoint p1,p2; </span><br>28.  <span> </span><span class="keyword">double</span><span> angle; </span><br>29.  <span>}TLine; </span><br>30.  <span class="comment">/<em> a</em>x+b<em>y+c=0直线中的a b c</em>/</span><span> </span><br>31.  <span>typedef struct </span><br>32.  <span>{ </span><br>33.  <span> </span><span class="keyword">double</span><span> a,b,c; </span><br>34.  <span>}abcLine; </span><br>35.  <span> </span><br>36.  <span class="keyword">const</span><span> </span><span class="keyword">int</span><span> maxnum=</span><span class="number">20016</span><span> </span><br>37.  <span class="keyword">const</span><span> </span><span class="keyword">double</span><span> eps=1e-</span><span class="number">8</span><span> </span><br>38.  <span> </span><br>39.  <span class="keyword">int</span><span> n; </span><br>40.  <span class="comment">/<em>pg存半平面最后的点</em>/</span><span> </span><br>41.  <span>TPoint pg[maxnum]; </span><br>42.  <span class="comment">/<em>line存输入的边 dq是双端队列</em>/</span><span> </span><br>43.  <span>TLine line[maxnum],dq[maxnum+</span><span class="number">2</span><span>]; </span><br>44.  <span class="keyword">int</span><span> idx;</span><span class="comment">/<em>the index of pg;</em>/</span><span> </span><br>45.  <span> </span><br>46.  <span class="comment">/<em>加边 所有的边都表示的是<p1,p2>的左手边</p1,p2></em>/</span><span> </span><br>47.  <span class="keyword">void</span><span> Add_line(</span><span class="keyword">int</span><span> idx,</span><span class="keyword">double</span><span> x1,</span><span class="keyword">double</span><span> y1,</span><span class="keyword">double</span><span> x2,</span><span class="keyword">double</span><span> y2) </span><br>48.  <span>{ </span><br>49.  <span> line[idx].p1.x = x1; </span><br>50.  <span> line[idx].p1.y = y1; </span><br>51.  <span> line[idx].p2.x = x2; </span><br>52.  <span> line[idx].p2.y = y2; </span><br>53.  <span> line[idx].angle = atan2(y2-y1,x2-x1); </span><br>54.  <span>} </span><br>55.  <span class="comment">/<em>输入</em>/</span><span> </span><br>56.  <span class="keyword">void</span><span> input() </span><br>57.  <span>{ </span><br>58.  <span> </span><span class="keyword">int</span><span> i; </span><br>59.  <span> </span><span class="keyword">double</span><span> x1,y1,x2,y2; </span><br>60.  <span> </span><span class="keyword">for</span><span>(i=</span><span class="number">0</span><span>i<n;i++) <="" span=""><br>61.  <span> { </span><br>62.  <span> scanf(</span><span class="string">“%lf%lf%lf%lf”</span><span>,x1,&amp;y1,&amp;x2,&amp;y2); </span><br>63.  <span> Add_line(i,x1,y1,x2,y2); </span><br>64.  <span> } </span><br>65.  <span> </span><span class="comment">/<em>加外面的限制区域</em>/</span><span> </span><br>66.  <span> Add_line(n,</span><span class="number">0</span><span>,</span><span class="number">0</span><span>,</span><span class="number">10000</span><span>,</span><span class="number">0</span><span>); </span><br>67.  <span> Add_line(n+</span><span class="number">1</span><span>,</span><span class="number">10000</span><span>,</span><span class="number">0</span><span>,</span><span class="number">10000</span><span>,</span><span class="number">10000</span><span>); </span><br>68.  <span> Add_line(n+</span><span class="number">2</span><span>,</span><span class="number">10000</span><span>,</span><span class="number">10000</span><span>,</span><span class="number">0</span><span>,</span><span class="number">10000</span><span>); </span><br>69.  <span> Add_line(n+</span><span class="number">3</span><span>,</span><span class="number">0</span><span>,</span><span class="number">10000</span><span>,</span><span class="number">0</span><span>,</span><span class="number">0</span><span>); </span><br>70.  <span> n+=</span><span class="number">4</span><span> </span><br>71.  <span>} </span><br>72.  <span class="comment">/<em> </em></span><br>73.  <span><span class="comment"> 把一个double转化到一个int上 </span> </span><br>74.  <span><span class="comment"> &lt;-esp  的转化为-1 </span> </span><br>75.  <span><span class="comment"> &gt;eps   的转化为1 </span> </span><br>76.  <span><span class="comment"> 其他的为0 </span> </span><br>77.  <span><span class="comment"> /</span><span> </span></span><br>78.  <span class="keyword">int</span><span> dou2int(</span><span class="keyword">double</span><span> x) </span><br>79.  <span>{ </span><br>80.  <span> </span><span class="keyword">if</span><span>(x&gt;eps) </span><br>81.  <span> </span><span class="keyword">return</span><span> </span><span class="number">1</span><span> </span><br>82.  <span> </span><span class="keyword">if</span><span>(x&lt;-eps) </span><br>83.  <span> </span><span class="keyword">return</span><span> -</span><span class="number">1</span><span> </span><br>84.  <span> </span><span class="keyword">return</span><span> </span><span class="number">0</span><span> </span><br>85.  <span>} </span><br>86.  <span> </span><br>87.  <span class="comment">/<strong> </strong></span><br>88.  <span><span class="comment"> 计算<a,b>和&lt;a,c&gt;的叉积 </a,b></span> </span><br>89.  <span><span class="comment"> /</span><span> </span></span><br>90.  <span class="keyword">double</span><span> cross(TPoint a,TPoint b,TPoint c) </span><br>91.  <span>{ </span><br>92.  <span> </span><span class="keyword">return</span><span> (b.x-a.x)<em>(c.y-a.y)-(b.y-a.y)</em>(c.x-a.x); </span><br>93.  <span>} </span><br>94.  <span> </span><br>95.  <span class="comment">/<strong> </strong></span><br>96.  <span><span class="comment"> 多边形排序的模板函数 </span> </span><br>97.  <span><span class="comment"> 首先按照极角序排列,如果极角序一样的话 </span> </span><br>98.  <span><span class="comment"> 那么限制宽的排在前面 </span> </span><br>99.  <span><span class="comment"> /</span><span> </span></span><br>100.  <span>bool cmp(TLine l1,TLine l2) </span><br>101.  <span>{ </span><br>102.  <span> </span><span class="keyword">int</span><span> ret = dou2int(l1.angle-l2.angle); </span><br>103.  <span> </span><span class="keyword">if</span><span>(ret &gt; </span><span class="number">0</span><span>) </span><br>104.  <span> </span><span class="keyword">return</span><span> </span><span class="keyword">true</span><span> </span><br>105.  <span> </span><span class="keyword">if</span><span>(ret &lt; </span><span class="number">0</span><span>) </span><br>106.  <span> </span><span class="keyword">return</span><span> </span><span class="keyword">false</span><span> </span><br>107.  <span> </span><span class="keyword">if</span><span>(dou2int(cross(l2.p1,l2.p2,l1.p2))&gt;</span><span class="number">0</span><span>) </span><br>108.  <span> </span><span class="keyword">return</span><span> </span><span class="keyword">false</span><span> </span><br>109.  <span> </span><span class="keyword">return</span><span> </span><span class="keyword">true</span><span> </span><br>110.  <span>} </span><br>111.  <span> </span><br>112.  <span class="comment">/<strong> </strong></span><br>113.  <span><span class="comment"> 由直线上的两点得到a<em>x+b</em>y+c=0中的a b c </span> </span><br>114.  <span><span class="comment"> /</span><span> </span></span><br>115.  <span>abcLine Get_line(TPoint p1,TPoint p2) </span><br>116.  <span>{ </span><br>117.  <span> abcLine ret; </span><br>118.  <span> ret.a = p1.y-p2.y; </span><br>119.  <span> ret.b = p2.x-p1.x; </span><br>120.  <span> ret.c = p1.x<em>p2.y-p2.x</em>p1.y; </span><br>121.  <span> </span><span class="keyword">return</span><span> ret; </span><br>122.  <span>} </span><br>123.  <span class="comment">/<strong> </strong></span><br>124.  <span><span class="comment"> 得到TLine结构体定义的两条直线的交点 </span> </span><br>125.  <span><span class="comment"> /</span><span> </span></span><br>126.  <span>TPoint Get_jiao(TLine l1,TLine l2) </span><br>127.  <span>{ </span><br>128.  <span> TPoint ret; </span><br>129.  <span> abcLine A,B; </span><br>130.  <span> A = Get_line(l1.p1,l1.p2); </span><br>131.  <span> B = Get_line(l2.p1,l2.p2); </span><br>132.  <span> ret.x = (B.b<em>A.c-A.b</em>B.c)/(B.a<em>A.b-A.a</em>B.b); </span><br>133.  <span> ret.y = (A.a<em>B.c-B.a</em>A.c)/(B.a<em>A.b-A.a</em>B.b); </span><br>134.  <span> </span><span class="keyword">return</span><span> ret; </span><br>135.  <span>} </span><br>136.  <span class="comment">/<strong> </strong></span><br>137.  <span><span class="comment"> 半平面交的时候判断当前平面是否合法 </span> </span><br>138.  <span><span class="comment"> 是否需要退栈等 </span> </span><br>139.  <span><span class="comment"> 如果单独的点不符合条件的话那么if语句 </span> </span><br>140.  <span><span class="comment"> 的判断直接&gt;0就行了,否则写成&gt;=0 </span> </span><br>141.  <span><span class="comment"> /</span><span> </span></span><br>142.  <span>bool check(TLine l1,TLine l2,TLine l3) </span><br>143.  <span>{ </span><br>144.  <span> TPoint cro = Get_jiao(l1,l2); </span><br>145.  <span> </span><span class="keyword">if</span><span>(dou2int(cross(l3.p1,l3.p2,cro))&gt;</span><span class="number">0</span><span>)</span><span class="comment">//加上等于0那么后来的直线过交点的时候不会退出 </span><span> </span><br>146.  <span> </span><span class="keyword">return</span><span> </span><span class="keyword">false</span><span> </span><br>147.  <span> </span><span class="keyword">return</span><span> </span><span class="keyword">true</span><span> </span><br>148.  <span>} </span><br>149.  <span class="comment">/<strong> </strong></span><br>150.  <span><span class="comment"> 判断两条直线是否平行反向且不共线 </span> </span><br>151.  <span><span class="comment"> 下面的代码中需要加上不共线 需要对出去之后的直线进行判断 </span> </span><br>152.  <span><span class="comment"> /</span><span> </span></span><br>153.  <span>bool overline(TLine l1,TLine l2) </span><br>154.  <span>{ </span><br>155.  <span> </span><span class="keyword">int</span><span> ret; </span><br>156.  <span> </span><span class="keyword">int</span><span> a,b,c,d; </span><br>157.  <span> a = (l1.p1.y-l1.p2.y)<em>(l2.p1.x-l2.p2.x); </em></span><br>158.  <span> b = (l1.p1.x-l1.p2.x)(l2.p1.y-l2.p2.y); </span><br>159.  <span> c = l1.p1.x-l1.p2.x; </span><br>160.  <span> d = l2.p1.x-l2.p2.x; </span><br>161.  <span> ret = dou2int(cross(l1.p1,l1.p2,l2.p1)); </span><br>162.  <span> </span><span class="keyword">if</span><span>((a==b) &amp; (c<em>d&lt;</em></span><span class="number">0</span><span>) &amp;&amp; (</span><span class="number">0</span><span> != ret)) </span><br>163.  <span> { </span><br>164.  <span> </span><span class="comment">//printf(“%f  %f   %f   %f\n”,l1.p1.x,l1.p1.y,l1.p2.x,l1.p2.y); </span><span> </span><br>165.  <span> </span><span class="comment">//printf(“%f  %f   %f   %f\n”,l2.p1.x,l2.p1.y,l2.p2.x,l2.p2.y); </span><span> </span><br>166.  <span> </span><span class="keyword">return</span><span> </span><span class="keyword">true</span><span> </span><br>167.  <span> } </span><br>168.  <span> </span><span class="keyword">return</span><span> </span><span class="keyword">false</span><span> </span><br>169.  <span>} </span><br>170.  <span> </span><br>171.  <span class="comment">/ </span><br>172.  <span><span class="comment"> work 求半平面交 最后的顶点存在pg数组里面 </span> </span><br>173.  <span><span class="comment"> 用到上面的TPoint TLine abcLine结构体 </span> </span><br>174.  <span><span class="comment"> 会用到上面的 </span> </span><br>175.  <span><span class="comment"> check    :判断当前测试的直线是否在一直区域的范围内 </span> </span><br>176.  <span><span class="comment"> dou2int  :double转int  &lt;-eps对应-1 &gt;eps 对应1 否则为0 </span> </span><br>177.  <span><span class="comment"> cross    :算叉积 </span> </span><br>178.  <span><span class="comment"> Get_jiao :由两条直线得到交点 </span> </span><br>179.  <span><span class="comment"> Get_line :由直线上的两个点得到直线的一般式 </span> </span><br>180.  <span><span class="comment"> cmp等函数:sort用的比较函数,首先是旋转角,如果旋转角 </span> </span><br>181.  <span><span class="comment"> 一样的话,那么要求松的放到前面,这样后面好写点 </span> </span><br>182.  <span><span class="comment"> <em>/</em></span><span> </span></span><br>183.  <span class="keyword">void</span><span> work() </span><br>184.  <span>{ </span><br>185.  <span> sort(line,line+n,cmp); </span><br>186.  <span> </span><span class="comment">/首先对所有直线进行排序<em>/</em></span><span> </span><br>187.  <span> </span><span class="comment">/<strong> </strong></span><br>188.  <span><span class="comment"> 把平行且限制宽的直线去掉 </span> </span><br>189.  <span><span class="comment"> /</span><span> </span></span><br>190.  <span> </span><span class="keyword">for</span><span>(</span><span class="keyword">int</span><span> i=</span><span class="number">1</span><span>i<n;i++) <="" span=""><br>191.  <span> { </span><br>192.  <span> </span><span class="keyword">if</span><span>(dou2int(line[i].angle-line[i-</span><span class="number">1</span><span>].angle)==</span><span class="number">0</span><span>) </span><br>193.  <span> { </span><br>194.  <span> memmove(line+i-</span><span class="number">1</span><span>,line+i,(n-i)sizeof(line[</span><span class="number">0</span><span>])); </span><br>195.  <span> n–; </span><br>196.  <span> i–;</span><span class="comment">/<em>防止多条直线平行</em>/</span><span> </span><br>197.  <span> } </span><br>198.  <span> } </span><br>199.  <span> </span><span class="comment">/<em>上面的for循环对直线进行”去重”</em>/</span><span> </span><br>200.  <span> </span><span class="keyword">int</span><span> top,bot; </span><br>201.  <span> bot = </span><span class="number">1</span><span> </span><br>202.  <span> top=</span><span class="number">2</span><span> </span><br>203.  <span> dq[bot]=line[</span><span class="number">0</span><span>]; </span><br>204.  <span> dq[top]=line[</span><span class="number">1</span><span>]; </span><br>205.  <span> </span><br>206.  <span> </span><span class="comment">/<strong> </strong></span><br>207.  <span><span class="comment"> 半平面交核心算法 </span> </span><br>208.  <span><span class="comment"> 和melkman算法有点像,每次考虑当前直线 </span> </span><br>209.  <span><span class="comment"> 然后把这条直线加入到双端队列中 </span> </span><br>210.  <span><span class="comment"> /</span><span> </span></span><br>211.  <span> </span><span class="keyword">for</span><span>(</span><span class="keyword">int</span><span> i=</span><span class="number">2</span><span>i<n;i++) <="" span=""><br>212.  <span> { </span><br>213.  <span> </span><span class="keyword">while</span><span>(top&gt;bot &amp; check(dq[top-</span><span class="number">1</span><span>],dq[top],line[i])) </span><br>214.  <span> top–; </span><br>215.  <span> </span><span class="keyword">while</span><span>(top&gt;bot &amp; check(dq[bot+</span><span class="number">1</span><span>],dq[bot],line[i])) </span><br>216.  <span> bot++; </span><br>217.  <span> </span><br>218.  <span> dq[++top]=line[i]; </span><br>219.  <span> </span><br>220.  <span> } </span><br>221.  <span> </span><br>222.  <span> </span><span class="keyword">while</span><span>(top&gt;bot &amp; check(dq[top-</span><span class="number">1</span><span>],dq[top],dq[bot])) </span><br>223.  <span> top–; </span><br>224.  <span> </span><span class="keyword">while</span><span>(top&gt;bot &amp; check(dq[bot+</span><span class="number">1</span><span>],dq[bot],dq[top])) </span><br>225.  <span> bot++; </span><br>226.  <span> dq[–bot]=dq[top];</span><span class="comment">/<em>把最后一条直线加到最前面 这样方便计算</em>/</span><span> </span><br>227.  <span> </span><br>228.  <span> </span><span class="comment">/<strong> </strong></span><br>229.  <span><span class="comment"> 输出由题目决定 这里表示无闭合区域 </span> </span><br>230.  <span><span class="comment"> /</span><span> </span></span><br>231.  <span> </span><span class="keyword">if</span><span>(top-bot&lt;</span><span class="number">3</span><span>) </span><br>232.  <span> {</span><span class="comment">/<em>因为上面加了一条直线 所以这里是3</em>/</span><span> </span><br>233.  <span> printf(</span><span class="string">“0.0\n”</span><span>); </span><br>234.  <span> </span><span class="keyword">return</span><span> ; </span><br>235.  <span> } </span><br>236.  <span> idx=</span><span class="number">0</span><span> </span><br>237.  <span> </span><span class="keyword">for</span><span>(</span><span class="keyword">int</span><span> i=bot;i<top;i++) <="" span=""><br>238.  <span> pg[idx++] = Get_jiao(dq[i],dq[i+</span><span class="number">1</span><span>]); </span><br>239.  <span> idx–; </span><br>240.  <span> </span><span class="comment">/<em>下面用叉积算面积</em>/</span><span> </span><br>241.  <span> </span><span class="keyword">double</span><span> ans=pg[idx].x<em>pg[</em></span><span class="number">0</span><span>].y-pg[</span><span class="number">0</span><span>].xpg[idx].y; </span><br>242.  <span> </span><span class="keyword">for</span><span>(</span><span class="keyword">int</span><span> i=</span><span class="number">0</span><span>i<idx;i++) <="" span=""><br>243.  <span> ans += pg[i].x<em>pg[i+</em></span><span class="number">1</span><span>].y-pg[i+</span><span class="number">1</span><span>].xpg[i].y; </span><br>244.  <span> ans /= </span><span class="number">2.0</span><span> </span><br>245.  <span> </span><span class="keyword">if</span><span>(ans &lt; </span><span class="number">0</span><span>)</span><span class="comment">/<em>如果是负的话转为正的</em>/</span><span> </span><br>246.  <span> ans = -ans; </span><br>247.  <span> </span><span class="comment">/<em> </em></span><br>248.  <span><span class="comment"> 这里ans = -ans要注意别把0转化为-0了 </span> </span><br>249.  <span><span class="comment"> 比如写成ans=ans&gt;0?ans:-ans;的话会把0变成-0; </span> </span><br>250.  <span><span class="comment"> /</span><span> </span></span><br>251.  <span> printf(</span><span class="string">“%.1f\n”</span><span>,ans); </span><br>252.  <span>} </span><br>253.  <span> </span><br>254.  <span class="keyword">int</span><span> main(</span><span class="keyword">void</span><span>) </span><br>255.  <span>{ </span><br>256.  <span> #ifndef ONLINE_JUDGE </span><br>257.  <span> freopen(</span><span class="string">“2451.in”</span><span>,</span><span class="string">“r”</span><span>,stdin); </span><br>258.  <span> freopen(</span><span class="string">“2451.out”</span><span>,</span><span class="string">“w”</span><span>,stdout); </span><br>259.  <span> #endif </span><br>260.  <span> scanf(</span><span class="string">“%d”</span><span>,n); </span><br>261.  <span> input(); </span><br>262.  <span> work(); </span><br>263.  <span> </span><span class="keyword">return</span><span> </span><span class="number">0</span><span> </span><br>264.  <span>} </span><br></idx;i++)></span></top;i++)></span></n;i++)></span></n;i++)></span></n;i++)></span></div>

	
	</div>
</div>

           
		

		</div>

		<!-- pagination -->
		<div>
  		<center>
		<div class="pagination">
<ul class="pagination">
	 
		
    	<li class="prev"><a href="/page/10/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i> Anterior</a></li>
  		

        <li><a href="/"><i class="fa fa-home"></i>Home</a></li>

		
		   <li class="next"> <a href="/page/12/" class="alignright next">Próximo<i class="fa fa-arrow-circle-o-right"></i></a> </li>          
        
	
</ul>
</div>

  		</center>
		</div>

		
		
	</div> <!-- col-md-9 -->

	
		<div class="col-md-3">
	<div id="sidebar">
	
			
  <div id="site_search">
   <div class="form-group">
    <input type="text" id="local-search-input" name="q" results="0" placeholder="Busca" class="st-search-input st-default-search-input form-control"/>
   </div>  
  <div id="local-search-result"></div>
  </div>


		
			
	<div class="widget">
		<h4>Categorias</h4>
		<ul class="tag_box inline list-unstyled">
		
			<li><a href="/categories/ACM/">ACM<span>16</span></a></li>
		
			<li><a href="/categories/Algorithm/">Algorithm<span>14</span></a></li>
		
			<li><a href="/categories/HDU/">HDU<span>9</span></a></li>
		
			<li><a href="/categories/ACM/HDU/">HDU<span>1</span></a></li>
		
			<li><a href="/categories/Linux/">Linux<span>32</span></a></li>
		
			<li><a href="/categories/POJ/">POJ<span>6</span></a></li>
		
			<li><a href="/categories/Linux/TeX/">TeX<span>1</span></a></li>
		
			<li><a href="/categories/USACO/">USACO<span>21</span></a></li>
		
			<li><a href="/categories/Uncategorized/">Uncategorized<span>3</span></a></li>
		
			<li><a href="/categories/Visual-C/">Visual C++<span>1</span></a></li>
		
			<li><a href="/categories/实时计算/复盘/problem-solve/">problem_solve<span>1</span></a></li>
		
			<li><a href="/categories/wordpress/">wordpress<span>8</span></a></li>
		
			<li><a href="/categories/具体数学/">具体数学<span>2</span></a></li>
		
			<li><a href="/categories/分布式系统/">分布式系统<span>9</span></a></li>
		
			<li><a href="/categories/实时计算/复盘/">复盘<span>1</span></a></li>
		
			<li><a href="/categories/实时计算/">实时计算<span>7</span></a></li>
		
			<li><a href="/categories/分布式系统/实时计算/">实时计算<span>5</span></a></li>
		
			<li><a href="/categories/我的生活/想清楚/">想清楚<span>1</span></a></li>
		
			<li><a href="/categories/想清楚/">想清楚<span>2</span></a></li>
		
			<li><a href="/categories/成长/">成长<span>3</span></a></li>
		
			<li><a href="/categories/我的生活/">我的生活<span>9</span></a></li>
		
			<li><a href="/categories/所谓开源/">所谓开源<span>3</span></a></li>
		
			<li><a href="/categories/POJ/数学/">数学<span>2</span></a></li>
		
			<li><a href="/categories/数学/">数学<span>2</span></a></li>
		
			<li><a href="/categories/Algorithm/数学/">数学<span>1</span></a></li>
		
			<li><a href="/categories/源码阅读/">源码阅读<span>1</span></a></li>
		
			<li><a href="/categories/分布式系统/实时计算/源码阅读/">源码阅读<span>1</span></a></li>
		
			<li><a href="/categories/计算机图形学图像处理/">计算机图形学图像处理<span>1</span></a></li>
		
			<li><a href="/categories/Linux/计算机图形学图像处理/">计算机图形学图像处理<span>1</span></a></li>
		
			<li><a href="/categories/Algorithm/计算机基础/">计算机基础<span>1</span></a></li>
		
			<li><a href="/categories/Linux/计算机基础/">计算机基础<span>2</span></a></li>
		
			<li><a href="/categories/所谓开源/计算机基础/">计算机基础<span>1</span></a></li>
		
			<li><a href="/categories/计算机基础/">计算机基础<span>22</span></a></li>
		
			<li><a href="/categories/语言学习/计算机基础/">计算机基础<span>1</span></a></li>
		
			<li><a href="/categories/计算机安全/">计算机安全<span>3</span></a></li>
		
			<li><a href="/categories/计算机基础/语言学习/">语言学习<span>1</span></a></li>
		
			<li><a href="/categories/语言学习/">语言学习<span>2</span></a></li>
		
		</ul>
	</div>

		
			
	<div class="widget">
		<h4>Tag Cloud</h4>
		<ul class="tag_box inline list-unstyled">		
		
			<li><a href="/tags/dag/">dag<span>1</span></a></li>
		
			<li><a href="/tags/thinking/">thinking<span>2</span></a></li>
		
			<li><a href="/tags/at-least-once/">at-least-once<span>3</span></a></li>
		
			<li><a href="/tags/The-Little-Scheme/">The Little Scheme<span>1</span></a></li>
		
			<li><a href="/tags/source-code/">source-code<span>1</span></a></li>
		
			<li><a href="/tags/沟通/">沟通<span>1</span></a></li>
		
			<li><a href="/tags/greedy-algorithm/">greedy algorithm<span>1</span></a></li>
		
			<li><a href="/tags/latex/">latex<span>1</span></a></li>
		
			<li><a href="/tags/剪枝/">剪枝<span>1</span></a></li>
		
			<li><a href="/tags/timestamp/">timestamp<span>1</span></a></li>
		
			<li><a href="/tags/QQ/">QQ<span>1</span></a></li>
		
			<li><a href="/tags/google-adsense/">google-adsense<span>1</span></a></li>
		
			<li><a href="/tags/binary-tree/">binary-tree<span>1</span></a></li>
		
			<li><a href="/tags/tasksetmanager/">tasksetmanager<span>1</span></a></li>
		
			<li><a href="/tags/memset/">memset<span>1</span></a></li>
		
			<li><a href="/tags/dijkstra/">dijkstra<span>1</span></a></li>
		
			<li><a href="/tags/real-time-computing/">real_time-computing<span>2</span></a></li>
		
			<li><a href="/tags/USACO/">USACO<span>2</span></a></li>
		
			<li><a href="/tags/ssh/">ssh<span>1</span></a></li>
		
			<li><a href="/tags/欧拉函数/">欧拉函数<span>3</span></a></li>
		
		
		   <li><a href="/tags">...<span>292</span></a></li>
		 
		</ul>
	</div>


		
			
<div class="widget">
  <h4>Posts recentes</h4>
  <ul class="entry list-unstyled">
    
      <li>
        <a href="/2017/12/03/tasksetmanager/" ><i class="fa fa-file-o"></i>tasksetmanager</a>
      </li>
    
      <li>
        <a href="/2017/11/27/TaskScheduler/" ><i class="fa fa-file-o"></i>TaskScheduler</a>
      </li>
    
      <li>
        <a href="/2017/11/20/git-inside/" ><i class="fa fa-file-o"></i>git inside</a>
      </li>
    
      <li>
        <a href="/2017/11/09/django-configuration-in-action/" ><i class="fa fa-file-o"></i>django-configuration in act...</a>
      </li>
    
      <li>
        <a href="/2017/10/16/spark-dagscheduler/" ><i class="fa fa-file-o"></i>spark_dagscheduler</a>
      </li>
    
  </ul>
</div>

		
			
<div class="widget">
	<h4>Links</h4>
	<ul class="blogroll list-unstyled">
	
		<li><i class="fa fa-github"></i><a href="http://www.github.com/klion26" title="My Github account." target="_blank"]);">My Github</a></li>
	
		<li><i class=""></i><a href="http://l34rner.github.io/" title="A blog focus on security!" target="_blank"]);">Debug0</a></li>
	
		<li><i class=""></i><a href="http://www.programlife.net/" title="程序人生" target="_blank"]);">代码疯子</a></li>
	
		<li><i class=""></i><a href="http://www.narutoacm.com/" title="NARUTOACM" target="_blank"]);">NARUTOACM</a></li>
	
		<li><i class=""></i><a href="http://www.tanglei.name/" title="tanglei 的 blog" target="_blank"]);">tanglei的blog</a></li>
	
		<li><i class=""></i><a href="http://www.microspaze.com/" title="微空间" target="_blank"]);">微空间</a></li>
	
		<li><i class=""></i><a href="http://www.toutian.org/" title="小昭的荒地" target="_blank"]);">小昭的荒地</a></li>
	
		<li><i class=""></i><a href="https://cosx.me/" title="异想天开" target="_blank"]);">异想天开</a></li>
	
		<li><i class=""></i><a href="http://www.xpc-yx.com/" title="远行" target="_blank"]);">远行</a></li>
	
		<li><i class=""></i><a href="http://www.zhangxc.com/" title="张学程" target="_blank"]);">张学程</a></li>
	
	</ul>
</div>


		
			<!-- calendar widget -->

  <script src="/js/calendar.js"></script>
  <script src="/js/languages.js"></script>
  <script type="text/javascript">
    $(function() {
    
      $('#calendar').aCalendar('zh-CN',{single:undefined, root:'undefined'});
    
    });
  </script>


<div class="widget-wrap">
  <h3 class="widget-title">日历云</h3>
  <div class="widget">
    <div id="calendar"></div>
  </div>
</div
		
	</div> <!-- sidebar -->
</div> <!-- col-md-3 -->

	
	
</div> <!-- row-fluid -->


	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2017 klion26
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>.    
</p> </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>

</body>
   </html>
